var LI=Object.defineProperty;var RI=(t,e,n)=>e in t?LI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Mt=(t,e,n)=>RI(t,typeof e!="symbol"?e+"":e,n);function jI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var K1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function MI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var b3={exports:{}},P0={},x3={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=Symbol.for("react.element"),OI=Symbol.for("react.portal"),FI=Symbol.for("react.fragment"),VI=Symbol.for("react.strict_mode"),BI=Symbol.for("react.profiler"),zI=Symbol.for("react.provider"),UI=Symbol.for("react.context"),$I=Symbol.for("react.forward_ref"),qI=Symbol.for("react.suspense"),HI=Symbol.for("react.memo"),WI=Symbol.for("react.lazy"),Z_=Symbol.iterator;function GI(t){return t===null||typeof t!="object"?null:(t=Z_&&t[Z_]||t["@@iterator"],typeof t=="function"?t:null)}var S3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A3=Object.assign,E3={};function Vh(t,e,n){this.props=t,this.context=e,this.refs=E3,this.updater=n||S3}Vh.prototype.isReactComponent={};Vh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N3(){}N3.prototype=Vh.prototype;function l5(t,e,n){this.props=t,this.context=e,this.refs=E3,this.updater=n||S3}var c5=l5.prototype=new N3;c5.constructor=l5;A3(c5,Vh.prototype);c5.isPureReactComponent=!0;var eb=Array.isArray,k3=Object.prototype.hasOwnProperty,u5={current:null},T3={key:!0,ref:!0,__self:!0,__source:!0};function P3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)k3.call(e,r)&&!T3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lp,type:t,key:s,ref:o,props:i,_owner:u5.current}}function KI(t,e){return{$$typeof:lp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function h5(t){return typeof t=="object"&&t!==null&&t.$$typeof===lp}function YI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tb=/\/+/g;function Y1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YI(""+t.key):e.toString(36)}function Qg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lp:case OI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Y1(o,0):r,eb(i)?(n="",t!=null&&(n=t.replace(tb,"$&/")+"/"),Qg(i,e,n,"",function(c){return c})):i!=null&&(h5(i)&&(i=KI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",eb(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Y1(s,a);o+=Qg(s,e,n,l,i)}else if(l=GI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Y1(s,a++),o+=Qg(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rg(t,e,n){if(t==null)return t;var r=[],i=0;return Qg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},Xg={transition:null},XI={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:Xg,ReactCurrentOwner:u5};function I3(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:rg,forEach:function(t,e,n){rg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return rg(t,function(){e++}),e},toArray:function(t){return rg(t,function(e){return e})||[]},only:function(t){if(!h5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Et.Component=Vh;Et.Fragment=FI;Et.Profiler=BI;Et.PureComponent=l5;Et.StrictMode=VI;Et.Suspense=qI;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XI;Et.act=I3;Et.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=A3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=u5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)k3.call(e,l)&&!T3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:lp,type:t.type,key:i,ref:s,props:r,_owner:o}};Et.createContext=function(t){return t={$$typeof:UI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zI,_context:t},t.Consumer=t};Et.createElement=P3;Et.createFactory=function(t){var e=P3.bind(null,t);return e.type=t,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(t){return{$$typeof:$I,render:t}};Et.isValidElement=h5;Et.lazy=function(t){return{$$typeof:WI,_payload:{_status:-1,_result:t},_init:QI}};Et.memo=function(t,e){return{$$typeof:HI,type:t,compare:e===void 0?null:e}};Et.startTransition=function(t){var e=Xg.transition;Xg.transition={};try{t()}finally{Xg.transition=e}};Et.unstable_act=I3;Et.useCallback=function(t,e){return Zr.current.useCallback(t,e)};Et.useContext=function(t){return Zr.current.useContext(t)};Et.useDebugValue=function(){};Et.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};Et.useEffect=function(t,e){return Zr.current.useEffect(t,e)};Et.useId=function(){return Zr.current.useId()};Et.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};Et.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};Et.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};Et.useMemo=function(t,e){return Zr.current.useMemo(t,e)};Et.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};Et.useRef=function(t){return Zr.current.useRef(t)};Et.useState=function(t){return Zr.current.useState(t)};Et.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};Et.useTransition=function(){return Zr.current.useTransition()};Et.version="18.3.1";x3.exports=Et;var te=x3.exports;const At=DI(te),vh=jI({__proto__:null,default:At},[te]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI=te,ZI=Symbol.for("react.element"),eC=Symbol.for("react.fragment"),tC=Object.prototype.hasOwnProperty,nC=JI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rC={key:!0,ref:!0,__self:!0,__source:!0};function C3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tC.call(e,r)&&!rC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZI,type:t,key:s,ref:o,props:i,_owner:nC.current}}P0.Fragment=eC;P0.jsx=C3;P0.jsxs=C3;b3.exports=P0;var v=b3.exports,L3={exports:{}},Di={},R3={exports:{}},j3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ee){var se=Y.length;Y.push(ee);e:for(;0<se;){var me=se-1>>>1,O=Y[me];if(0<i(O,ee))Y[me]=ee,Y[se]=O,se=me;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ee=Y[0],se=Y.pop();if(se!==ee){Y[0]=se;e:for(var me=0,O=Y.length,z=O>>>1;me<z;){var q=2*(me+1)-1,J=Y[q],re=q+1,he=Y[re];if(0>i(J,se))re<O&&0>i(he,J)?(Y[me]=he,Y[re]=se,me=re):(Y[me]=J,Y[q]=se,me=q);else if(re<O&&0>i(he,se))Y[me]=he,Y[re]=se,me=re;else break e}}return ee}function i(Y,ee){var se=Y.sortIndex-ee.sortIndex;return se!==0?se:Y.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,g=3,p=!1,_=!1,x=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=Y)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function D(Y){if(x=!1,A(Y),!_)if(n(l)!==null)_=!0,X(F);else{var ee=n(c);ee!==null&&Z(D,ee.startTime-Y)}}function F(Y,ee){_=!1,x&&(x=!1,y(S),S=-1),p=!0;var se=g;try{for(A(ee),d=n(l);d!==null&&(!(d.expirationTime>ee)||Y&&!k());){var me=d.callback;if(typeof me=="function"){d.callback=null,g=d.priorityLevel;var O=me(d.expirationTime<=ee);ee=t.unstable_now(),typeof O=="function"?d.callback=O:d===n(l)&&r(l),A(ee)}else r(l);d=n(l)}if(d!==null)var z=!0;else{var q=n(c);q!==null&&Z(D,q.startTime-ee),z=!1}return z}finally{d=null,g=se,p=!1}}var U=!1,I=null,S=-1,C=5,L=-1;function k(){return!(t.unstable_now()-L<C)}function P(){if(I!==null){var Y=t.unstable_now();L=Y;var ee=!0;try{ee=I(!0,Y)}finally{ee?j():(U=!1,I=null)}}else U=!1}var j;if(typeof w=="function")j=function(){w(P)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=P,j=function(){ae.postMessage(null)}}else j=function(){N(P,0)};function X(Y){I=Y,U||(U=!0,j())}function Z(Y,ee){S=N(function(){Y(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,X(F))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Y){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var se=g;g=ee;try{return Y()}finally{g=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=g;g=Y;try{return ee()}finally{g=se}},t.unstable_scheduleCallback=function(Y,ee,se){var me=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?me+se:me):se=me,Y){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=se+O,Y={id:u++,callback:ee,priorityLevel:Y,startTime:se,expirationTime:O,sortIndex:-1},se>me?(Y.sortIndex=se,e(c,Y),n(l)===null&&Y===n(c)&&(x?(y(S),S=-1):x=!0,Z(D,se-me))):(Y.sortIndex=O,e(l,Y),_||p||(_=!0,X(F))),Y},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(Y){var ee=g;return function(){var se=g;g=ee;try{return Y.apply(this,arguments)}finally{g=se}}}})(j3);R3.exports=j3;var iC=R3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=te,ji=iC;function Oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D3=new Set,Af={};function tu(t,e){yh(t,e),yh(t+"Capture",e)}function yh(t,e){for(Af[t]=e,t=0;t<e.length;t++)D3.add(e[t])}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ly=Object.prototype.hasOwnProperty,oC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nb={},rb={};function aC(t){return ly.call(rb,t)?!0:ly.call(nb,t)?!1:oC.test(t)?rb[t]=!0:(nb[t]=!0,!1)}function lC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cC(t,e,n,r){if(e===null||typeof e>"u"||lC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ei(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wr[t]=new ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wr[e]=new ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wr[t]=new ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wr[t]=new ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wr[t]=new ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wr[t]=new ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wr[t]=new ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wr[t]=new ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wr[t]=new ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var d5=/[\-:]([a-z])/g;function f5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(d5,f5);wr[e]=new ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(d5,f5);wr[e]=new ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(d5,f5);wr[e]=new ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wr[t]=new ei(t,1,!1,t.toLowerCase(),null,!1,!1)});wr.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wr[t]=new ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function p5(t,e,n,r){var i=wr.hasOwnProperty(e)?wr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cC(e,n,i,r)&&(n=null),r||i===null?aC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ha=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ig=Symbol.for("react.element"),$u=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),g5=Symbol.for("react.strict_mode"),cy=Symbol.for("react.profiler"),M3=Symbol.for("react.provider"),O3=Symbol.for("react.context"),m5=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),hy=Symbol.for("react.suspense_list"),v5=Symbol.for("react.memo"),Qa=Symbol.for("react.lazy"),F3=Symbol.for("react.offscreen"),ib=Symbol.iterator;function wd(t){return t===null||typeof t!="object"?null:(t=ib&&t[ib]||t["@@iterator"],typeof t=="function"?t:null)}var An=Object.assign,Q1;function Fd(t){if(Q1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Q1=e&&e[1]||""}return`
`+Q1+t}var X1=!1;function J1(t,e){if(!t||X1)return"";X1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{X1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fd(t):""}function uC(t){switch(t.tag){case 5:return Fd(t.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return t=J1(t.type,!1),t;case 11:return t=J1(t.type.render,!1),t;case 1:return t=J1(t.type,!0),t;default:return""}}function dy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qu:return"Fragment";case $u:return"Portal";case cy:return"Profiler";case g5:return"StrictMode";case uy:return"Suspense";case hy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O3:return(t.displayName||"Context")+".Consumer";case M3:return(t._context.displayName||"Context")+".Provider";case m5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case v5:return e=t.displayName||null,e!==null?e:dy(t.type)||"Memo";case Qa:e=t._payload,t=t._init;try{return dy(t(e))}catch{}}return null}function hC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dy(e);case 8:return e===g5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function V3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dC(t){var e=V3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sg(t){t._valueTracker||(t._valueTracker=dC(t))}function B3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=V3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Em(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fy(t,e){var n=e.checked;return An({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function sb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z3(t,e){e=e.checked,e!=null&&p5(t,"checked",e,!1)}function py(t,e){z3(t,e);var n=Rl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gy(t,e.type,n):e.hasOwnProperty("defaultValue")&&gy(t,e.type,Rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ob(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gy(t,e,n){(e!=="number"||Em(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vd=Array.isArray;function ih(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function my(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return An({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ab(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Oe(92));if(Vd(n)){if(1<n.length)throw Error(Oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rl(n)}}function U3(t,e){var n=Rl(e.value),r=Rl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var og,q3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(og=og||document.createElement("div"),og.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=og.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ef(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fC=["Webkit","ms","Moz","O"];Object.keys(Zd).forEach(function(t){fC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zd[e]=Zd[t]})});function H3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zd.hasOwnProperty(t)&&Zd[t]?(""+e).trim():e+"px"}function W3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=H3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pC=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yy(t,e){if(e){if(pC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Oe(62))}}function wy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _y=null;function y5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var by=null,sh=null,oh=null;function cb(t){if(t=hp(t)){if(typeof by!="function")throw Error(Oe(280));var e=t.stateNode;e&&(e=j0(e),by(t.stateNode,t.type,e))}}function G3(t){sh?oh?oh.push(t):oh=[t]:sh=t}function K3(){if(sh){var t=sh,e=oh;if(oh=sh=null,cb(t),e)for(t=0;t<e.length;t++)cb(e[t])}}function Y3(t,e){return t(e)}function Q3(){}var Z1=!1;function X3(t,e,n){if(Z1)return t(e,n);Z1=!0;try{return Y3(t,e,n)}finally{Z1=!1,(sh!==null||oh!==null)&&(Q3(),K3())}}function Nf(t,e){var n=t.stateNode;if(n===null)return null;var r=j0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Oe(231,e,typeof n));return n}var xy=!1;if(ta)try{var _d={};Object.defineProperty(_d,"passive",{get:function(){xy=!0}}),window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{xy=!1}function gC(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ef=!1,Nm=null,km=!1,Sy=null,mC={onError:function(t){ef=!0,Nm=t}};function vC(t,e,n,r,i,s,o,a,l){ef=!1,Nm=null,gC.apply(mC,arguments)}function yC(t,e,n,r,i,s,o,a,l){if(vC.apply(this,arguments),ef){if(ef){var c=Nm;ef=!1,Nm=null}else throw Error(Oe(198));km||(km=!0,Sy=c)}}function nu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function J3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ub(t){if(nu(t)!==t)throw Error(Oe(188))}function wC(t){var e=t.alternate;if(!e){if(e=nu(t),e===null)throw Error(Oe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ub(i),t;if(s===r)return ub(i),e;s=s.sibling}throw Error(Oe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(n.alternate!==r)throw Error(Oe(190))}if(n.tag!==3)throw Error(Oe(188));return n.stateNode.current===n?t:e}function Z3(t){return t=wC(t),t!==null?eA(t):null}function eA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eA(t);if(e!==null)return e;t=t.sibling}return null}var tA=ji.unstable_scheduleCallback,hb=ji.unstable_cancelCallback,_C=ji.unstable_shouldYield,bC=ji.unstable_requestPaint,On=ji.unstable_now,xC=ji.unstable_getCurrentPriorityLevel,w5=ji.unstable_ImmediatePriority,nA=ji.unstable_UserBlockingPriority,Tm=ji.unstable_NormalPriority,SC=ji.unstable_LowPriority,rA=ji.unstable_IdlePriority,I0=null,ao=null;function AC(t){if(ao&&typeof ao.onCommitFiberRoot=="function")try{ao.onCommitFiberRoot(I0,t,void 0,(t.current.flags&128)===128)}catch{}}var Is=Math.clz32?Math.clz32:kC,EC=Math.log,NC=Math.LN2;function kC(t){return t>>>=0,t===0?32:31-(EC(t)/NC|0)|0}var ag=64,lg=4194304;function Bd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Bd(a):(s&=o,s!==0&&(r=Bd(s)))}else o=n&~i,o!==0?r=Bd(o):s!==0&&(r=Bd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Is(e),i=1<<n,r|=t[n],e&=~i;return r}function TC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Is(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=TC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ay(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iA(){var t=ag;return ag<<=1,!(ag&4194240)&&(ag=64),t}function ev(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Is(e),t[e]=n}function IC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Is(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Is(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qt=0;function sA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oA,b5,aA,lA,cA,Ey=!1,cg=[],ml=null,vl=null,yl=null,kf=new Map,Tf=new Map,Ja=[],CC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function db(t,e){switch(t){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":vl=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":kf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tf.delete(e.pointerId)}}function bd(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hp(e),e!==null&&b5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LC(t,e,n,r,i){switch(e){case"focusin":return ml=bd(ml,t,e,n,r,i),!0;case"dragenter":return vl=bd(vl,t,e,n,r,i),!0;case"mouseover":return yl=bd(yl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return kf.set(s,bd(kf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Tf.set(s,bd(Tf.get(s)||null,t,e,n,r,i)),!0}return!1}function uA(t){var e=Nc(t.target);if(e!==null){var n=nu(e);if(n!==null){if(e=n.tag,e===13){if(e=J3(n),e!==null){t.blockedOn=e,cA(t.priority,function(){aA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ny(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_y=r,n.target.dispatchEvent(r),_y=null}else return e=hp(n),e!==null&&b5(e),t.blockedOn=n,!1;e.shift()}return!0}function fb(t,e,n){Jg(t)&&n.delete(e)}function RC(){Ey=!1,ml!==null&&Jg(ml)&&(ml=null),vl!==null&&Jg(vl)&&(vl=null),yl!==null&&Jg(yl)&&(yl=null),kf.forEach(fb),Tf.forEach(fb)}function xd(t,e){t.blockedOn===e&&(t.blockedOn=null,Ey||(Ey=!0,ji.unstable_scheduleCallback(ji.unstable_NormalPriority,RC)))}function Pf(t){function e(i){return xd(i,t)}if(0<cg.length){xd(cg[0],t);for(var n=1;n<cg.length;n++){var r=cg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ml!==null&&xd(ml,t),vl!==null&&xd(vl,t),yl!==null&&xd(yl,t),kf.forEach(e),Tf.forEach(e),n=0;n<Ja.length;n++)r=Ja[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ja.length&&(n=Ja[0],n.blockedOn===null);)uA(n),n.blockedOn===null&&Ja.shift()}var ah=ha.ReactCurrentBatchConfig,Im=!0;function jC(t,e,n,r){var i=Qt,s=ah.transition;ah.transition=null;try{Qt=1,x5(t,e,n,r)}finally{Qt=i,ah.transition=s}}function DC(t,e,n,r){var i=Qt,s=ah.transition;ah.transition=null;try{Qt=4,x5(t,e,n,r)}finally{Qt=i,ah.transition=s}}function x5(t,e,n,r){if(Im){var i=Ny(t,e,n,r);if(i===null)uv(t,e,r,Cm,n),db(t,r);else if(LC(i,t,e,n,r))r.stopPropagation();else if(db(t,r),e&4&&-1<CC.indexOf(t)){for(;i!==null;){var s=hp(i);if(s!==null&&oA(s),s=Ny(t,e,n,r),s===null&&uv(t,e,r,Cm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else uv(t,e,r,null,n)}}var Cm=null;function Ny(t,e,n,r){if(Cm=null,t=y5(r),t=Nc(t),t!==null)if(e=nu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=J3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cm=t,null}function hA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xC()){case w5:return 1;case nA:return 4;case Tm:case SC:return 16;case rA:return 536870912;default:return 16}default:return 16}}var ll=null,S5=null,Zg=null;function dA(){if(Zg)return Zg;var t,e=S5,n=e.length,r,i="value"in ll?ll.value:ll.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zg=i.slice(t,1<r?1-r:void 0)}function em(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ug(){return!0}function pb(){return!1}function Mi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ug:pb,this.isPropagationStopped=pb,this}return An(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ug)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ug)},persist:function(){},isPersistent:ug}),e}var Bh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A5=Mi(Bh),up=An({},Bh,{view:0,detail:0}),MC=Mi(up),tv,nv,Sd,C0=An({},up,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sd&&(Sd&&t.type==="mousemove"?(tv=t.screenX-Sd.screenX,nv=t.screenY-Sd.screenY):nv=tv=0,Sd=t),tv)},movementY:function(t){return"movementY"in t?t.movementY:nv}}),gb=Mi(C0),OC=An({},C0,{dataTransfer:0}),FC=Mi(OC),VC=An({},up,{relatedTarget:0}),rv=Mi(VC),BC=An({},Bh,{animationName:0,elapsedTime:0,pseudoElement:0}),zC=Mi(BC),UC=An({},Bh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$C=Mi(UC),qC=An({},Bh,{data:0}),mb=Mi(qC),HC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GC[t])?!!e[t]:!1}function E5(){return KC}var YC=An({},up,{key:function(t){if(t.key){var e=HC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=em(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E5,charCode:function(t){return t.type==="keypress"?em(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?em(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QC=Mi(YC),XC=An({},C0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vb=Mi(XC),JC=An({},up,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E5}),ZC=Mi(JC),e6=An({},Bh,{propertyName:0,elapsedTime:0,pseudoElement:0}),t6=Mi(e6),n6=An({},C0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r6=Mi(n6),i6=[9,13,27,32],N5=ta&&"CompositionEvent"in window,tf=null;ta&&"documentMode"in document&&(tf=document.documentMode);var s6=ta&&"TextEvent"in window&&!tf,fA=ta&&(!N5||tf&&8<tf&&11>=tf),yb=" ",wb=!1;function pA(t,e){switch(t){case"keyup":return i6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hu=!1;function o6(t,e){switch(t){case"compositionend":return gA(e);case"keypress":return e.which!==32?null:(wb=!0,yb);case"textInput":return t=e.data,t===yb&&wb?null:t;default:return null}}function a6(t,e){if(Hu)return t==="compositionend"||!N5&&pA(t,e)?(t=dA(),Zg=S5=ll=null,Hu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fA&&e.locale!=="ko"?null:e.data;default:return null}}var l6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _b(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l6[t.type]:e==="textarea"}function mA(t,e,n,r){G3(r),e=Lm(e,"onChange"),0<e.length&&(n=new A5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nf=null,If=null;function c6(t){kA(t,0)}function L0(t){var e=Ku(t);if(B3(e))return t}function u6(t,e){if(t==="change")return e}var vA=!1;if(ta){var iv;if(ta){var sv="oninput"in document;if(!sv){var bb=document.createElement("div");bb.setAttribute("oninput","return;"),sv=typeof bb.oninput=="function"}iv=sv}else iv=!1;vA=iv&&(!document.documentMode||9<document.documentMode)}function xb(){nf&&(nf.detachEvent("onpropertychange",yA),If=nf=null)}function yA(t){if(t.propertyName==="value"&&L0(If)){var e=[];mA(e,If,t,y5(t)),X3(c6,e)}}function h6(t,e,n){t==="focusin"?(xb(),nf=e,If=n,nf.attachEvent("onpropertychange",yA)):t==="focusout"&&xb()}function d6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return L0(If)}function f6(t,e){if(t==="click")return L0(e)}function p6(t,e){if(t==="input"||t==="change")return L0(e)}function g6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ls=typeof Object.is=="function"?Object.is:g6;function Cf(t,e){if(Ls(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ly.call(e,i)||!Ls(t[i],e[i]))return!1}return!0}function Sb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ab(t,e){var n=Sb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sb(n)}}function wA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _A(){for(var t=window,e=Em();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Em(t.document)}return e}function k5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function m6(t){var e=_A(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wA(n.ownerDocument.documentElement,n)){if(r!==null&&k5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ab(n,s);var o=Ab(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v6=ta&&"documentMode"in document&&11>=document.documentMode,Wu=null,ky=null,rf=null,Ty=!1;function Eb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ty||Wu==null||Wu!==Em(r)||(r=Wu,"selectionStart"in r&&k5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rf&&Cf(rf,r)||(rf=r,r=Lm(ky,"onSelect"),0<r.length&&(e=new A5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wu)))}function hg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gu={animationend:hg("Animation","AnimationEnd"),animationiteration:hg("Animation","AnimationIteration"),animationstart:hg("Animation","AnimationStart"),transitionend:hg("Transition","TransitionEnd")},ov={},bA={};ta&&(bA=document.createElement("div").style,"AnimationEvent"in window||(delete Gu.animationend.animation,delete Gu.animationiteration.animation,delete Gu.animationstart.animation),"TransitionEvent"in window||delete Gu.transitionend.transition);function R0(t){if(ov[t])return ov[t];if(!Gu[t])return t;var e=Gu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bA)return ov[t]=e[n];return t}var xA=R0("animationend"),SA=R0("animationiteration"),AA=R0("animationstart"),EA=R0("transitionend"),NA=new Map,Nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ul(t,e){NA.set(t,e),tu(e,[t])}for(var av=0;av<Nb.length;av++){var lv=Nb[av],y6=lv.toLowerCase(),w6=lv[0].toUpperCase()+lv.slice(1);Ul(y6,"on"+w6)}Ul(xA,"onAnimationEnd");Ul(SA,"onAnimationIteration");Ul(AA,"onAnimationStart");Ul("dblclick","onDoubleClick");Ul("focusin","onFocus");Ul("focusout","onBlur");Ul(EA,"onTransitionEnd");yh("onMouseEnter",["mouseout","mouseover"]);yh("onMouseLeave",["mouseout","mouseover"]);yh("onPointerEnter",["pointerout","pointerover"]);yh("onPointerLeave",["pointerout","pointerover"]);tu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tu("onBeforeInput",["compositionend","keypress","textInput","paste"]);tu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_6=new Set("cancel close invalid load scroll toggle".split(" ").concat(zd));function kb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yC(r,e,void 0,t),t.currentTarget=null}function kA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kb(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kb(i,a,c),s=l}}}if(km)throw t=Sy,km=!1,Sy=null,t}function pn(t,e){var n=e[Ry];n===void 0&&(n=e[Ry]=new Set);var r=t+"__bubble";n.has(r)||(TA(e,t,2,!1),n.add(r))}function cv(t,e,n){var r=0;e&&(r|=4),TA(n,t,r,e)}var dg="_reactListening"+Math.random().toString(36).slice(2);function Lf(t){if(!t[dg]){t[dg]=!0,D3.forEach(function(n){n!=="selectionchange"&&(_6.has(n)||cv(n,!1,t),cv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dg]||(e[dg]=!0,cv("selectionchange",!1,e))}}function TA(t,e,n,r){switch(hA(e)){case 1:var i=jC;break;case 4:i=DC;break;default:i=x5}n=i.bind(null,e,n,t),i=void 0,!xy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function uv(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Nc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}X3(function(){var c=s,u=y5(n),d=[];e:{var g=NA.get(t);if(g!==void 0){var p=A5,_=t;switch(t){case"keypress":if(em(n)===0)break e;case"keydown":case"keyup":p=QC;break;case"focusin":_="focus",p=rv;break;case"focusout":_="blur",p=rv;break;case"beforeblur":case"afterblur":p=rv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZC;break;case xA:case SA:case AA:p=zC;break;case EA:p=t6;break;case"scroll":p=MC;break;case"wheel":p=r6;break;case"copy":case"cut":case"paste":p=$C;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=vb}var x=(e&4)!==0,N=!x&&t==="scroll",y=x?g!==null?g+"Capture":null:g;x=[];for(var w=c,A;w!==null;){A=w;var D=A.stateNode;if(A.tag===5&&D!==null&&(A=D,y!==null&&(D=Nf(w,y),D!=null&&x.push(Rf(w,D,A)))),N)break;w=w.return}0<x.length&&(g=new p(g,_,null,n,u),d.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==_y&&(_=n.relatedTarget||n.fromElement)&&(Nc(_)||_[na]))break e;if((p||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=c,_=_?Nc(_):null,_!==null&&(N=nu(_),_!==N||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=c),p!==_)){if(x=gb,D="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=vb,D="onPointerLeave",y="onPointerEnter",w="pointer"),N=p==null?g:Ku(p),A=_==null?g:Ku(_),g=new x(D,w+"leave",p,n,u),g.target=N,g.relatedTarget=A,D=null,Nc(u)===c&&(x=new x(y,w+"enter",_,n,u),x.target=A,x.relatedTarget=N,D=x),N=D,p&&_)t:{for(x=p,y=_,w=0,A=x;A;A=Ru(A))w++;for(A=0,D=y;D;D=Ru(D))A++;for(;0<w-A;)x=Ru(x),w--;for(;0<A-w;)y=Ru(y),A--;for(;w--;){if(x===y||y!==null&&x===y.alternate)break t;x=Ru(x),y=Ru(y)}x=null}else x=null;p!==null&&Tb(d,g,p,x,!1),_!==null&&N!==null&&Tb(d,N,_,x,!0)}}e:{if(g=c?Ku(c):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var F=u6;else if(_b(g))if(vA)F=p6;else{F=d6;var U=h6}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(F=f6);if(F&&(F=F(t,c))){mA(d,F,n,u);break e}U&&U(t,g,c),t==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&gy(g,"number",g.value)}switch(U=c?Ku(c):window,t){case"focusin":(_b(U)||U.contentEditable==="true")&&(Wu=U,ky=c,rf=null);break;case"focusout":rf=ky=Wu=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,Eb(d,n,u);break;case"selectionchange":if(v6)break;case"keydown":case"keyup":Eb(d,n,u)}var I;if(N5)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Hu?pA(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(fA&&n.locale!=="ko"&&(Hu||S!=="onCompositionStart"?S==="onCompositionEnd"&&Hu&&(I=dA()):(ll=u,S5="value"in ll?ll.value:ll.textContent,Hu=!0)),U=Lm(c,S),0<U.length&&(S=new mb(S,t,null,n,u),d.push({event:S,listeners:U}),I?S.data=I:(I=gA(n),I!==null&&(S.data=I)))),(I=s6?o6(t,n):a6(t,n))&&(c=Lm(c,"onBeforeInput"),0<c.length&&(u=new mb("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}kA(d,e)})}function Rf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nf(t,n),s!=null&&r.unshift(Rf(t,s,i)),s=Nf(t,e),s!=null&&r.push(Rf(t,s,i))),t=t.return}return r}function Ru(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Nf(n,s),l!=null&&o.unshift(Rf(n,l,a))):i||(l=Nf(n,s),l!=null&&o.push(Rf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var b6=/\r\n?/g,x6=/\u0000|\uFFFD/g;function Pb(t){return(typeof t=="string"?t:""+t).replace(b6,`
`).replace(x6,"")}function fg(t,e,n){if(e=Pb(e),Pb(t)!==e&&n)throw Error(Oe(425))}function Rm(){}var Py=null,Iy=null;function Cy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ly=typeof setTimeout=="function"?setTimeout:void 0,S6=typeof clearTimeout=="function"?clearTimeout:void 0,Ib=typeof Promise=="function"?Promise:void 0,A6=typeof queueMicrotask=="function"?queueMicrotask:typeof Ib<"u"?function(t){return Ib.resolve(null).then(t).catch(E6)}:Ly;function E6(t){setTimeout(function(){throw t})}function hv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pf(e)}function wl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zh=Math.random().toString(36).slice(2),io="__reactFiber$"+zh,jf="__reactProps$"+zh,na="__reactContainer$"+zh,Ry="__reactEvents$"+zh,N6="__reactListeners$"+zh,k6="__reactHandles$"+zh;function Nc(t){var e=t[io];if(e)return e;for(var n=t.parentNode;n;){if(e=n[na]||n[io]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cb(t);t!==null;){if(n=t[io])return n;t=Cb(t)}return e}t=n,n=t.parentNode}return null}function hp(t){return t=t[io]||t[na],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ku(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Oe(33))}function j0(t){return t[jf]||null}var jy=[],Yu=-1;function $l(t){return{current:t}}function yn(t){0>Yu||(t.current=jy[Yu],jy[Yu]=null,Yu--)}function cn(t,e){Yu++,jy[Yu]=t.current,t.current=e}var jl={},zr=$l(jl),pi=$l(!1),$c=jl;function wh(t,e){var n=t.type.contextTypes;if(!n)return jl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gi(t){return t=t.childContextTypes,t!=null}function jm(){yn(pi),yn(zr)}function Lb(t,e,n){if(zr.current!==jl)throw Error(Oe(168));cn(zr,e),cn(pi,n)}function PA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Oe(108,hC(t)||"Unknown",i));return An({},n,r)}function Dm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jl,$c=zr.current,cn(zr,t),cn(pi,pi.current),!0}function Rb(t,e,n){var r=t.stateNode;if(!r)throw Error(Oe(169));n?(t=PA(t,e,$c),r.__reactInternalMemoizedMergedChildContext=t,yn(pi),yn(zr),cn(zr,t)):yn(pi),cn(pi,n)}var $o=null,D0=!1,dv=!1;function IA(t){$o===null?$o=[t]:$o.push(t)}function T6(t){D0=!0,IA(t)}function ql(){if(!dv&&$o!==null){dv=!0;var t=0,e=Qt;try{var n=$o;for(Qt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$o=null,D0=!1}catch(i){throw $o!==null&&($o=$o.slice(t+1)),tA(w5,ql),i}finally{Qt=e,dv=!1}}return null}var Qu=[],Xu=0,Mm=null,Om=0,Yi=[],Qi=0,qc=null,Ho=1,Wo="";function _c(t,e){Qu[Xu++]=Om,Qu[Xu++]=Mm,Mm=t,Om=e}function CA(t,e,n){Yi[Qi++]=Ho,Yi[Qi++]=Wo,Yi[Qi++]=qc,qc=t;var r=Ho;t=Wo;var i=32-Is(r)-1;r&=~(1<<i),n+=1;var s=32-Is(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ho=1<<32-Is(e)+i|n<<i|r,Wo=s+t}else Ho=1<<s|n<<i|r,Wo=t}function T5(t){t.return!==null&&(_c(t,1),CA(t,1,0))}function P5(t){for(;t===Mm;)Mm=Qu[--Xu],Qu[Xu]=null,Om=Qu[--Xu],Qu[Xu]=null;for(;t===qc;)qc=Yi[--Qi],Yi[Qi]=null,Wo=Yi[--Qi],Yi[Qi]=null,Ho=Yi[--Qi],Yi[Qi]=null}var Ri=null,Ii=null,wn=!1,ks=null;function LA(t,e){var n=Zi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ri=t,Ii=wl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ri=t,Ii=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qc!==null?{id:Ho,overflow:Wo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ri=t,Ii=null,!0):!1;default:return!1}}function Dy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function My(t){if(wn){var e=Ii;if(e){var n=e;if(!jb(t,e)){if(Dy(t))throw Error(Oe(418));e=wl(n.nextSibling);var r=Ri;e&&jb(t,e)?LA(r,n):(t.flags=t.flags&-4097|2,wn=!1,Ri=t)}}else{if(Dy(t))throw Error(Oe(418));t.flags=t.flags&-4097|2,wn=!1,Ri=t}}}function Db(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ri=t}function pg(t){if(t!==Ri)return!1;if(!wn)return Db(t),wn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cy(t.type,t.memoizedProps)),e&&(e=Ii)){if(Dy(t))throw RA(),Error(Oe(418));for(;e;)LA(t,e),e=wl(e.nextSibling)}if(Db(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ii=wl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ii=null}}else Ii=Ri?wl(t.stateNode.nextSibling):null;return!0}function RA(){for(var t=Ii;t;)t=wl(t.nextSibling)}function _h(){Ii=Ri=null,wn=!1}function I5(t){ks===null?ks=[t]:ks.push(t)}var P6=ha.ReactCurrentBatchConfig;function Ad(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Oe(309));var r=n.stateNode}if(!r)throw Error(Oe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Oe(284));if(!n._owner)throw Error(Oe(290,t))}return t}function gg(t,e){throw t=Object.prototype.toString.call(e),Error(Oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mb(t){var e=t._init;return e(t._payload)}function jA(t){function e(y,w){if(t){var A=y.deletions;A===null?(y.deletions=[w],y.flags|=16):A.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Sl(y,w),y.index=0,y.sibling=null,y}function s(y,w,A){return y.index=A,t?(A=y.alternate,A!==null?(A=A.index,A<w?(y.flags|=2,w):A):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,A,D){return w===null||w.tag!==6?(w=wv(A,y.mode,D),w.return=y,w):(w=i(w,A),w.return=y,w)}function l(y,w,A,D){var F=A.type;return F===qu?u(y,w,A.props.children,D,A.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Qa&&Mb(F)===w.type)?(D=i(w,A.props),D.ref=Ad(y,w,A),D.return=y,D):(D=am(A.type,A.key,A.props,null,y.mode,D),D.ref=Ad(y,w,A),D.return=y,D)}function c(y,w,A,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=_v(A,y.mode,D),w.return=y,w):(w=i(w,A.children||[]),w.return=y,w)}function u(y,w,A,D,F){return w===null||w.tag!==7?(w=Dc(A,y.mode,D,F),w.return=y,w):(w=i(w,A),w.return=y,w)}function d(y,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=wv(""+w,y.mode,A),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ig:return A=am(w.type,w.key,w.props,null,y.mode,A),A.ref=Ad(y,null,w),A.return=y,A;case $u:return w=_v(w,y.mode,A),w.return=y,w;case Qa:var D=w._init;return d(y,D(w._payload),A)}if(Vd(w)||wd(w))return w=Dc(w,y.mode,A,null),w.return=y,w;gg(y,w)}return null}function g(y,w,A,D){var F=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return F!==null?null:a(y,w,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ig:return A.key===F?l(y,w,A,D):null;case $u:return A.key===F?c(y,w,A,D):null;case Qa:return F=A._init,g(y,w,F(A._payload),D)}if(Vd(A)||wd(A))return F!==null?null:u(y,w,A,D,null);gg(y,A)}return null}function p(y,w,A,D,F){if(typeof D=="string"&&D!==""||typeof D=="number")return y=y.get(A)||null,a(w,y,""+D,F);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ig:return y=y.get(D.key===null?A:D.key)||null,l(w,y,D,F);case $u:return y=y.get(D.key===null?A:D.key)||null,c(w,y,D,F);case Qa:var U=D._init;return p(y,w,A,U(D._payload),F)}if(Vd(D)||wd(D))return y=y.get(A)||null,u(w,y,D,F,null);gg(w,D)}return null}function _(y,w,A,D){for(var F=null,U=null,I=w,S=w=0,C=null;I!==null&&S<A.length;S++){I.index>S?(C=I,I=null):C=I.sibling;var L=g(y,I,A[S],D);if(L===null){I===null&&(I=C);break}t&&I&&L.alternate===null&&e(y,I),w=s(L,w,S),U===null?F=L:U.sibling=L,U=L,I=C}if(S===A.length)return n(y,I),wn&&_c(y,S),F;if(I===null){for(;S<A.length;S++)I=d(y,A[S],D),I!==null&&(w=s(I,w,S),U===null?F=I:U.sibling=I,U=I);return wn&&_c(y,S),F}for(I=r(y,I);S<A.length;S++)C=p(I,y,S,A[S],D),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?S:C.key),w=s(C,w,S),U===null?F=C:U.sibling=C,U=C);return t&&I.forEach(function(k){return e(y,k)}),wn&&_c(y,S),F}function x(y,w,A,D){var F=wd(A);if(typeof F!="function")throw Error(Oe(150));if(A=F.call(A),A==null)throw Error(Oe(151));for(var U=F=null,I=w,S=w=0,C=null,L=A.next();I!==null&&!L.done;S++,L=A.next()){I.index>S?(C=I,I=null):C=I.sibling;var k=g(y,I,L.value,D);if(k===null){I===null&&(I=C);break}t&&I&&k.alternate===null&&e(y,I),w=s(k,w,S),U===null?F=k:U.sibling=k,U=k,I=C}if(L.done)return n(y,I),wn&&_c(y,S),F;if(I===null){for(;!L.done;S++,L=A.next())L=d(y,L.value,D),L!==null&&(w=s(L,w,S),U===null?F=L:U.sibling=L,U=L);return wn&&_c(y,S),F}for(I=r(y,I);!L.done;S++,L=A.next())L=p(I,y,S,L.value,D),L!==null&&(t&&L.alternate!==null&&I.delete(L.key===null?S:L.key),w=s(L,w,S),U===null?F=L:U.sibling=L,U=L);return t&&I.forEach(function(P){return e(y,P)}),wn&&_c(y,S),F}function N(y,w,A,D){if(typeof A=="object"&&A!==null&&A.type===qu&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ig:e:{for(var F=A.key,U=w;U!==null;){if(U.key===F){if(F=A.type,F===qu){if(U.tag===7){n(y,U.sibling),w=i(U,A.props.children),w.return=y,y=w;break e}}else if(U.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Qa&&Mb(F)===U.type){n(y,U.sibling),w=i(U,A.props),w.ref=Ad(y,U,A),w.return=y,y=w;break e}n(y,U);break}else e(y,U);U=U.sibling}A.type===qu?(w=Dc(A.props.children,y.mode,D,A.key),w.return=y,y=w):(D=am(A.type,A.key,A.props,null,y.mode,D),D.ref=Ad(y,w,A),D.return=y,y=D)}return o(y);case $u:e:{for(U=A.key;w!==null;){if(w.key===U)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(y,w.sibling),w=i(w,A.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=_v(A,y.mode,D),w.return=y,y=w}return o(y);case Qa:return U=A._init,N(y,w,U(A._payload),D)}if(Vd(A))return _(y,w,A,D);if(wd(A))return x(y,w,A,D);gg(y,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,A),w.return=y,y=w):(n(y,w),w=wv(A,y.mode,D),w.return=y,y=w),o(y)):n(y,w)}return N}var bh=jA(!0),DA=jA(!1),Fm=$l(null),Vm=null,Ju=null,C5=null;function L5(){C5=Ju=Vm=null}function R5(t){var e=Fm.current;yn(Fm),t._currentValue=e}function Oy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function lh(t,e){Vm=t,C5=Ju=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fi=!0),t.firstContext=null)}function rs(t){var e=t._currentValue;if(C5!==t)if(t={context:t,memoizedValue:e,next:null},Ju===null){if(Vm===null)throw Error(Oe(308));Ju=t,Vm.dependencies={lanes:0,firstContext:t}}else Ju=Ju.next=t;return e}var kc=null;function j5(t){kc===null?kc=[t]:kc.push(t)}function MA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,j5(e)):(n.next=i.next,i.next=n),e.interleaved=n,ra(t,r)}function ra(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xa=!1;function D5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _l(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ot&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ra(t,n)}return i=r.interleaved,i===null?(e.next=e,j5(r)):(e.next=i.next,i.next=e),r.interleaved=e,ra(t,n)}function tm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_5(t,n)}}function Ob(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bm(t,e,n,r){var i=t.updateQueue;Xa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var g=a.lane,p=a.eventTime;if((r&g)===g){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,x=a;switch(g=e,p=n,x.tag){case 1:if(_=x.payload,typeof _=="function"){d=_.call(p,d,g);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,g=typeof _=="function"?_.call(p,d,g):_,g==null)break e;d=An({},d,g);break e;case 2:Xa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else p={eventTime:p,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wc|=o,t.lanes=o,t.memoizedState=d}}function Fb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var dp={},lo=$l(dp),Df=$l(dp),Mf=$l(dp);function Tc(t){if(t===dp)throw Error(Oe(174));return t}function M5(t,e){switch(cn(Mf,e),cn(Df,t),cn(lo,dp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vy(e,t)}yn(lo),cn(lo,e)}function xh(){yn(lo),yn(Df),yn(Mf)}function FA(t){Tc(Mf.current);var e=Tc(lo.current),n=vy(e,t.type);e!==n&&(cn(Df,t),cn(lo,n))}function O5(t){Df.current===t&&(yn(lo),yn(Df))}var bn=$l(0);function zm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fv=[];function F5(){for(var t=0;t<fv.length;t++)fv[t]._workInProgressVersionPrimary=null;fv.length=0}var nm=ha.ReactCurrentDispatcher,pv=ha.ReactCurrentBatchConfig,Hc=0,xn=null,Zn=null,ar=null,Um=!1,sf=!1,Of=0,I6=0;function Er(){throw Error(Oe(321))}function V5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ls(t[n],e[n]))return!1;return!0}function B5(t,e,n,r,i,s){if(Hc=s,xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nm.current=t===null||t.memoizedState===null?j6:D6,t=n(r,i),sf){s=0;do{if(sf=!1,Of=0,25<=s)throw Error(Oe(301));s+=1,ar=Zn=null,e.updateQueue=null,nm.current=M6,t=n(r,i)}while(sf)}if(nm.current=$m,e=Zn!==null&&Zn.next!==null,Hc=0,ar=Zn=xn=null,Um=!1,e)throw Error(Oe(300));return t}function z5(){var t=Of!==0;return Of=0,t}function no(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?xn.memoizedState=ar=t:ar=ar.next=t,ar}function is(){if(Zn===null){var t=xn.alternate;t=t!==null?t.memoizedState:null}else t=Zn.next;var e=ar===null?xn.memoizedState:ar.next;if(e!==null)ar=e,Zn=t;else{if(t===null)throw Error(Oe(310));Zn=t,t={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ar===null?xn.memoizedState=ar=t:ar=ar.next=t}return ar}function Ff(t,e){return typeof e=="function"?e(t):e}function gv(t){var e=is(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=Zn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Hc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,xn.lanes|=u,Wc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ls(r,e.memoizedState)||(fi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,xn.lanes|=s,Wc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mv(t){var e=is(),n=e.queue;if(n===null)throw Error(Oe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ls(s,e.memoizedState)||(fi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function VA(){}function BA(t,e){var n=xn,r=is(),i=e(),s=!Ls(r.memoizedState,i);if(s&&(r.memoizedState=i,fi=!0),r=r.queue,U5($A.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ar!==null&&ar.memoizedState.tag&1){if(n.flags|=2048,Vf(9,UA.bind(null,n,r,i,e),void 0,null),lr===null)throw Error(Oe(349));Hc&30||zA(n,e,i)}return i}function zA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xn.updateQueue,e===null?(e={lastEffect:null,stores:null},xn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UA(t,e,n,r){e.value=n,e.getSnapshot=r,qA(e)&&HA(t)}function $A(t,e,n){return n(function(){qA(e)&&HA(t)})}function qA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ls(t,n)}catch{return!0}}function HA(t){var e=ra(t,1);e!==null&&Cs(e,t,1,-1)}function Vb(t){var e=no();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:t},e.queue=t,t=t.dispatch=R6.bind(null,xn,t),[e.memoizedState,t]}function Vf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xn.updateQueue,e===null?(e={lastEffect:null,stores:null},xn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WA(){return is().memoizedState}function rm(t,e,n,r){var i=no();xn.flags|=t,i.memoizedState=Vf(1|e,n,void 0,r===void 0?null:r)}function M0(t,e,n,r){var i=is();r=r===void 0?null:r;var s=void 0;if(Zn!==null){var o=Zn.memoizedState;if(s=o.destroy,r!==null&&V5(r,o.deps)){i.memoizedState=Vf(e,n,s,r);return}}xn.flags|=t,i.memoizedState=Vf(1|e,n,s,r)}function Bb(t,e){return rm(8390656,8,t,e)}function U5(t,e){return M0(2048,8,t,e)}function GA(t,e){return M0(4,2,t,e)}function KA(t,e){return M0(4,4,t,e)}function YA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QA(t,e,n){return n=n!=null?n.concat([t]):null,M0(4,4,YA.bind(null,e,t),n)}function $5(){}function XA(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&V5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JA(t,e){var n=is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&V5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZA(t,e,n){return Hc&21?(Ls(n,e)||(n=iA(),xn.lanes|=n,Wc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fi=!0),t.memoizedState=n)}function C6(t,e){var n=Qt;Qt=n!==0&&4>n?n:4,t(!0);var r=pv.transition;pv.transition={};try{t(!1),e()}finally{Qt=n,pv.transition=r}}function eE(){return is().memoizedState}function L6(t,e,n){var r=xl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tE(t))nE(e,n);else if(n=MA(t,e,n,r),n!==null){var i=Jr();Cs(n,t,r,i),rE(n,e,r)}}function R6(t,e,n){var r=xl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tE(t))nE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ls(a,o)){var l=e.interleaved;l===null?(i.next=i,j5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=MA(t,e,i,r),n!==null&&(i=Jr(),Cs(n,t,r,i),rE(n,e,r))}}function tE(t){var e=t.alternate;return t===xn||e!==null&&e===xn}function nE(t,e){sf=Um=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_5(t,n)}}var $m={readContext:rs,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},j6={readContext:rs,useCallback:function(t,e){return no().memoizedState=[t,e===void 0?null:e],t},useContext:rs,useEffect:Bb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rm(4194308,4,YA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rm(4194308,4,t,e)},useInsertionEffect:function(t,e){return rm(4,2,t,e)},useMemo:function(t,e){var n=no();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=no();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=L6.bind(null,xn,t),[r.memoizedState,t]},useRef:function(t){var e=no();return t={current:t},e.memoizedState=t},useState:Vb,useDebugValue:$5,useDeferredValue:function(t){return no().memoizedState=t},useTransition:function(){var t=Vb(!1),e=t[0];return t=C6.bind(null,t[1]),no().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xn,i=no();if(wn){if(n===void 0)throw Error(Oe(407));n=n()}else{if(n=e(),lr===null)throw Error(Oe(349));Hc&30||zA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Bb($A.bind(null,r,s,t),[t]),r.flags|=2048,Vf(9,UA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=no(),e=lr.identifierPrefix;if(wn){var n=Wo,r=Ho;n=(r&~(1<<32-Is(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Of++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=I6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},D6={readContext:rs,useCallback:XA,useContext:rs,useEffect:U5,useImperativeHandle:QA,useInsertionEffect:GA,useLayoutEffect:KA,useMemo:JA,useReducer:gv,useRef:WA,useState:function(){return gv(Ff)},useDebugValue:$5,useDeferredValue:function(t){var e=is();return ZA(e,Zn.memoizedState,t)},useTransition:function(){var t=gv(Ff)[0],e=is().memoizedState;return[t,e]},useMutableSource:VA,useSyncExternalStore:BA,useId:eE,unstable_isNewReconciler:!1},M6={readContext:rs,useCallback:XA,useContext:rs,useEffect:U5,useImperativeHandle:QA,useInsertionEffect:GA,useLayoutEffect:KA,useMemo:JA,useReducer:mv,useRef:WA,useState:function(){return mv(Ff)},useDebugValue:$5,useDeferredValue:function(t){var e=is();return Zn===null?e.memoizedState=t:ZA(e,Zn.memoizedState,t)},useTransition:function(){var t=mv(Ff)[0],e=is().memoizedState;return[t,e]},useMutableSource:VA,useSyncExternalStore:BA,useId:eE,unstable_isNewReconciler:!1};function As(t,e){if(t&&t.defaultProps){e=An({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:An({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var O0={isMounted:function(t){return(t=t._reactInternals)?nu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=xl(t),s=Qo(r,i);s.payload=e,n!=null&&(s.callback=n),e=_l(t,s,i),e!==null&&(Cs(e,t,i,r),tm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=xl(t),s=Qo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_l(t,s,i),e!==null&&(Cs(e,t,i,r),tm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jr(),r=xl(t),i=Qo(n,r);i.tag=2,e!=null&&(i.callback=e),e=_l(t,i,r),e!==null&&(Cs(e,t,r,n),tm(e,t,r))}};function zb(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cf(n,r)||!Cf(i,s):!0}function iE(t,e,n){var r=!1,i=jl,s=e.contextType;return typeof s=="object"&&s!==null?s=rs(s):(i=gi(e)?$c:zr.current,r=e.contextTypes,s=(r=r!=null)?wh(t,i):jl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=O0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ub(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&O0.enqueueReplaceState(e,e.state,null)}function Vy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},D5(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rs(s):(s=gi(e)?$c:zr.current,i.context=wh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&O0.enqueueReplaceState(i,i.state,null),Bm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sh(t,e){try{var n="",r=e;do n+=uC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function By(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var O6=typeof WeakMap=="function"?WeakMap:Map;function sE(t,e,n){n=Qo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hm||(Hm=!0,Qy=r),By(t,e)},n}function oE(t,e,n){n=Qo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){By(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){By(t,e),typeof r!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $b(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new O6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=X6.bind(null,t,e,n),e.then(t,t))}function qb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qo(-1,1),e.tag=2,_l(n,e,1))),n.lanes|=1),t)}var F6=ha.ReactCurrentOwner,fi=!1;function Qr(t,e,n,r){e.child=t===null?DA(e,null,n,r):bh(e,t.child,n,r)}function Wb(t,e,n,r,i){n=n.render;var s=e.ref;return lh(e,i),r=B5(t,e,n,r,s,i),n=z5(),t!==null&&!fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ia(t,e,i)):(wn&&n&&T5(e),e.flags|=1,Qr(t,e,r,i),e.child)}function Gb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!X5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aE(t,e,s,r,i)):(t=am(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cf,n(o,r)&&t.ref===e.ref)return ia(t,e,i)}return e.flags|=1,t=Sl(s,r),t.ref=e.ref,t.return=e,e.child=t}function aE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cf(s,r)&&t.ref===e.ref)if(fi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(fi=!0);else return e.lanes=t.lanes,ia(t,e,i)}return zy(t,e,n,r,i)}function lE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(eh,Ti),Ti|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,cn(eh,Ti),Ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,cn(eh,Ti),Ti|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,cn(eh,Ti),Ti|=r;return Qr(t,e,i,n),e.child}function cE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zy(t,e,n,r,i){var s=gi(n)?$c:zr.current;return s=wh(e,s),lh(e,i),n=B5(t,e,n,r,s,i),r=z5(),t!==null&&!fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ia(t,e,i)):(wn&&r&&T5(e),e.flags|=1,Qr(t,e,n,i),e.child)}function Kb(t,e,n,r,i){if(gi(n)){var s=!0;Dm(e)}else s=!1;if(lh(e,i),e.stateNode===null)im(t,e),iE(e,n,r),Vy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=rs(c):(c=gi(n)?$c:zr.current,c=wh(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ub(e,o,r,c),Xa=!1;var g=e.memoizedState;o.state=g,Bm(e,r,o,i),l=e.memoizedState,a!==r||g!==l||pi.current||Xa?(typeof u=="function"&&(Fy(e,n,u,r),l=e.memoizedState),(a=Xa||zb(e,n,a,r,g,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:As(e.type,a),o.props=c,d=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rs(l):(l=gi(n)?$c:zr.current,l=wh(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||g!==l)&&Ub(e,o,r,l),Xa=!1,g=e.memoizedState,o.state=g,Bm(e,r,o,i);var _=e.memoizedState;a!==d||g!==_||pi.current||Xa?(typeof p=="function"&&(Fy(e,n,p,r),_=e.memoizedState),(c=Xa||zb(e,n,c,r,g,_,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Uy(t,e,n,r,s,i)}function Uy(t,e,n,r,i,s){cE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Rb(e,n,!1),ia(t,e,s);r=e.stateNode,F6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bh(e,t.child,null,s),e.child=bh(e,null,a,s)):Qr(t,e,a,s),e.memoizedState=r.state,i&&Rb(e,n,!0),e.child}function uE(t){var e=t.stateNode;e.pendingContext?Lb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Lb(t,e.context,!1),M5(t,e.containerInfo)}function Yb(t,e,n,r,i){return _h(),I5(i),e.flags|=256,Qr(t,e,n,r),e.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function qy(t){return{baseLanes:t,cachePool:null,transitions:null}}function hE(t,e,n){var r=e.pendingProps,i=bn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),cn(bn,i&1),t===null)return My(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=B0(o,r,0,null),t=Dc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qy(n),e.memoizedState=$y,t):q5(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return V6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Sl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Sl(a,s):(s=Dc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$y,r}return s=t.child,t=s.sibling,r=Sl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function q5(t,e){return e=B0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mg(t,e,n,r){return r!==null&&I5(r),bh(e,t.child,null,n),t=q5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=vv(Error(Oe(422))),mg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=B0({mode:"visible",children:r.children},i,0,null),s=Dc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bh(e,t.child,null,o),e.child.memoizedState=qy(o),e.memoizedState=$y,s);if(!(e.mode&1))return mg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Oe(419)),r=vv(s,r,void 0),mg(t,e,o,r)}if(a=(o&t.childLanes)!==0,fi||a){if(r=lr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ra(t,i),Cs(r,t,i,-1))}return Q5(),r=vv(Error(Oe(421))),mg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ii=wl(i.nextSibling),Ri=e,wn=!0,ks=null,t!==null&&(Yi[Qi++]=Ho,Yi[Qi++]=Wo,Yi[Qi++]=qc,Ho=t.id,Wo=t.overflow,qc=e),e=q5(e,r.children),e.flags|=4096,e)}function Qb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Oy(t.return,e,n)}function yv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qr(t,e,r.children,n),r=bn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qb(t,n,e);else if(t.tag===19)Qb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(cn(bn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yv(e,!0,n,null,s);break;case"together":yv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function im(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ia(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Oe(153));if(e.child!==null){for(t=e.child,n=Sl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function B6(t,e,n){switch(e.tag){case 3:uE(e),_h();break;case 5:FA(e);break;case 1:gi(e.type)&&Dm(e);break;case 4:M5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;cn(Fm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(cn(bn,bn.current&1),e.flags|=128,null):n&e.child.childLanes?hE(t,e,n):(cn(bn,bn.current&1),t=ia(t,e,n),t!==null?t.sibling:null);cn(bn,bn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),cn(bn,bn.current),r)break;return null;case 22:case 23:return e.lanes=0,lE(t,e,n)}return ia(t,e,n)}var fE,Hy,pE,gE;fE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hy=function(){};pE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Tc(lo.current);var s=null;switch(n){case"input":i=fy(t,i),r=fy(t,r),s=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),s=[];break;case"textarea":i=my(t,i),r=my(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rm)}yy(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Af.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Af.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&pn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};gE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ed(t,e){if(!wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function z6(t,e,n){var r=e.pendingProps;switch(P5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return gi(e.type)&&jm(),Nr(e),null;case 3:return r=e.stateNode,xh(),yn(pi),yn(zr),F5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ks!==null&&(Zy(ks),ks=null))),Hy(t,e),Nr(e),null;case 5:O5(e);var i=Tc(Mf.current);if(n=e.type,t!==null&&e.stateNode!=null)pE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Oe(166));return Nr(e),null}if(t=Tc(lo.current),pg(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[io]=e,r[jf]=s,t=(e.mode&1)!==0,n){case"dialog":pn("cancel",r),pn("close",r);break;case"iframe":case"object":case"embed":pn("load",r);break;case"video":case"audio":for(i=0;i<zd.length;i++)pn(zd[i],r);break;case"source":pn("error",r);break;case"img":case"image":case"link":pn("error",r),pn("load",r);break;case"details":pn("toggle",r);break;case"input":sb(r,s),pn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pn("invalid",r);break;case"textarea":ab(r,s),pn("invalid",r)}yy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fg(r.textContent,a,t),i=["children",""+a]):Af.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&pn("scroll",r)}switch(n){case"input":sg(r),ob(r,s,!0);break;case"textarea":sg(r),lb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Rm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[io]=e,t[jf]=r,fE(t,e,!1,!1),e.stateNode=t;e:{switch(o=wy(n,r),n){case"dialog":pn("cancel",t),pn("close",t),i=r;break;case"iframe":case"object":case"embed":pn("load",t),i=r;break;case"video":case"audio":for(i=0;i<zd.length;i++)pn(zd[i],t);i=r;break;case"source":pn("error",t),i=r;break;case"img":case"image":case"link":pn("error",t),pn("load",t),i=r;break;case"details":pn("toggle",t),i=r;break;case"input":sb(t,r),i=fy(t,r),pn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),pn("invalid",t);break;case"textarea":ab(t,r),i=my(t,r),pn("invalid",t);break;default:i=r}yy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?W3(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&q3(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ef(t,l):typeof l=="number"&&Ef(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Af.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pn("scroll",t):l!=null&&p5(t,s,l,o))}switch(n){case"input":sg(t),ob(t,r,!1);break;case"textarea":sg(t),lb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ih(t,!!r.multiple,s,!1):r.defaultValue!=null&&ih(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)gE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Oe(166));if(n=Tc(Mf.current),Tc(lo.current),pg(e)){if(r=e.stateNode,n=e.memoizedProps,r[io]=e,(s=r.nodeValue!==n)&&(t=Ri,t!==null))switch(t.tag){case 3:fg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fg(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[io]=e,e.stateNode=r}return Nr(e),null;case 13:if(yn(bn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wn&&Ii!==null&&e.mode&1&&!(e.flags&128))RA(),_h(),e.flags|=98560,s=!1;else if(s=pg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Oe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[io]=e}else _h(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),s=!1}else ks!==null&&(Zy(ks),ks=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bn.current&1?nr===0&&(nr=3):Q5())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return xh(),Hy(t,e),t===null&&Lf(e.stateNode.containerInfo),Nr(e),null;case 10:return R5(e.type._context),Nr(e),null;case 17:return gi(e.type)&&jm(),Nr(e),null;case 19:if(yn(bn),s=e.memoizedState,s===null)return Nr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ed(s,!1);else{if(nr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zm(t),o!==null){for(e.flags|=128,Ed(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return cn(bn,bn.current&1|2),e.child}t=t.sibling}s.tail!==null&&On()>Ah&&(e.flags|=128,r=!0,Ed(s,!1),e.lanes=4194304)}else{if(!r)if(t=zm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ed(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wn)return Nr(e),null}else 2*On()-s.renderingStartTime>Ah&&n!==1073741824&&(e.flags|=128,r=!0,Ed(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=On(),e.sibling=null,n=bn.current,cn(bn,r?n&1|2:n&1),e):(Nr(e),null);case 22:case 23:return Y5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ti&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(Oe(156,e.tag))}function U6(t,e){switch(P5(e),e.tag){case 1:return gi(e.type)&&jm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xh(),yn(pi),yn(zr),F5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return O5(e),null;case 13:if(yn(bn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Oe(340));_h()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yn(bn),null;case 4:return xh(),null;case 10:return R5(e.type._context),null;case 22:case 23:return Y5(),null;case 24:return null;default:return null}}var vg=!1,jr=!1,$6=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Zu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cn(t,e,r)}else n.current=null}function Wy(t,e,n){try{n()}catch(r){Cn(t,e,r)}}var Xb=!1;function q6(t,e){if(Py=Im,t=_A(),k5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,g=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)g=d,d=p;for(;;){if(d===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iy={focusedElem:t,selectionRange:n},Im=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,N=_.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:As(e.type,x),N);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(D){Cn(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return _=Xb,Xb=!1,_}function of(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wy(e,n,s)}i=i.next}while(i!==r)}}function F0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mE(t){var e=t.alternate;e!==null&&(t.alternate=null,mE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[io],delete e[jf],delete e[Ry],delete e[N6],delete e[k6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vE(t){return t.tag===5||t.tag===3||t.tag===4}function Jb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ky(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rm));else if(r!==4&&(t=t.child,t!==null))for(Ky(t,e,n),t=t.sibling;t!==null;)Ky(t,e,n),t=t.sibling}function Yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yy(t,e,n),t=t.sibling;t!==null;)Yy(t,e,n),t=t.sibling}var pr=null,Ns=!1;function qa(t,e,n){for(n=n.child;n!==null;)yE(t,e,n),n=n.sibling}function yE(t,e,n){if(ao&&typeof ao.onCommitFiberUnmount=="function")try{ao.onCommitFiberUnmount(I0,n)}catch{}switch(n.tag){case 5:jr||Zu(n,e);case 6:var r=pr,i=Ns;pr=null,qa(t,e,n),pr=r,Ns=i,pr!==null&&(Ns?(t=pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pr.removeChild(n.stateNode));break;case 18:pr!==null&&(Ns?(t=pr,n=n.stateNode,t.nodeType===8?hv(t.parentNode,n):t.nodeType===1&&hv(t,n),Pf(t)):hv(pr,n.stateNode));break;case 4:r=pr,i=Ns,pr=n.stateNode.containerInfo,Ns=!0,qa(t,e,n),pr=r,Ns=i;break;case 0:case 11:case 14:case 15:if(!jr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wy(n,e,o),i=i.next}while(i!==r)}qa(t,e,n);break;case 1:if(!jr&&(Zu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cn(n,e,a)}qa(t,e,n);break;case 21:qa(t,e,n);break;case 22:n.mode&1?(jr=(r=jr)||n.memoizedState!==null,qa(t,e,n),jr=r):qa(t,e,n);break;default:qa(t,e,n)}}function Zb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $6),e.forEach(function(r){var i=Z6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pr=a.stateNode,Ns=!1;break e;case 3:pr=a.stateNode.containerInfo,Ns=!0;break e;case 4:pr=a.stateNode.containerInfo,Ns=!0;break e}a=a.return}if(pr===null)throw Error(Oe(160));yE(s,o,i),pr=null,Ns=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Cn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wE(e,t),e=e.sibling}function wE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bs(e,t),Js(t),r&4){try{of(3,t,t.return),F0(3,t)}catch(x){Cn(t,t.return,x)}try{of(5,t,t.return)}catch(x){Cn(t,t.return,x)}}break;case 1:bs(e,t),Js(t),r&512&&n!==null&&Zu(n,n.return);break;case 5:if(bs(e,t),Js(t),r&512&&n!==null&&Zu(n,n.return),t.flags&32){var i=t.stateNode;try{Ef(i,"")}catch(x){Cn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&z3(i,s),wy(a,o);var c=wy(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?W3(i,d):u==="dangerouslySetInnerHTML"?q3(i,d):u==="children"?Ef(i,d):p5(i,u,d,c)}switch(a){case"input":py(i,s);break;case"textarea":U3(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ih(i,!!s.multiple,p,!1):g!==!!s.multiple&&(s.defaultValue!=null?ih(i,!!s.multiple,s.defaultValue,!0):ih(i,!!s.multiple,s.multiple?[]:"",!1))}i[jf]=s}catch(x){Cn(t,t.return,x)}}break;case 6:if(bs(e,t),Js(t),r&4){if(t.stateNode===null)throw Error(Oe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Cn(t,t.return,x)}}break;case 3:if(bs(e,t),Js(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pf(e.containerInfo)}catch(x){Cn(t,t.return,x)}break;case 4:bs(e,t),Js(t);break;case 13:bs(e,t),Js(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(G5=On())),r&4&&Zb(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(jr=(c=jr)||u,bs(e,t),jr=c):bs(e,t),Js(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Qe=t,u=t.child;u!==null;){for(d=Qe=u;Qe!==null;){switch(g=Qe,p=g.child,g.tag){case 0:case 11:case 14:case 15:of(4,g,g.return);break;case 1:Zu(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){Cn(r,n,x)}}break;case 5:Zu(g,g.return);break;case 22:if(g.memoizedState!==null){tx(d);continue}}p!==null?(p.return=g,Qe=p):tx(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=H3("display",o))}catch(x){Cn(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){Cn(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bs(e,t),Js(t),r&4&&Zb(t);break;case 21:break;default:bs(e,t),Js(t)}}function Js(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vE(n)){var r=n;break e}n=n.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ef(i,""),r.flags&=-33);var s=Jb(t);Yy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Jb(t);Ky(t,a,o);break;default:throw Error(Oe(161))}}catch(l){Cn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function H6(t,e,n){Qe=t,_E(t)}function _E(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jr;a=vg;var c=jr;if(vg=o,(jr=l)&&!c)for(Qe=i;Qe!==null;)o=Qe,l=o.child,o.tag===22&&o.memoizedState!==null?nx(i):l!==null?(l.return=o,Qe=l):nx(i);for(;s!==null;)Qe=s,_E(s),s=s.sibling;Qe=i,vg=a,jr=c}ex(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):ex(t)}}function ex(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jr||F0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:As(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Pf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}jr||e.flags&512&&Gy(e)}catch(g){Cn(e,e.return,g)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function tx(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function nx(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{F0(4,e)}catch(l){Cn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Cn(e,i,l)}}var s=e.return;try{Gy(e)}catch(l){Cn(e,s,l)}break;case 5:var o=e.return;try{Gy(e)}catch(l){Cn(e,o,l)}}}catch(l){Cn(e,e.return,l)}if(e===t){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var W6=Math.ceil,qm=ha.ReactCurrentDispatcher,H5=ha.ReactCurrentOwner,ts=ha.ReactCurrentBatchConfig,Ot=0,lr=null,Kn=null,vr=0,Ti=0,eh=$l(0),nr=0,Bf=null,Wc=0,V0=0,W5=0,af=null,ui=null,G5=0,Ah=1/0,Uo=null,Hm=!1,Qy=null,bl=null,yg=!1,cl=null,Wm=0,lf=0,Xy=null,sm=-1,om=0;function Jr(){return Ot&6?On():sm!==-1?sm:sm=On()}function xl(t){return t.mode&1?Ot&2&&vr!==0?vr&-vr:P6.transition!==null?(om===0&&(om=iA()),om):(t=Qt,t!==0||(t=window.event,t=t===void 0?16:hA(t.type)),t):1}function Cs(t,e,n,r){if(50<lf)throw lf=0,Xy=null,Error(Oe(185));cp(t,n,r),(!(Ot&2)||t!==lr)&&(t===lr&&(!(Ot&2)&&(V0|=n),nr===4&&Za(t,vr)),mi(t,r),n===1&&Ot===0&&!(e.mode&1)&&(Ah=On()+500,D0&&ql()))}function mi(t,e){var n=t.callbackNode;PC(t,e);var r=Pm(t,t===lr?vr:0);if(r===0)n!==null&&hb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hb(n),e===1)t.tag===0?T6(rx.bind(null,t)):IA(rx.bind(null,t)),A6(function(){!(Ot&6)&&ql()}),n=null;else{switch(sA(r)){case 1:n=w5;break;case 4:n=nA;break;case 16:n=Tm;break;case 536870912:n=rA;break;default:n=Tm}n=TE(n,bE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bE(t,e){if(sm=-1,om=0,Ot&6)throw Error(Oe(327));var n=t.callbackNode;if(ch()&&t.callbackNode!==n)return null;var r=Pm(t,t===lr?vr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gm(t,r);else{e=r;var i=Ot;Ot|=2;var s=SE();(lr!==t||vr!==e)&&(Uo=null,Ah=On()+500,jc(t,e));do try{Y6();break}catch(a){xE(t,a)}while(!0);L5(),qm.current=s,Ot=i,Kn!==null?e=0:(lr=null,vr=0,e=nr)}if(e!==0){if(e===2&&(i=Ay(t),i!==0&&(r=i,e=Jy(t,i))),e===1)throw n=Bf,jc(t,0),Za(t,r),mi(t,On()),n;if(e===6)Za(t,r);else{if(i=t.current.alternate,!(r&30)&&!G6(i)&&(e=Gm(t,r),e===2&&(s=Ay(t),s!==0&&(r=s,e=Jy(t,s))),e===1))throw n=Bf,jc(t,0),Za(t,r),mi(t,On()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Oe(345));case 2:bc(t,ui,Uo);break;case 3:if(Za(t,r),(r&130023424)===r&&(e=G5+500-On(),10<e)){if(Pm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ly(bc.bind(null,t,ui,Uo),e);break}bc(t,ui,Uo);break;case 4:if(Za(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Is(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=On()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*W6(r/1960))-r,10<r){t.timeoutHandle=Ly(bc.bind(null,t,ui,Uo),r);break}bc(t,ui,Uo);break;case 5:bc(t,ui,Uo);break;default:throw Error(Oe(329))}}}return mi(t,On()),t.callbackNode===n?bE.bind(null,t):null}function Jy(t,e){var n=af;return t.current.memoizedState.isDehydrated&&(jc(t,e).flags|=256),t=Gm(t,e),t!==2&&(e=ui,ui=n,e!==null&&Zy(e)),t}function Zy(t){ui===null?ui=t:ui.push.apply(ui,t)}function G6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ls(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Za(t,e){for(e&=~W5,e&=~V0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Is(e),r=1<<n;t[n]=-1,e&=~r}}function rx(t){if(Ot&6)throw Error(Oe(327));ch();var e=Pm(t,0);if(!(e&1))return mi(t,On()),null;var n=Gm(t,e);if(t.tag!==0&&n===2){var r=Ay(t);r!==0&&(e=r,n=Jy(t,r))}if(n===1)throw n=Bf,jc(t,0),Za(t,e),mi(t,On()),n;if(n===6)throw Error(Oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bc(t,ui,Uo),mi(t,On()),null}function K5(t,e){var n=Ot;Ot|=1;try{return t(e)}finally{Ot=n,Ot===0&&(Ah=On()+500,D0&&ql())}}function Gc(t){cl!==null&&cl.tag===0&&!(Ot&6)&&ch();var e=Ot;Ot|=1;var n=ts.transition,r=Qt;try{if(ts.transition=null,Qt=1,t)return t()}finally{Qt=r,ts.transition=n,Ot=e,!(Ot&6)&&ql()}}function Y5(){Ti=eh.current,yn(eh)}function jc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,S6(n)),Kn!==null)for(n=Kn.return;n!==null;){var r=n;switch(P5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jm();break;case 3:xh(),yn(pi),yn(zr),F5();break;case 5:O5(r);break;case 4:xh();break;case 13:yn(bn);break;case 19:yn(bn);break;case 10:R5(r.type._context);break;case 22:case 23:Y5()}n=n.return}if(lr=t,Kn=t=Sl(t.current,null),vr=Ti=e,nr=0,Bf=null,W5=V0=Wc=0,ui=af=null,kc!==null){for(e=0;e<kc.length;e++)if(n=kc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}kc=null}return t}function xE(t,e){do{var n=Kn;try{if(L5(),nm.current=$m,Um){for(var r=xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Um=!1}if(Hc=0,ar=Zn=xn=null,sf=!1,Of=0,H5.current=null,n===null||n.return===null){nr=1,Bf=e,Kn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=vr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=qb(o);if(p!==null){p.flags&=-257,Hb(p,o,a,s,e),p.mode&1&&$b(s,c,e),e=p,l=c;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){$b(s,c,e),Q5();break e}l=Error(Oe(426))}}else if(wn&&a.mode&1){var N=qb(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Hb(N,o,a,s,e),I5(Sh(l,a));break e}}s=l=Sh(l,a),nr!==4&&(nr=2),af===null?af=[s]:af.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=sE(s,l,e);Ob(s,y);break e;case 1:a=l;var w=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(bl===null||!bl.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=oE(s,a,e);Ob(s,D);break e}}s=s.return}while(s!==null)}EE(n)}catch(F){e=F,Kn===n&&n!==null&&(Kn=n=n.return);continue}break}while(!0)}function SE(){var t=qm.current;return qm.current=$m,t===null?$m:t}function Q5(){(nr===0||nr===3||nr===2)&&(nr=4),lr===null||!(Wc&268435455)&&!(V0&268435455)||Za(lr,vr)}function Gm(t,e){var n=Ot;Ot|=2;var r=SE();(lr!==t||vr!==e)&&(Uo=null,jc(t,e));do try{K6();break}catch(i){xE(t,i)}while(!0);if(L5(),Ot=n,qm.current=r,Kn!==null)throw Error(Oe(261));return lr=null,vr=0,nr}function K6(){for(;Kn!==null;)AE(Kn)}function Y6(){for(;Kn!==null&&!_C();)AE(Kn)}function AE(t){var e=kE(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?EE(t):Kn=e,H5.current=null}function EE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=U6(n,e),n!==null){n.flags&=32767,Kn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nr=6,Kn=null;return}}else if(n=z6(n,e,Ti),n!==null){Kn=n;return}if(e=e.sibling,e!==null){Kn=e;return}Kn=e=t}while(e!==null);nr===0&&(nr=5)}function bc(t,e,n){var r=Qt,i=ts.transition;try{ts.transition=null,Qt=1,Q6(t,e,n,r)}finally{ts.transition=i,Qt=r}return null}function Q6(t,e,n,r){do ch();while(cl!==null);if(Ot&6)throw Error(Oe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Oe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(IC(t,s),t===lr&&(Kn=lr=null,vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yg||(yg=!0,TE(Tm,function(){return ch(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ts.transition,ts.transition=null;var o=Qt;Qt=1;var a=Ot;Ot|=4,H5.current=null,q6(t,n),wE(n,t),m6(Iy),Im=!!Py,Iy=Py=null,t.current=n,H6(n),bC(),Ot=a,Qt=o,ts.transition=s}else t.current=n;if(yg&&(yg=!1,cl=t,Wm=i),s=t.pendingLanes,s===0&&(bl=null),AC(n.stateNode),mi(t,On()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hm)throw Hm=!1,t=Qy,Qy=null,t;return Wm&1&&t.tag!==0&&ch(),s=t.pendingLanes,s&1?t===Xy?lf++:(lf=0,Xy=t):lf=0,ql(),null}function ch(){if(cl!==null){var t=sA(Wm),e=ts.transition,n=Qt;try{if(ts.transition=null,Qt=16>t?16:t,cl===null)var r=!1;else{if(t=cl,cl=null,Wm=0,Ot&6)throw Error(Oe(331));var i=Ot;for(Ot|=4,Qe=t.current;Qe!==null;){var s=Qe,o=s.child;if(Qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Qe=c;Qe!==null;){var u=Qe;switch(u.tag){case 0:case 11:case 15:of(8,u,s)}var d=u.child;if(d!==null)d.return=u,Qe=d;else for(;Qe!==null;){u=Qe;var g=u.sibling,p=u.return;if(mE(u),u===c){Qe=null;break}if(g!==null){g.return=p,Qe=g;break}Qe=p}}}var _=s.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var N=x.sibling;x.sibling=null,x=N}while(x!==null)}}Qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Qe=o;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:of(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Qe=y;break e}Qe=s.return}}var w=t.current;for(Qe=w;Qe!==null;){o=Qe;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Qe=A;else e:for(o=w;Qe!==null;){if(a=Qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:F0(9,a)}}catch(F){Cn(a,a.return,F)}if(a===o){Qe=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Qe=D;break e}Qe=a.return}}if(Ot=i,ql(),ao&&typeof ao.onPostCommitFiberRoot=="function")try{ao.onPostCommitFiberRoot(I0,t)}catch{}r=!0}return r}finally{Qt=n,ts.transition=e}}return!1}function ix(t,e,n){e=Sh(n,e),e=sE(t,e,1),t=_l(t,e,1),e=Jr(),t!==null&&(cp(t,1,e),mi(t,e))}function Cn(t,e,n){if(t.tag===3)ix(t,t,n);else for(;e!==null;){if(e.tag===3){ix(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bl===null||!bl.has(r))){t=Sh(n,t),t=oE(e,t,1),e=_l(e,t,1),t=Jr(),e!==null&&(cp(e,1,t),mi(e,t));break}}e=e.return}}function X6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jr(),t.pingedLanes|=t.suspendedLanes&n,lr===t&&(vr&n)===n&&(nr===4||nr===3&&(vr&130023424)===vr&&500>On()-G5?jc(t,0):W5|=n),mi(t,e)}function NE(t,e){e===0&&(t.mode&1?(e=lg,lg<<=1,!(lg&130023424)&&(lg=4194304)):e=1);var n=Jr();t=ra(t,e),t!==null&&(cp(t,e,n),mi(t,n))}function J6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NE(t,n)}function Z6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(e),NE(t,n)}var kE;kE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pi.current)fi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fi=!1,B6(t,e,n);fi=!!(t.flags&131072)}else fi=!1,wn&&e.flags&1048576&&CA(e,Om,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;im(t,e),t=e.pendingProps;var i=wh(e,zr.current);lh(e,n),i=B5(null,e,r,t,i,n);var s=z5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)?(s=!0,Dm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,D5(e),i.updater=O0,e.stateNode=i,i._reactInternals=e,Vy(e,r,t,n),e=Uy(null,e,r,!0,s,n)):(e.tag=0,wn&&s&&T5(e),Qr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(im(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tL(r),t=As(r,t),i){case 0:e=zy(null,e,r,t,n);break e;case 1:e=Kb(null,e,r,t,n);break e;case 11:e=Wb(null,e,r,t,n);break e;case 14:e=Gb(null,e,r,As(r.type,t),n);break e}throw Error(Oe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:As(r,i),zy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:As(r,i),Kb(t,e,r,i,n);case 3:e:{if(uE(e),t===null)throw Error(Oe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,OA(t,e),Bm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sh(Error(Oe(423)),e),e=Yb(t,e,r,n,i);break e}else if(r!==i){i=Sh(Error(Oe(424)),e),e=Yb(t,e,r,n,i);break e}else for(Ii=wl(e.stateNode.containerInfo.firstChild),Ri=e,wn=!0,ks=null,n=DA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_h(),r===i){e=ia(t,e,n);break e}Qr(t,e,r,n)}e=e.child}return e;case 5:return FA(e),t===null&&My(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Cy(r,i)?o=null:s!==null&&Cy(r,s)&&(e.flags|=32),cE(t,e),Qr(t,e,o,n),e.child;case 6:return t===null&&My(e),null;case 13:return hE(t,e,n);case 4:return M5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bh(e,null,r,n):Qr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:As(r,i),Wb(t,e,r,i,n);case 7:return Qr(t,e,e.pendingProps,n),e.child;case 8:return Qr(t,e,e.pendingProps.children,n),e.child;case 12:return Qr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,cn(Fm,r._currentValue),r._currentValue=o,s!==null)if(Ls(s.value,o)){if(s.children===i.children&&!pi.current){e=ia(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Qo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Oy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Oy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,lh(e,n),i=rs(i),r=r(i),e.flags|=1,Qr(t,e,r,n),e.child;case 14:return r=e.type,i=As(r,e.pendingProps),i=As(r.type,i),Gb(t,e,r,i,n);case 15:return aE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:As(r,i),im(t,e),e.tag=1,gi(r)?(t=!0,Dm(e)):t=!1,lh(e,n),iE(e,r,i),Vy(e,r,i,n),Uy(null,e,r,!0,t,n);case 19:return dE(t,e,n);case 22:return lE(t,e,n)}throw Error(Oe(156,e.tag))};function TE(t,e){return tA(t,e)}function eL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(t,e,n,r){return new eL(t,e,n,r)}function X5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tL(t){if(typeof t=="function")return X5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===m5)return 11;if(t===v5)return 14}return 2}function Sl(t,e){var n=t.alternate;return n===null?(n=Zi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function am(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")X5(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qu:return Dc(n.children,i,s,e);case g5:o=8,i|=8;break;case cy:return t=Zi(12,n,e,i|2),t.elementType=cy,t.lanes=s,t;case uy:return t=Zi(13,n,e,i),t.elementType=uy,t.lanes=s,t;case hy:return t=Zi(19,n,e,i),t.elementType=hy,t.lanes=s,t;case F3:return B0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M3:o=10;break e;case O3:o=9;break e;case m5:o=11;break e;case v5:o=14;break e;case Qa:o=16,r=null;break e}throw Error(Oe(130,t==null?t:typeof t,""))}return e=Zi(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Dc(t,e,n,r){return t=Zi(7,t,r,e),t.lanes=n,t}function B0(t,e,n,r){return t=Zi(22,t,r,e),t.elementType=F3,t.lanes=n,t.stateNode={isHidden:!1},t}function wv(t,e,n){return t=Zi(6,t,null,e),t.lanes=n,t}function _v(t,e,n){return e=Zi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function J5(t,e,n,r,i,s,o,a,l){return t=new nL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},D5(s),t}function rL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$u,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PE(t){if(!t)return jl;t=t._reactInternals;e:{if(nu(t)!==t||t.tag!==1)throw Error(Oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Oe(171))}if(t.tag===1){var n=t.type;if(gi(n))return PA(t,n,e)}return e}function IE(t,e,n,r,i,s,o,a,l){return t=J5(n,r,!0,t,i,s,o,a,l),t.context=PE(null),n=t.current,r=Jr(),i=xl(n),s=Qo(r,i),s.callback=e??null,_l(n,s,i),t.current.lanes=i,cp(t,i,r),mi(t,r),t}function z0(t,e,n,r){var i=e.current,s=Jr(),o=xl(i);return n=PE(n),e.context===null?e.context=n:e.pendingContext=n,e=Qo(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_l(i,e,o),t!==null&&(Cs(t,i,o,s),tm(t,i,o)),o}function Km(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Z5(t,e){sx(t,e),(t=t.alternate)&&sx(t,e)}function iL(){return null}var CE=typeof reportError=="function"?reportError:function(t){console.error(t)};function ew(t){this._internalRoot=t}U0.prototype.render=ew.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Oe(409));z0(t,e,null,null)};U0.prototype.unmount=ew.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gc(function(){z0(null,t,null,null)}),e[na]=null}};function U0(t){this._internalRoot=t}U0.prototype.unstable_scheduleHydration=function(t){if(t){var e=lA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ja.length&&e!==0&&e<Ja[n].priority;n++);Ja.splice(n,0,t),n===0&&uA(t)}};function tw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ox(){}function sL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Km(o);s.call(c)}}var o=IE(e,r,t,0,null,!1,!1,"",ox);return t._reactRootContainer=o,t[na]=o.current,Lf(t.nodeType===8?t.parentNode:t),Gc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Km(l);a.call(c)}}var l=J5(t,0,!1,null,null,!1,!1,"",ox);return t._reactRootContainer=l,t[na]=l.current,Lf(t.nodeType===8?t.parentNode:t),Gc(function(){z0(e,l,n,r)}),l}function q0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Km(o);a.call(l)}}z0(e,o,t,i)}else o=sL(n,e,t,i,r);return Km(o)}oA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bd(e.pendingLanes);n!==0&&(_5(e,n|1),mi(e,On()),!(Ot&6)&&(Ah=On()+500,ql()))}break;case 13:Gc(function(){var r=ra(t,1);if(r!==null){var i=Jr();Cs(r,t,1,i)}}),Z5(t,1)}};b5=function(t){if(t.tag===13){var e=ra(t,134217728);if(e!==null){var n=Jr();Cs(e,t,134217728,n)}Z5(t,134217728)}};aA=function(t){if(t.tag===13){var e=xl(t),n=ra(t,e);if(n!==null){var r=Jr();Cs(n,t,e,r)}Z5(t,e)}};lA=function(){return Qt};cA=function(t,e){var n=Qt;try{return Qt=t,e()}finally{Qt=n}};by=function(t,e,n){switch(e){case"input":if(py(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=j0(r);if(!i)throw Error(Oe(90));B3(r),py(r,i)}}}break;case"textarea":U3(t,n);break;case"select":e=n.value,e!=null&&ih(t,!!n.multiple,e,!1)}};Y3=K5;Q3=Gc;var oL={usingClientEntryPoint:!1,Events:[hp,Ku,j0,G3,K3,K5]},Nd={findFiberByHostInstance:Nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aL={bundleType:Nd.bundleType,version:Nd.version,rendererPackageName:Nd.rendererPackageName,rendererConfig:Nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Z3(t),t===null?null:t.stateNode},findFiberByHostInstance:Nd.findFiberByHostInstance||iL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{I0=wg.inject(aL),ao=wg}catch{}}Di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oL;Di.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tw(e))throw Error(Oe(200));return rL(t,e,null,n)};Di.createRoot=function(t,e){if(!tw(t))throw Error(Oe(299));var n=!1,r="",i=CE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=J5(t,1,!1,null,null,n,!1,r,i),t[na]=e.current,Lf(t.nodeType===8?t.parentNode:t),new ew(e)};Di.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Oe(188)):(t=Object.keys(t).join(","),Error(Oe(268,t)));return t=Z3(e),t=t===null?null:t.stateNode,t};Di.flushSync=function(t){return Gc(t)};Di.hydrate=function(t,e,n){if(!$0(e))throw Error(Oe(200));return q0(null,t,e,!0,n)};Di.hydrateRoot=function(t,e,n){if(!tw(t))throw Error(Oe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=CE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IE(e,null,t,1,n??null,i,!1,s,o),t[na]=e.current,Lf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new U0(e)};Di.render=function(t,e,n){if(!$0(e))throw Error(Oe(200));return q0(null,t,e,!1,n)};Di.unmountComponentAtNode=function(t){if(!$0(t))throw Error(Oe(40));return t._reactRootContainer?(Gc(function(){q0(null,null,t,!1,function(){t._reactRootContainer=null,t[na]=null})}),!0):!1};Di.unstable_batchedUpdates=K5;Di.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$0(n))throw Error(Oe(200));if(t==null||t._reactInternals===void 0)throw Error(Oe(38));return q0(t,e,n,!1,r)};Di.version="18.3.1-next-f1338f8080-20240426";function LE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(LE)}catch(t){console.error(t)}}LE(),L3.exports=Di;var RE=L3.exports,jE,ax=RE;jE=ax.createRoot,ax.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}var ul;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ul||(ul={}));const lx="popstate";function lL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return e2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ym(i)}return uL(e,n,null,t)}function Sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cL(){return Math.random().toString(36).substr(2,8)}function cx(t,e){return{usr:t.state,key:t.key,idx:e}}function e2(t,e,n,r){return n===void 0&&(n=null),zf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uh(e):e,{state:n,key:e&&e.key||r||cL()})}function Ym(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ul.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(zf({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ul.Pop;let N=u(),y=N==null?null:N-c;c=N,l&&l({action:a,location:x.location,delta:y})}function g(N,y){a=ul.Push;let w=e2(x.location,N,y);c=u()+1;let A=cx(w,c),D=x.createHref(w);try{o.pushState(A,"",D)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(D)}s&&l&&l({action:a,location:x.location,delta:1})}function p(N,y){a=ul.Replace;let w=e2(x.location,N,y);c=u();let A=cx(w,c),D=x.createHref(w);o.replaceState(A,"",D),s&&l&&l({action:a,location:x.location,delta:0})}function _(N){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof N=="string"?N:Ym(N);return w=w.replace(/ $/,"%20"),Sn(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let x={get action(){return a},get location(){return t(i,o)},listen(N){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(lx,d),l=N,()=>{i.removeEventListener(lx,d),l=null}},createHref(N){return e(i,N)},createURL:_,encodeLocation(N){let y=_(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:p,go(N){return o.go(N)}};return x}var ux;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ux||(ux={}));function hL(t,e,n){return n===void 0&&(n="/"),dL(t,e,n,!1)}function dL(t,e,n,r){let i=typeof e=="string"?Uh(e):e,s=Eh(i.pathname||"/",n);if(s==null)return null;let o=ME(t);fL(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=AL(s);a=xL(o[l],c,r)}return a}function ME(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Sn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Al([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Sn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ME(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_L(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of OE(s.path))i(s,o,l)}),e}function OE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function fL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pL=/^:[\w-]+$/,gL=3,mL=2,vL=1,yL=10,wL=-2,hx=t=>t==="*";function _L(t,e){let n=t.split("/"),r=n.length;return n.some(hx)&&(r+=wL),e&&(r+=mL),n.filter(i=>!hx(i)).reduce((i,s)=>i+(pL.test(s)?gL:s===""?vL:yL),r)}function bL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xL(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),g=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Qm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Al([s,d.pathname]),pathnameBase:TL(Al([s,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(s=Al([s,d.pathnameBase]))}return o}function Qm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:g,isOptional:p}=u;if(g==="*"){let x=a[d]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const _=a[d];return p&&!_?c[g]=void 0:c[g]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function SL(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),DE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return DE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Eh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Uh(t):t;return{pathname:n?n.startsWith("/")?n:NL(n,e):e,search:PL(r),hash:IL(i)}}function NL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nw(t,e){let n=kL(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function rw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Uh(t):(i=zf({},t),Sn(!i.pathname||!i.pathname.includes("?"),bv("?","pathname","search",i)),Sn(!i.pathname||!i.pathname.includes("#"),bv("#","pathname","hash",i)),Sn(!i.search||!i.search.includes("#"),bv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}a=d>=0?e[d]:"/"}let l=EL(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Al=t=>t.join("/").replace(/\/\/+/g,"/"),TL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FE=["post","put","patch","delete"];new Set(FE);const LL=["get",...FE];new Set(LL);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}const H0=te.createContext(null),VE=te.createContext(null),da=te.createContext(null),W0=te.createContext(null),Hl=te.createContext({outlet:null,matches:[],isDataRoute:!1}),BE=te.createContext(null);function RL(t,e){let{relative:n}=e===void 0?{}:e;$h()||Sn(!1);let{basename:r,navigator:i}=te.useContext(da),{hash:s,pathname:o,search:a}=K0(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Al([r,o])),i.createHref({pathname:l,search:a,hash:s})}function $h(){return te.useContext(W0)!=null}function qh(){return $h()||Sn(!1),te.useContext(W0).location}function zE(t){te.useContext(da).static||te.useLayoutEffect(t)}function G0(){let{isDataRoute:t}=te.useContext(Hl);return t?WL():jL()}function jL(){$h()||Sn(!1);let t=te.useContext(H0),{basename:e,future:n,navigator:r}=te.useContext(da),{matches:i}=te.useContext(Hl),{pathname:s}=qh(),o=JSON.stringify(nw(i,n.v7_relativeSplatPath)),a=te.useRef(!1);return zE(()=>{a.current=!0}),te.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=rw(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Al([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function K0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=te.useContext(da),{matches:i}=te.useContext(Hl),{pathname:s}=qh(),o=JSON.stringify(nw(i,r.v7_relativeSplatPath));return te.useMemo(()=>rw(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function DL(t,e){return ML(t,e)}function ML(t,e,n,r){$h()||Sn(!1);let{navigator:i,static:s}=te.useContext(da),{matches:o}=te.useContext(Hl),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=qh(),d;if(e){var g;let y=typeof e=="string"?Uh(e):e;c==="/"||(g=y.pathname)!=null&&g.startsWith(c)||Sn(!1),d=y}else d=u;let p=d.pathname||"/",_=p;if(c!=="/"){let y=c.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=!s&&n&&n.matches&&n.matches.length>0?n.matches:hL(t,{pathname:_}),N=zL(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Al([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Al([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&N?te.createElement(W0.Provider,{value:{location:Uf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ul.Pop}},N):N}function OL(){let t=HL(),e=CL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return te.createElement(te.Fragment,null,te.createElement("h2",null,"Unexpected Application Error!"),te.createElement("h3",{style:{fontStyle:"italic"}},e),n?te.createElement("pre",{style:i},n):null,null)}const FL=te.createElement(OL,null);class VL extends te.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?te.createElement(Hl.Provider,{value:this.props.routeContext},te.createElement(BE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BL(t){let{routeContext:e,match:n,children:r}=t,i=te.useContext(H0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),te.createElement(Hl.Provider,{value:e},r)}function zL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Sn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:g,errors:p}=n,_=d.route.loader&&g[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,g)=>{let p,_=!1,x=null,N=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||FL,l&&(c<0&&g===0?(_=!0,N=null):c===g&&(_=!0,N=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,g+1)),w=()=>{let A;return p?A=x:_?A=N:d.route.Component?A=te.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=u,te.createElement(BL,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:A})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?te.createElement(VL,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var UE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(UE||{}),Xm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xm||{});function UL(t){let e=te.useContext(H0);return e||Sn(!1),e}function $L(t){let e=te.useContext(VE);return e||Sn(!1),e}function qL(t){let e=te.useContext(Hl);return e||Sn(!1),e}function $E(t){let e=qL(),n=e.matches[e.matches.length-1];return n.route.id||Sn(!1),n.route.id}function HL(){var t;let e=te.useContext(BE),n=$L(Xm.UseRouteError),r=$E(Xm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function WL(){let{router:t}=UL(UE.UseNavigateStable),e=$E(Xm.UseNavigateStable),n=te.useRef(!1);return zE(()=>{n.current=!0}),te.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Uf({fromRouteId:e},s)))},[t,e])}function GL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function dx(t){let{to:e,replace:n,state:r,relative:i}=t;$h()||Sn(!1);let{future:s,static:o}=te.useContext(da),{matches:a}=te.useContext(Hl),{pathname:l}=qh(),c=G0(),u=rw(e,nw(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return te.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Yr(t){Sn(!1)}function KL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ul.Pop,navigator:s,static:o=!1,future:a}=t;$h()&&Sn(!1);let l=e.replace(/^\/*/,"/"),c=te.useMemo(()=>({basename:l,navigator:s,static:o,future:Uf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Uh(r));let{pathname:u="/",search:d="",hash:g="",state:p=null,key:_="default"}=r,x=te.useMemo(()=>{let N=Eh(u,l);return N==null?null:{location:{pathname:N,search:d,hash:g,state:p,key:_},navigationType:i}},[l,u,d,g,p,_,i]);return x==null?null:te.createElement(da.Provider,{value:c},te.createElement(W0.Provider,{children:n,value:x}))}function fx(t){let{children:e,location:n}=t;return DL(t2(e),n)}new Promise(()=>{});function t2(t,e){e===void 0&&(e=[]);let n=[];return te.Children.forEach(t,(r,i)=>{if(!te.isValidElement(r))return;let s=[...e,i];if(r.type===te.Fragment){n.push.apply(n,t2(r.props.children,s));return}r.type!==Yr&&Sn(!1),!r.props.index||!r.props.children||Sn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=t2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function qE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function YL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QL(t,e){return t.button===0&&(!e||e==="_self")&&!YL(t)}const XL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JL=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ZL="6";try{window.__reactRouterVersion=ZL}catch{}const eR=te.createContext({isTransitioning:!1}),tR="startTransition",px=vh[tR];function nR(t){let{basename:e,children:n,future:r,window:i}=t,s=te.useRef();s.current==null&&(s.current=lL({window:i,v5Compat:!0}));let o=s.current,[a,l]=te.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=te.useCallback(d=>{c&&px?px(()=>l(d)):l(d)},[l,c]);return te.useLayoutEffect(()=>o.listen(u),[o,u]),te.useEffect(()=>GL(r),[r]),te.createElement(KL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const rR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HE=te.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,g=qE(e,XL),{basename:p}=te.useContext(da),_,x=!1;if(typeof c=="string"&&iR.test(c)&&(_=c,rR))try{let A=new URL(window.location.href),D=c.startsWith("//")?new URL(A.protocol+c):new URL(c),F=Eh(D.pathname,p);D.origin===A.origin&&F!=null?c=F+D.search+D.hash:x=!0}catch{}let N=RL(c,{relative:i}),y=oR(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(A){r&&r(A),A.defaultPrevented||y(A)}return te.createElement("a",Jm({},g,{href:_||N,onClick:x||s?r:w,ref:n,target:l}))}),xv=te.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=qE(e,JL),g=K0(l,{relative:d.relative}),p=qh(),_=te.useContext(VE),{navigator:x,basename:N}=te.useContext(da),y=_!=null&&aR(g)&&c===!0,w=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,A=p.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(A=A.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&N&&(D=Eh(D,N)||D);const F=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let U=A===w||!o&&A.startsWith(w)&&A.charAt(F)==="/",I=D!=null&&(D===w||!o&&D.startsWith(w)&&D.charAt(w.length)==="/"),S={isActive:U,isPending:I,isTransitioning:y},C=U?r:void 0,L;typeof s=="function"?L=s(S):L=[s,U?"active":null,I?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let k=typeof a=="function"?a(S):a;return te.createElement(HE,Jm({},d,{"aria-current":C,className:L,ref:n,style:k,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var n2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(n2||(n2={}));var gx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gx||(gx={}));function sR(t){let e=te.useContext(H0);return e||Sn(!1),e}function oR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=G0(),c=qh(),u=K0(t,{relative:o});return te.useCallback(d=>{if(QL(d,n)){d.preventDefault();let g=r!==void 0?r:Ym(c)===Ym(u);l(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function aR(t,e){e===void 0&&(e={});let n=te.useContext(eR);n==null&&Sn(!1);let{basename:r}=sR(n2.useViewTransitionState),i=K0(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Eh(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Eh(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qm(i.pathname,o)!=null||Qm(i.pathname,s)!=null}let lR={data:""},cR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||lR,uR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hR=/\/\*[^]*?\*\/|  +/g,mx=/\n+/g,el=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?el(o,s):s+"{"+el(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=el(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=el.p?el.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Mo={},WE=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+WE(t[n]);return e}return t},dR=(t,e,n,r,i)=>{let s=WE(t),o=Mo[s]||(Mo[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Mo[o]){let l=s!==t?t:(c=>{let u,d,g=[{}];for(;u=uR.exec(c.replace(hR,""));)u[4]?g.shift():u[3]?(d=u[3].replace(mx," ").trim(),g.unshift(g[0][d]=g[0][d]||{})):g[0][u[1]]=u[2].replace(mx," ").trim();return g[0]})(t);Mo[o]=el(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Mo.g?Mo.g:null;return n&&(Mo.g=Mo[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Mo[o],e,r,a),o},fR=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":el(a,""):a===!1?"":a}return r+i+(o??"")},"");function Y0(t){let e=this||{},n=t.call?t(e.p):t;return dR(n.unshift?n.raw?fR(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,cR(e.target),e.g,e.o,e.k)}let GE,r2,i2;Y0.bind({g:1});let sa=Y0.bind({k:1});function pR(t,e,n,r){el.p=e,GE=t,r2=n,i2=r}function Wl(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:r2&&r2()},a),n.o=/ *go\d+/.test(l),a.className=Y0.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),i2&&c[0]&&i2(a),GE(c,a)}return i}}var gR=t=>typeof t=="function",Zm=(t,e)=>gR(t)?t(e):t,mR=(()=>{let t=0;return()=>(++t).toString()})(),KE=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),vR=20,YE=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,vR)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return YE(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},lm=[],Pc={toasts:[],pausedAt:void 0},ru=t=>{Pc=YE(Pc,t),lm.forEach(e=>{e(Pc)})},yR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wR=(t={})=>{let[e,n]=te.useState(Pc),r=te.useRef(Pc);te.useEffect(()=>(r.current!==Pc&&n(Pc),lm.push(n),()=>{let s=lm.indexOf(n);s>-1&&lm.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||yR[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},_R=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||mR()}),fp=t=>(e,n)=>{let r=_R(e,t,n);return ru({type:2,toast:r}),r.id},Xr=(t,e)=>fp("blank")(t,e);Xr.error=fp("error");Xr.success=fp("success");Xr.loading=fp("loading");Xr.custom=fp("custom");Xr.dismiss=t=>{ru({type:3,toastId:t})};Xr.remove=t=>ru({type:4,toastId:t});Xr.promise=(t,e,n)=>{let r=Xr.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Zm(e.success,i):void 0;return s?Xr.success(s,{id:r,...n,...n==null?void 0:n.success}):Xr.dismiss(r),i}).catch(i=>{let s=e.error?Zm(e.error,i):void 0;s?Xr.error(s,{id:r,...n,...n==null?void 0:n.error}):Xr.dismiss(r)}),t};var bR=(t,e)=>{ru({type:1,toast:{id:t,height:e}})},xR=()=>{ru({type:5,time:Date.now()})},cf=new Map,SR=1e3,AR=(t,e=SR)=>{if(cf.has(t))return;let n=setTimeout(()=>{cf.delete(t),ru({type:4,toastId:t})},e);cf.set(t,n)},ER=t=>{let{toasts:e,pausedAt:n}=wR(t);te.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Xr.dismiss(a.id);return}return setTimeout(()=>Xr.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=te.useCallback(()=>{n&&ru({type:6,time:Date.now()})},[n]),i=te.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(p=>(p.position||c)===(s.position||c)&&p.height),d=u.findIndex(p=>p.id===s.id),g=u.filter((p,_)=>_<d&&p.visible).length;return u.filter(p=>p.visible).slice(...a?[g+1]:[0,g]).reduce((p,_)=>p+(_.height||0)+l,0)},[e]);return te.useEffect(()=>{e.forEach(s=>{if(s.dismissed)AR(s.id,s.removeDelay);else{let o=cf.get(s.id);o&&(clearTimeout(o),cf.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:bR,startPause:xR,endPause:r,calculateOffset:i}}},NR=sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kR=sa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TR=sa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,PR=Wl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${NR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${TR} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,IR=sa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,CR=Wl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${IR} 1s linear infinite;
`,LR=sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,RR=sa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jR=Wl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${RR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,DR=Wl("div")`
  position: absolute;
`,MR=Wl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,OR=sa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FR=Wl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${OR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,VR=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?te.createElement(FR,null,e):e:n==="blank"?null:te.createElement(MR,null,te.createElement(CR,{...r}),n!=="loading"&&te.createElement(DR,null,n==="error"?te.createElement(PR,{...r}):te.createElement(jR,{...r})))},BR=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zR=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,UR="0%{opacity:0;} 100%{opacity:1;}",$R="0%{opacity:1;} 100%{opacity:0;}",qR=Wl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,HR=Wl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,WR=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=KE()?[UR,$R]:[BR(n),zR(n)];return{animation:e?`${sa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},GR=te.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?WR(t.position||e||"top-center",t.visible):{opacity:0},s=te.createElement(VR,{toast:t}),o=te.createElement(HR,{...t.ariaProps},Zm(t.message,t));return te.createElement(qR,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):te.createElement(te.Fragment,null,s,o))});pR(te.createElement);var KR=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=te.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return te.createElement("div",{ref:s,className:e,style:n},i)},YR=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:KE()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},QR=Y0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_g=16,XR=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=ER(n);return te.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:_g,left:_g,right:_g,bottom:_g,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),g=YR(u,d);return te.createElement(KR,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?QR:"",style:g},c.type==="custom"?Zm(c.message,c):i?i(c):te.createElement(GR,{toast:c,position:u}))}))},Ke=Xr;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),St=(t,e)=>{const n=te.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>te.createElement("svg",{ref:u,...JR,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${ZR(t)}`,a].join(" "),...c},[...e.map(([d,g])=>te.createElement(d,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=St("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=St("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=St("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=St("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=St("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=St("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=St("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=St("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=St("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=St("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=St("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=St("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=St("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=St("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=St("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=St("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=St("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=St("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=St("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=St("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=St("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=St("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=St("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=St("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=St("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=St("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=St("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=St("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=St("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=St("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=St("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=St("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var _x={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},iN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(g=64)),r.push(n[u],n[d],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new vj;const g=s<<2|a>>4;if(r.push(g),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const _=c<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yj=function(t){const e=rN(t);return iN.encodeByteArray(e,!0)},t0=function(t){return yj(t).replace(/\./g,"")},sN=function(t){try{return iN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=()=>wj().__FIREBASE_DEFAULTS__,bj=()=>{if(typeof process>"u"||typeof _x>"u")return;const t=_x.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sN(t[1]);return e&&JSON.parse(e)},Q0=()=>{try{return _j()||bj()||xj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oN=t=>{var e,n;return(n=(e=Q0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Sj=t=>{const e=oN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aN=()=>{var t;return(t=Q0())===null||t===void 0?void 0:t.config},lN=t=>{var e;return(e=Q0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[t0(JSON.stringify(n)),t0(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ur())}function kj(){var t;const e=(t=Q0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ij(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Cj(){const t=Ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Lj(){return!kj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rj(){try{return typeof indexedDB=="object"}catch{return!1}}function jj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="FirebaseError";class fa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dj,Object.setPrototypeOf(this,fa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gp.prototype.create)}}class gp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Mj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fa(i,a,r)}}function Mj(t,e){return t.replace(Oj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Oj=/\{\$([^}]+)}/g;function Fj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function n0(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(bx(s)&&bx(o)){if(!n0(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function bx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ud(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $d(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Vj(t,e){const n=new Bj(t,e);return n.subscribe.bind(n)}class Bj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sv),i.error===void 0&&(i.error=Sv),i.complete===void 0&&(i.complete=Sv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t){return t&&t._delegate?t._delegate:t}class Kc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Aj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qj(e))try{this.getOrInitializeService({instanceIdentifier:xc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xc){return this.instances.has(e)}getOptions(e=xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$j(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xc){return this.component?this.component.multipleInstances?e:xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $j(t){return t===xc?void 0:t}function qj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const Wj={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},Gj=It.INFO,Kj={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},Yj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Kj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aw{constructor(e){this.name=e,this._logLevel=Gj,this._logHandler=Yj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Wj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const Qj=(t,e)=>e.some(n=>t instanceof n);let xx,Sx;function Xj(){return xx||(xx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jj(){return Sx||(Sx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cN=new WeakMap,c2=new WeakMap,uN=new WeakMap,Av=new WeakMap,lw=new WeakMap;function Zj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(El(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cN.set(n,t)}).catch(()=>{}),lw.set(e,t),e}function eD(t){if(c2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});c2.set(t,e)}let u2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return c2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return El(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tD(t){u2=t(u2)}function nD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ev(this),e,...n);return uN.set(r,e.sort?e.sort():[e]),El(r)}:Jj().includes(t)?function(...e){return t.apply(Ev(this),e),El(cN.get(this))}:function(...e){return El(t.apply(Ev(this),e))}}function rD(t){return typeof t=="function"?nD(t):(t instanceof IDBTransaction&&eD(t),Qj(t,Xj())?new Proxy(t,u2):t)}function El(t){if(t instanceof IDBRequest)return Zj(t);if(Av.has(t))return Av.get(t);const e=rD(t);return e!==t&&(Av.set(t,e),lw.set(e,t)),e}const Ev=t=>lw.get(t);function iD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=El(o);return r&&o.addEventListener("upgradeneeded",l=>{r(El(o.result),l.oldVersion,l.newVersion,El(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const sD=["get","getKey","getAll","getAllKeys","count"],oD=["put","add","delete","clear"],Nv=new Map;function Ax(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nv.get(e))return Nv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sD.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Nv.set(e,s),s}tD(t=>({...t,get:(e,n,r)=>Ax(e,n)||t.get(e,n,r),has:(e,n)=>!!Ax(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h2="@firebase/app",Ex="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new aw("@firebase/app"),cD="@firebase/app-compat",uD="@firebase/analytics-compat",hD="@firebase/analytics",dD="@firebase/app-check-compat",fD="@firebase/app-check",pD="@firebase/auth",gD="@firebase/auth-compat",mD="@firebase/database",vD="@firebase/data-connect",yD="@firebase/database-compat",wD="@firebase/functions",_D="@firebase/functions-compat",bD="@firebase/installations",xD="@firebase/installations-compat",SD="@firebase/messaging",AD="@firebase/messaging-compat",ED="@firebase/performance",ND="@firebase/performance-compat",kD="@firebase/remote-config",TD="@firebase/remote-config-compat",PD="@firebase/storage",ID="@firebase/storage-compat",CD="@firebase/firestore",LD="@firebase/vertexai-preview",RD="@firebase/firestore-compat",jD="firebase",DD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="[DEFAULT]",MD={[h2]:"fire-core",[cD]:"fire-core-compat",[hD]:"fire-analytics",[uD]:"fire-analytics-compat",[fD]:"fire-app-check",[dD]:"fire-app-check-compat",[pD]:"fire-auth",[gD]:"fire-auth-compat",[mD]:"fire-rtdb",[vD]:"fire-data-connect",[yD]:"fire-rtdb-compat",[wD]:"fire-fn",[_D]:"fire-fn-compat",[bD]:"fire-iid",[xD]:"fire-iid-compat",[SD]:"fire-fcm",[AD]:"fire-fcm-compat",[ED]:"fire-perf",[ND]:"fire-perf-compat",[kD]:"fire-rc",[TD]:"fire-rc-compat",[PD]:"fire-gcs",[ID]:"fire-gcs-compat",[CD]:"fire-fst",[RD]:"fire-fst-compat",[LD]:"fire-vertex","fire-js":"fire-js",[jD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,OD=new Map,f2=new Map;function Nx(t,e){try{t.container.addComponent(e)}catch(n){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Th(t){const e=t.name;if(f2.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;f2.set(e,t);for(const n of qf.values())Nx(n,t);for(const n of OD.values())Nx(n,t);return!0}function cw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function so(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nl=new gp("app","Firebase",FD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=DD;function hN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:d2,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Nl.create("bad-app-name",{appName:String(i)});if(n||(n=aN()),!n)throw Nl.create("no-options");const s=qf.get(i);if(s){if(n0(n,s.options)&&n0(r,s.config))return s;throw Nl.create("duplicate-app",{appName:i})}const o=new Hj(i);for(const l of f2.values())o.addComponent(l);const a=new VD(n,r,o);return qf.set(i,a),a}function uw(t=d2){const e=qf.get(t);if(!e&&t===d2&&aN())return hN();if(!e)throw Nl.create("no-app",{appName:t});return e}function BD(){return Array.from(qf.values())}function kl(t,e,n){var r;let i=(r=MD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(a.join(" "));return}Th(new Kc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="firebase-heartbeat-database",UD=1,Hf="firebase-heartbeat-store";let kv=null;function dN(){return kv||(kv=iD(zD,UD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nl.create("idb-open",{originalErrorMessage:t.message})})),kv}async function $D(t){try{const n=(await dN()).transaction(Hf),r=await n.objectStore(Hf).get(fN(t));return await n.done,r}catch(e){if(e instanceof fa)oa.warn(e.message);else{const n=Nl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oa.warn(n.message)}}}async function kx(t,e){try{const r=(await dN()).transaction(Hf,"readwrite");await r.objectStore(Hf).put(e,fN(t)),await r.done}catch(n){if(n instanceof fa)oa.warn(n.message);else{const r=Nl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oa.warn(r.message)}}}function fN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=1024,HD=30*24*60*60*1e3;class WD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Tx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=HD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){oa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tx(),{heartbeatsToSend:r,unsentEntries:i}=GD(this._heartbeatsCache.heartbeats),s=t0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return oa.warn(n),""}}}function Tx(){return new Date().toISOString().substring(0,10)}function GD(t,e=qD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Px(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Px(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rj()?jj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $D(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Px(t){return t0(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){Th(new Kc("platform-logger",e=>new aD(e),"PRIVATE")),Th(new Kc("heartbeat",e=>new WD(e),"PRIVATE")),kl(h2,Ex,t),kl(h2,Ex,"esm2017"),kl("fire-js","")}YD("");function hw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QD=pN,gN=new gp("auth","Firebase",pN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new aw("@firebase/auth");function XD(t,...e){r0.logLevel<=It.WARN&&r0.warn(`Auth (${Hh}): ${t}`,...e)}function cm(t,...e){r0.logLevel<=It.ERROR&&r0.error(`Auth (${Hh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,...e){throw dw(t,...e)}function co(t,...e){return dw(t,...e)}function mN(t,e,n){const r=Object.assign(Object.assign({},QD()),{[e]:n});return new gp("auth","Firebase",r).create(e,{appName:t.name})}function Xo(t){return mN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gN.create(t,...e)}function dt(t,e,...n){if(!t)throw dw(e,...n)}function Go(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cm(e),new Error(e)}function aa(t,e){t||Go(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JD(){return Ix()==="http:"||Ix()==="https:"}function Ix(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JD()||Pj()||"connection"in navigator)?navigator.onLine:!0}function e8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.shortDelay=e,this.longDelay=n,aa(n>e,"Short delay should be less than long delay!"),this.isMobile=Nj()||Ij()}get(){return ZD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t,e){aa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Go("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Go("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Go("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8=new vp(3e4,6e4);function Gl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pa(t,e,n,r,i={}){return yN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mp(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return Tj()||(c.referrerPolicy="no-referrer"),vN.fetch()(wN(t,t.config.apiHost,n,a),c)})}async function yN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},t8),e);try{const i=new i8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bg(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bg(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bg(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw bg(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mN(t,u,c);Rs(t,u)}}catch(i){if(i instanceof fa)throw i;Rs(t,"network-request-failed",{message:String(i)})}}async function yp(t,e,n,r,i={}){const s=await pa(t,e,n,r,i);return"mfaPendingCredential"in s&&Rs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function wN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fw(t.config,i):`${t.config.apiScheme}://${i}`}function r8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(co(this.auth,"network-request-failed")),n8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=co(t,e,r);return i.customData._tokenResponse=n,i}function Cx(t){return t!==void 0&&t.enterprise!==void 0}class s8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function o8(t,e){return pa(t,"GET","/v2/recaptchaConfig",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t,e){return pa(t,"POST","/v1/accounts:delete",e)}async function _N(t,e){return pa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l8(t,e=!1){const n=Qn(t),r=await n.getIdToken(e),i=pw(r);dt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:uf(Tv(i.auth_time)),issuedAtTime:uf(Tv(i.iat)),expirationTime:uf(Tv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Tv(t){return Number(t)*1e3}function pw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const i=sN(n);return i?JSON.parse(i):(cm("Failed to decode base64 JWT payload"),null)}catch(i){return cm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Lx(t){const e=pw(t);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof fa&&c8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=uf(this.lastLoginAt),this.creationTime=uf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ph(t,_N(n,{idToken:r}));dt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bN(s.providerUserInfo):[],a=d8(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new g2(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function h8(t){const e=Qn(t);await i0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bN(t){return t.map(e=>{var{providerId:n}=e,r=hw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e){const n=await yN(t,{},async()=>{const r=mp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=wN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p8(t,e){return pa(t,"POST","/v2/accounts:revokeToken",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){dt(e.length!==0,"internal-error");const n=Lx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await f8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hh;return r&&(dt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(dt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(dt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hh,this.toJSON())}_performRefresh(){return Go("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t,e){dt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ko{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=hw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new u8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new g2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ph(this,this.stsTokenManager.getToken(this.auth,e));return dt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l8(this,e)}reload(){return h8(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ko(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await i0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(so(this.auth.app))return Promise.reject(Xo(this.auth));const e=await this.getIdToken();return await Ph(this,a8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:A,emailVerified:D,isAnonymous:F,providerData:U,stsTokenManager:I}=n;dt(A&&I,e,"internal-error");const S=hh.fromJSON(this.name,I);dt(typeof A=="string",e,"internal-error"),Ha(d,e.name),Ha(g,e.name),dt(typeof D=="boolean",e,"internal-error"),dt(typeof F=="boolean",e,"internal-error"),Ha(p,e.name),Ha(_,e.name),Ha(x,e.name),Ha(N,e.name),Ha(y,e.name),Ha(w,e.name);const C=new Ko({uid:A,auth:e,email:g,emailVerified:D,displayName:d,isAnonymous:F,photoURL:_,phoneNumber:p,tenantId:x,stsTokenManager:S,createdAt:y,lastLoginAt:w});return U&&Array.isArray(U)&&(C.providerData=U.map(L=>Object.assign({},L))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new hh;i.updateFromServerResponse(n);const s=new Ko({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await i0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];dt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?bN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new hh;a.updateFromIdToken(r);const l=new Ko({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new g2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Map;function Yo(t){aa(t instanceof Function,"Expected a class definition");let e=Rx.get(t);return e?(aa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xN.type="NONE";const jx=xN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t,e,n){return`firebase:${t}:${e}:${n}`}class dh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=um(this.userKey,i.apiKey,s),this.fullPersistenceKey=um("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ko._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dh(Yo(jx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Yo(jx);const o=um(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Ko._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new dh(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new dh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TN(e))return"Blackberry";if(PN(e))return"Webos";if(AN(e))return"Safari";if((e.includes("chrome/")||EN(e))&&!e.includes("edge/"))return"Chrome";if(kN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SN(t=Ur()){return/firefox\//i.test(t)}function AN(t=Ur()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function EN(t=Ur()){return/crios\//i.test(t)}function NN(t=Ur()){return/iemobile/i.test(t)}function kN(t=Ur()){return/android/i.test(t)}function TN(t=Ur()){return/blackberry/i.test(t)}function PN(t=Ur()){return/webos/i.test(t)}function gw(t=Ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g8(t=Ur()){var e;return gw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m8(){return Cj()&&document.documentMode===10}function IN(t=Ur()){return gw(t)||kN(t)||PN(t)||TN(t)||/windows phone/i.test(t)||NN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e=[]){let n;switch(t){case"Browser":n=Dx(Ur());break;case"Worker":n=`${Dx(Ur())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e={}){return pa(t,"GET","/v2/passwordPolicy",Gl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=6;class _8{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:w8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mx(this),this.idTokenSubscription=new Mx(this),this.beforeStateQueue=new v8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await dh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _N(this,{idToken:e}),r=await Ko._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(so(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await i0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(so(this.app))return Promise.reject(Xo(this));const n=e?Qn(e):null;return n&&dt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&dt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return so(this.app)?Promise.reject(Xo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return so(this.app)?Promise.reject(Xo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await y8(this),n=new _8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await p8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yo(e)||this._popupRedirectResolver;dt(n,this,"argument-error"),this.redirectPersistenceManager=await dh.create(this,[Yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function iu(t){return Qn(t)}class Mx{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vj(n=>this.observer=n)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x8(t){X0=t}function LN(t){return X0.loadJS(t)}function S8(){return X0.recaptchaEnterpriseScript}function A8(){return X0.gapiScript}function E8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const N8="recaptcha-enterprise",k8="NO_RECAPTCHA";class T8{constructor(e){this.type=N8,this.auth=iu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{o8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new s8(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Cx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(k8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Cx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=S8();l.length!==0&&(l+=a),LN(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ox(t,e,n,r=!1){const i=new T8(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function m2(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Ox(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ox(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t,e){const n=cw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(n0(s,e??{}))return i;Rs(i,"already-initialized")}return n.initialize({options:e})}function I8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function C8(t,e,n){const r=iu(t);dt(r._canInitEmulator,r,"emulator-config-failed"),dt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=RN(e),{host:o,port:a}=L8(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),R8()}function RN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L8(t){const e=RN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Fx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Fx(o)}}}function Fx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Go("not implemented")}_getIdTokenResponse(e){return Go("not implemented")}_linkToIdToken(e,n){return Go("not implemented")}_getReauthenticationResolver(e){return Go("not implemented")}}async function j8(t,e){return pa(t,"POST","/v1/accounts:update",e)}async function D8(t,e){return pa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(t,e){return yp(t,"POST","/v1/accounts:signInWithPassword",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t,e){return yp(t,"POST","/v1/accounts:signInWithEmailLink",Gl(t,e))}async function F8(t,e){return yp(t,"POST","/v1/accounts:signInWithEmailLink",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends mw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m2(e,n,"signInWithPassword",M8);case"emailLink":return O8(e,{email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return m2(e,r,"signUpPassword",D8);case"emailLink":return F8(e,{idToken:n,email:this._email,oobCode:this._password});default:Rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t,e){return yp(t,"POST","/v1/accounts:signInWithIdp",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="http://localhost";class Yc extends mw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=hw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Yc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fh(e,n)}buildRequest(){const e={requestUri:V8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function z8(t){const e=Ud($d(t)).link,n=e?Ud($d(e)).deep_link_id:null,r=Ud($d(t)).deep_link_id;return(r?Ud($d(r)).link:null)||r||n||e||t}class vw{constructor(e){var n,r,i,s,o,a;const l=Ud($d(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=B8((i=l.mode)!==null&&i!==void 0?i:null);dt(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=z8(e);try{return new vw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this.providerId=Wh.PROVIDER_ID}static credential(e,n){return Wf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=vw.parseLink(n);return dt(r,"argument-error"),Wf._fromEmailAndCode(e,r.code,r.tenantId)}}Wh.PROVIDER_ID="password";Wh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends jN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends wp{constructor(){super("facebook.com")}static credential(e){return Yc._fromParams({providerId:tl.PROVIDER_ID,signInMethod:tl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tl.credentialFromTaggedObject(e)}static credentialFromError(e){return tl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tl.credential(e.oauthAccessToken)}catch{return null}}}tl.FACEBOOK_SIGN_IN_METHOD="facebook.com";tl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends wp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yc._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nl.credentialFromTaggedObject(e)}static credentialFromError(e){return nl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nl.credential(n,r)}catch{return null}}}nl.GOOGLE_SIGN_IN_METHOD="google.com";nl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends wp{constructor(){super("github.com")}static credential(e){return Yc._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rl.credential(e.oauthAccessToken)}catch{return null}}}rl.GITHUB_SIGN_IN_METHOD="github.com";rl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends wp{constructor(){super("twitter.com")}static credential(e,n){return Yc._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return il.credential(n,r)}catch{return null}}}il.TWITTER_SIGN_IN_METHOD="twitter.com";il.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,e){return yp(t,"POST","/v1/accounts:signUp",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ko._fromIdTokenResponse(e,r,i),o=Vx(r);return new Qc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Vx(r);return new Qc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Vx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends fa{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,s0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new s0(e,n,r,i)}}function DN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?s0._fromErrorAndOperation(t,s,e,r):s})}async function $8(t,e,n=!1){const r=await Ph(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8(t,e,n=!1){const{auth:r}=t;if(so(r.app))return Promise.reject(Xo(r));const i="reauthenticate";try{const s=await Ph(t,DN(r,i,e,t),n);dt(s.idToken,r,"internal-error");const o=pw(s.idToken);dt(o,r,"internal-error");const{sub:a}=o;return dt(t.uid===a,r,"user-mismatch"),Qc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e,n=!1){if(so(t.app))return Promise.reject(Xo(t));const r="signIn",i=await DN(t,r,e),s=await Qc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function H8(t,e){return MN(iu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t){const e=iu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function W8(t,e,n){if(so(t.app))return Promise.reject(Xo(t));const r=iu(t),o=await m2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ON(t),l}),a=await Qc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function G8(t,e,n){return so(t.app)?Promise.reject(Xo(t)):H8(Qn(t),Wh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ON(t),r})}function K8(t,e){return Y8(Qn(t),null,e)}async function Y8(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Ph(t,j8(r,s));await t._updateTokensIfNecessary(o,!0)}function Q8(t,e,n,r){return Qn(t).onIdTokenChanged(e,n,r)}function X8(t,e,n){return Qn(t).beforeAuthStateChanged(e,n)}function J8(t,e,n,r){return Qn(t).onAuthStateChanged(e,n,r)}function FN(t){return Qn(t).signOut()}const o0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(o0,"1"),this.storage.removeItem(o0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=1e3,e7=10;class BN extends VN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);m8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,e7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Z8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BN.type="LOCAL";const t7=BN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN extends VN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zN.type="SESSION";const UN=zN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new J0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await n7(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}J0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=yw("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const g=d;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(){return window}function i7(t){uo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){return typeof uo().WorkerGlobalScope<"u"&&typeof uo().importScripts=="function"}async function s7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function a7(){return $N()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="firebaseLocalStorageDb",l7=1,a0="firebaseLocalStorage",HN="fbase_key";class _p{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Z0(t,e){return t.transaction([a0],e?"readwrite":"readonly").objectStore(a0)}function c7(){const t=indexedDB.deleteDatabase(qN);return new _p(t).toPromise()}function v2(){const t=indexedDB.open(qN,l7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(a0,{keyPath:HN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(a0)?e(r):(r.close(),await c7(),e(await v2()))})})}async function Bx(t,e,n){const r=Z0(t,!0).put({[HN]:e,value:n});return new _p(r).toPromise()}async function u7(t,e){const n=Z0(t,!1).get(e),r=await new _p(n).toPromise();return r===void 0?null:r.value}function zx(t,e){const n=Z0(t,!0).delete(e);return new _p(n).toPromise()}const h7=800,d7=3;class WN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $N()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=J0._getInstance(a7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await s7(),!this.activeServiceWorker)return;this.sender=new r7(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v2();return await Bx(e,o0,"1"),await zx(e,o0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Bx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>u7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Z0(i,!1).getAll();return new _p(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WN.type="LOCAL";const f7=WN;new vp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t,e){return e?Yo(e):(dt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends mw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g7(t){return MN(t.auth,new ww(t),t.bypassAuthState)}function m7(t){const{auth:e,user:n}=t;return dt(n,e,"internal-error"),q8(n,new ww(t),t.bypassAuthState)}async function v7(t){const{auth:e,user:n}=t;return dt(n,e,"internal-error"),$8(n,new ww(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g7;case"linkViaPopup":case"linkViaRedirect":return v7;case"reauthViaPopup":case"reauthViaRedirect":return m7;default:Rs(this.auth,"internal-error")}}resolve(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=new vp(2e3,1e4);class th extends GN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,th.currentPopupAction&&th.currentPopupAction.cancel(),th.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return dt(e,this.auth,"internal-error"),e}async onExecution(){aa(this.filter.length===1,"Popup operations only handle one event");const e=yw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(co(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(co(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,th.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(co(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y7.get())};e()}}th.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7="pendingRedirect",hm=new Map;class _7 extends GN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=hm.get(this.auth._key());if(!e){try{const r=await b7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}hm.set(this.auth._key(),e)}return this.bypassAuthState||hm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b7(t,e){const n=A7(e),r=S7(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function x7(t,e){hm.set(t._key(),e)}function S7(t){return Yo(t._redirectPersistence)}function A7(t){return um(w7,t.config.apiKey,t.name)}async function E7(t,e,n=!1){if(so(t.app))return Promise.reject(Xo(t));const r=iu(t),i=p7(r,e),o=await new _7(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=10*60*1e3;class k7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!T7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(co(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N7&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ux(e))}saveEventToCache(e){this.cachedEventUids.add(Ux(e)),this.lastProcessedEventTime=Date.now()}}function Ux(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function T7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P7(t,e={}){return pa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C7=/^https?/;async function L7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await P7(t);for(const n of e)try{if(R7(n))return}catch{}Rs(t,"unauthorized-domain")}function R7(t){const e=p2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!C7.test(n))return!1;if(I7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=new vp(3e4,6e4);function $x(){const t=uo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function D7(t){return new Promise((e,n)=>{var r,i,s;function o(){$x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$x(),n(co(t,"network-request-failed"))},timeout:j7.get()})}if(!((i=(r=uo().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=uo().gapi)===null||s===void 0)&&s.load)o();else{const a=E8("iframefcb");return uo()[a]=()=>{gapi.load?o():n(co(t,"network-request-failed"))},LN(`${A8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw dm=null,e})}let dm=null;function M7(t){return dm=dm||D7(t),dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=new vp(5e3,15e3),F7="__/auth/iframe",V7="emulator/auth/iframe",B7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U7(t){const e=t.config;dt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fw(e,V7):`https://${t.config.authDomain}/${F7}`,r={apiKey:e.apiKey,appName:t.name,v:Hh},i=z7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mp(r).slice(1)}`}async function $7(t){const e=await M7(t),n=uo().gapi;return dt(n,t,"internal-error"),e.open({where:document.body,url:U7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=co(t,"network-request-failed"),a=uo().setTimeout(()=>{s(o)},O7.get());function l(){uo().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H7=500,W7=600,G7="_blank",K7="http://localhost";class qx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y7(t,e,n,r=H7,i=W7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},q7),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ur().toLowerCase();n&&(a=EN(c)?G7:n),SN(c)&&(e=e||K7,l.scrollbars="yes");const u=Object.entries(l).reduce((g,[p,_])=>`${g}${p}=${_},`,"");if(g8(c)&&a!=="_self")return Q7(e||"",a),new qx(null);const d=window.open(e||"",a,u);dt(d,t,"popup-blocked");try{d.focus()}catch{}return new qx(d)}function Q7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="__/auth/handler",J7="emulator/auth/handler",Z7=encodeURIComponent("fac");async function Hx(t,e,n,r,i,s){dt(t.config.authDomain,t,"auth-domain-config-required"),dt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hh,eventId:i};if(e instanceof jN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Fj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof wp){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Z7}=${encodeURIComponent(l)}`:"";return`${eM(t)}?${mp(a).slice(1)}${c}`}function eM({config:t}){return t.emulator?fw(t,J7):`https://${t.authDomain}/${X7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="webStorageSupport";class tM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UN,this._completeRedirectFn=E7,this._overrideRedirectResult=x7}async _openPopup(e,n,r,i){var s;aa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Hx(e,n,r,p2(),i);return Y7(e,o,yw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Hx(e,n,r,p2(),i);return i7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(aa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $7(e),r=new k7(e);return n.register("authEvent",i=>(dt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pv,{type:Pv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Pv];o!==void 0&&n(!!o),Rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IN()||AN()||gw()}}const nM=tM;var Wx="@firebase/auth",Gx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sM(t){Th(new Kc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;dt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CN(t)},c=new b8(r,i,s,l);return I8(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Th(new Kc("auth-internal",e=>{const n=iu(e.getProvider("auth").getImmediate());return(r=>new rM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kl(Wx,Gx,iM(t)),kl(Wx,Gx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=5*60,aM=lN("authIdTokenMaxAge")||oM;let Kx=null;const lM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aM)return;const i=n==null?void 0:n.token;Kx!==i&&(Kx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cM(t=uw()){const e=cw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P8(t,{popupRedirectResolver:nM,persistence:[f7,t7,UN]}),r=lN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=lM(s.toString());X8(n,o,()=>o(n.currentUser)),Q8(n,a=>o(a))}}const i=oN("auth");return i&&C8(n,`http://${i}`),n}function uM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=co("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sM("Browser");var hM="firebase",dM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kl(hM,dM,"app");var Yx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mc,YN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function C(){}C.prototype=S.prototype,I.D=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(L,k,P){for(var j=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)j[Q-2]=arguments[Q];return S.prototype[k].apply(L,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,S,C){C||(C=0);var L=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)L[k]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(k=0;16>k;++k)L[k]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],k=I.g[2];var P=I.g[3],j=S+(P^C&(k^P))+L[0]+3614090360&4294967295;S=C+(j<<7&4294967295|j>>>25),j=P+(k^S&(C^k))+L[1]+3905402710&4294967295,P=S+(j<<12&4294967295|j>>>20),j=k+(C^P&(S^C))+L[2]+606105819&4294967295,k=P+(j<<17&4294967295|j>>>15),j=C+(S^k&(P^S))+L[3]+3250441966&4294967295,C=k+(j<<22&4294967295|j>>>10),j=S+(P^C&(k^P))+L[4]+4118548399&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(k^S&(C^k))+L[5]+1200080426&4294967295,P=S+(j<<12&4294967295|j>>>20),j=k+(C^P&(S^C))+L[6]+2821735955&4294967295,k=P+(j<<17&4294967295|j>>>15),j=C+(S^k&(P^S))+L[7]+4249261313&4294967295,C=k+(j<<22&4294967295|j>>>10),j=S+(P^C&(k^P))+L[8]+1770035416&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(k^S&(C^k))+L[9]+2336552879&4294967295,P=S+(j<<12&4294967295|j>>>20),j=k+(C^P&(S^C))+L[10]+4294925233&4294967295,k=P+(j<<17&4294967295|j>>>15),j=C+(S^k&(P^S))+L[11]+2304563134&4294967295,C=k+(j<<22&4294967295|j>>>10),j=S+(P^C&(k^P))+L[12]+1804603682&4294967295,S=C+(j<<7&4294967295|j>>>25),j=P+(k^S&(C^k))+L[13]+4254626195&4294967295,P=S+(j<<12&4294967295|j>>>20),j=k+(C^P&(S^C))+L[14]+2792965006&4294967295,k=P+(j<<17&4294967295|j>>>15),j=C+(S^k&(P^S))+L[15]+1236535329&4294967295,C=k+(j<<22&4294967295|j>>>10),j=S+(k^P&(C^k))+L[1]+4129170786&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^k&(S^C))+L[6]+3225465664&4294967295,P=S+(j<<9&4294967295|j>>>23),j=k+(S^C&(P^S))+L[11]+643717713&4294967295,k=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(k^P))+L[0]+3921069994&4294967295,C=k+(j<<20&4294967295|j>>>12),j=S+(k^P&(C^k))+L[5]+3593408605&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^k&(S^C))+L[10]+38016083&4294967295,P=S+(j<<9&4294967295|j>>>23),j=k+(S^C&(P^S))+L[15]+3634488961&4294967295,k=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(k^P))+L[4]+3889429448&4294967295,C=k+(j<<20&4294967295|j>>>12),j=S+(k^P&(C^k))+L[9]+568446438&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^k&(S^C))+L[14]+3275163606&4294967295,P=S+(j<<9&4294967295|j>>>23),j=k+(S^C&(P^S))+L[3]+4107603335&4294967295,k=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(k^P))+L[8]+1163531501&4294967295,C=k+(j<<20&4294967295|j>>>12),j=S+(k^P&(C^k))+L[13]+2850285829&4294967295,S=C+(j<<5&4294967295|j>>>27),j=P+(C^k&(S^C))+L[2]+4243563512&4294967295,P=S+(j<<9&4294967295|j>>>23),j=k+(S^C&(P^S))+L[7]+1735328473&4294967295,k=P+(j<<14&4294967295|j>>>18),j=C+(P^S&(k^P))+L[12]+2368359562&4294967295,C=k+(j<<20&4294967295|j>>>12),j=S+(C^k^P)+L[5]+4294588738&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^k)+L[8]+2272392833&4294967295,P=S+(j<<11&4294967295|j>>>21),j=k+(P^S^C)+L[11]+1839030562&4294967295,k=P+(j<<16&4294967295|j>>>16),j=C+(k^P^S)+L[14]+4259657740&4294967295,C=k+(j<<23&4294967295|j>>>9),j=S+(C^k^P)+L[1]+2763975236&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^k)+L[4]+1272893353&4294967295,P=S+(j<<11&4294967295|j>>>21),j=k+(P^S^C)+L[7]+4139469664&4294967295,k=P+(j<<16&4294967295|j>>>16),j=C+(k^P^S)+L[10]+3200236656&4294967295,C=k+(j<<23&4294967295|j>>>9),j=S+(C^k^P)+L[13]+681279174&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^k)+L[0]+3936430074&4294967295,P=S+(j<<11&4294967295|j>>>21),j=k+(P^S^C)+L[3]+3572445317&4294967295,k=P+(j<<16&4294967295|j>>>16),j=C+(k^P^S)+L[6]+76029189&4294967295,C=k+(j<<23&4294967295|j>>>9),j=S+(C^k^P)+L[9]+3654602809&4294967295,S=C+(j<<4&4294967295|j>>>28),j=P+(S^C^k)+L[12]+3873151461&4294967295,P=S+(j<<11&4294967295|j>>>21),j=k+(P^S^C)+L[15]+530742520&4294967295,k=P+(j<<16&4294967295|j>>>16),j=C+(k^P^S)+L[2]+3299628645&4294967295,C=k+(j<<23&4294967295|j>>>9),j=S+(k^(C|~P))+L[0]+4096336452&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~k))+L[7]+1126891415&4294967295,P=S+(j<<10&4294967295|j>>>22),j=k+(S^(P|~C))+L[14]+2878612391&4294967295,k=P+(j<<15&4294967295|j>>>17),j=C+(P^(k|~S))+L[5]+4237533241&4294967295,C=k+(j<<21&4294967295|j>>>11),j=S+(k^(C|~P))+L[12]+1700485571&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~k))+L[3]+2399980690&4294967295,P=S+(j<<10&4294967295|j>>>22),j=k+(S^(P|~C))+L[10]+4293915773&4294967295,k=P+(j<<15&4294967295|j>>>17),j=C+(P^(k|~S))+L[1]+2240044497&4294967295,C=k+(j<<21&4294967295|j>>>11),j=S+(k^(C|~P))+L[8]+1873313359&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~k))+L[15]+4264355552&4294967295,P=S+(j<<10&4294967295|j>>>22),j=k+(S^(P|~C))+L[6]+2734768916&4294967295,k=P+(j<<15&4294967295|j>>>17),j=C+(P^(k|~S))+L[13]+1309151649&4294967295,C=k+(j<<21&4294967295|j>>>11),j=S+(k^(C|~P))+L[4]+4149444226&4294967295,S=C+(j<<6&4294967295|j>>>26),j=P+(C^(S|~k))+L[11]+3174756917&4294967295,P=S+(j<<10&4294967295|j>>>22),j=k+(S^(P|~C))+L[2]+718787259&4294967295,k=P+(j<<15&4294967295|j>>>17),j=C+(P^(k|~S))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(k+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var C=S-this.blockSize,L=this.B,k=this.h,P=0;P<S;){if(k==0)for(;P<=C;)i(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<S;)if(L[k++]=I.charCodeAt(P++),k==this.blockSize){i(this,L),k=0;break}}else for(;P<S;)if(L[k++]=I[P++],k==this.blockSize){i(this,L),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var C=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=C&255,C/=256;for(this.u(I),I=Array(16),S=C=0;4>S;++S)for(var L=0;32>L;L+=8)I[C++]=this.g[S]>>>L&255;return I};function s(I,S){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function o(I,S){this.h=S;for(var C=[],L=!0,k=I.length-1;0<=k;k--){var P=I[k]|0;L&&P==S||(C[k]=P,L=!1)}this.g=C}var a={};function l(I){return-128<=I&&128>I?s(I,function(S){return new o([S|0],0>S?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return N(c(-I));for(var S=[],C=1,L=0;I>=C;L++)S[L]=I/C|0,C*=4294967296;return new o(S,0)}function u(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return N(u(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(S,8)),L=d,k=0;k<I.length;k+=8){var P=Math.min(8,I.length-k),j=parseInt(I.substring(k,k+P),S);8>P?(P=c(Math.pow(S,P)),L=L.j(P).add(c(j))):(L=L.j(C),L=L.add(c(j)))}return L}var d=l(0),g=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-N(this).m();for(var I=0,S=1,C=0;C<this.g.length;C++){var L=this.i(C);I+=(0<=L?L:4294967296+L)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(x(this))return"-"+N(this).toString(I);for(var S=c(Math.pow(I,6)),C=this,L="";;){var k=D(C,S).g;C=y(C,k.j(S));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=k,_(C))return P+L;for(;6>P.length;)P="0"+P;L=P+L}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=y(this,I),x(I)?-1:_(I)?0:1};function N(I){for(var S=I.g.length,C=[],L=0;L<S;L++)C[L]=~I.g[L];return new o(C,~I.h).add(g)}t.abs=function(){return x(this)?N(this):this},t.add=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],L=0,k=0;k<=S;k++){var P=L+(this.i(k)&65535)+(I.i(k)&65535),j=(P>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);L=j>>>16,P&=65535,j&=65535,C[k]=j<<16|P}return new o(C,C[C.length-1]&-2147483648?-1:0)};function y(I,S){return I.add(N(S))}t.j=function(I){if(_(this)||_(I))return d;if(x(this))return x(I)?N(this).j(N(I)):N(N(this).j(I));if(x(I))return N(this.j(N(I)));if(0>this.l(p)&&0>I.l(p))return c(this.m()*I.m());for(var S=this.g.length+I.g.length,C=[],L=0;L<2*S;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(var k=0;k<I.g.length;k++){var P=this.i(L)>>>16,j=this.i(L)&65535,Q=I.i(k)>>>16,ae=I.i(k)&65535;C[2*L+2*k]+=j*ae,w(C,2*L+2*k),C[2*L+2*k+1]+=P*ae,w(C,2*L+2*k+1),C[2*L+2*k+1]+=j*Q,w(C,2*L+2*k+1),C[2*L+2*k+2]+=P*Q,w(C,2*L+2*k+2)}for(L=0;L<S;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=S;L<2*S;L++)C[L]=0;return new o(C,0)};function w(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function A(I,S){this.g=I,this.h=S}function D(I,S){if(_(S))throw Error("division by zero");if(_(I))return new A(d,d);if(x(I))return S=D(N(I),S),new A(N(S.g),N(S.h));if(x(S))return S=D(I,N(S)),new A(N(S.g),S.h);if(30<I.g.length){if(x(I)||x(S))throw Error("slowDivide_ only works with positive integers.");for(var C=g,L=S;0>=L.l(I);)C=F(C),L=F(L);var k=U(C,1),P=U(L,1);for(L=U(L,2),C=U(C,2);!_(L);){var j=P.add(L);0>=j.l(I)&&(k=k.add(C),P=j),L=U(L,1),C=U(C,1)}return S=y(I,k.j(S)),new A(k,S)}for(k=d;0<=I.l(S);){for(C=Math.max(1,Math.floor(I.m()/S.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),P=c(C),j=P.j(S);x(j)||0<j.l(I);)C-=L,P=c(C),j=P.j(S);_(P)&&(P=g),k=k.add(P),I=y(I,j)}return new A(k,I)}t.A=function(I){return D(this,I).h},t.and=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],L=0;L<S;L++)C[L]=this.i(L)&I.i(L);return new o(C,this.h&I.h)},t.or=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],L=0;L<S;L++)C[L]=this.i(L)|I.i(L);return new o(C,this.h|I.h)},t.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),C=[],L=0;L<S;L++)C[L]=this.i(L)^I.i(L);return new o(C,this.h^I.h)};function F(I){for(var S=I.g.length+1,C=[],L=0;L<S;L++)C[L]=I.i(L)<<1|I.i(L-1)>>>31;return new o(C,I.h)}function U(I,S){var C=S>>5;S%=32;for(var L=I.g.length-C,k=[],P=0;P<L;P++)k[P]=0<S?I.i(P+C)>>>S|I.i(P+C+1)<<32-S:I.i(P+C);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YN=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Mc=o}).apply(typeof Yx<"u"?Yx:typeof self<"u"?self:typeof window<"u"?window:{});var xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QN,qd,XN,fm,y2,JN,ZN,ek;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,T,M){return f==Array.prototype||f==Object.prototype||(f[T]=M.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof xg=="object"&&xg];for(var T=0;T<f.length;++T){var M=f[T];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(f,T){if(T)e:{var M=r;f=f.split(".");for(var W=0;W<f.length-1;W++){var fe=f[W];if(!(fe in M))break e;M=M[fe]}f=f[f.length-1],W=M[f],T=T(W),T!=W&&T!=null&&e(M,f,{configurable:!0,writable:!0,value:T})}}function s(f,T){f instanceof String&&(f+="");var M=0,W=!1,fe={next:function(){if(!W&&M<f.length){var be=M++;return{value:T(be,f[be]),done:!1}}return W=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}i("Array.prototype.values",function(f){return f||function(){return s(this,function(T,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var T=typeof f;return T=T!="object"?T:f?Array.isArray(f)?"array":T:"null",T=="array"||T=="object"&&typeof f.length=="number"}function c(f){var T=typeof f;return T=="object"&&f!=null||T=="function"}function u(f,T,M){return f.call.apply(f.bind,arguments)}function d(f,T,M){if(!f)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,W),f.apply(T,fe)}}return function(){return f.apply(T,arguments)}}function g(f,T,M){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,g.apply(null,arguments)}function p(f,T){var M=Array.prototype.slice.call(arguments,1);return function(){var W=M.slice();return W.push.apply(W,arguments),f.apply(this,W)}}function _(f,T){function M(){}M.prototype=T.prototype,f.aa=T.prototype,f.prototype=new M,f.prototype.constructor=f,f.Qb=function(W,fe,be){for(var Le=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)Le[mt-2]=arguments[mt];return T.prototype[fe].apply(W,Le)}}function x(f){const T=f.length;if(0<T){const M=Array(T);for(let W=0;W<T;W++)M[W]=f[W];return M}return[]}function N(f,T){for(let M=1;M<arguments.length;M++){const W=arguments[M];if(l(W)){const fe=f.length||0,be=W.length||0;f.length=fe+be;for(let Le=0;Le<be;Le++)f[fe+Le]=W[Le]}else f.push(W)}}class y{constructor(T,M){this.i=T,this.j=M,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(f){return/^[\s\xa0]*$/.test(f)}function A(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function D(f){return D[" "](f),f}D[" "]=function(){};var F=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function U(f,T,M){for(const W in f)T.call(M,f[W],W,f)}function I(f,T){for(const M in f)T.call(void 0,f[M],M,f)}function S(f){const T={};for(const M in f)T[M]=f[M];return T}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,T){let M,W;for(let fe=1;fe<arguments.length;fe++){W=arguments[fe];for(M in W)f[M]=W[M];for(let be=0;be<C.length;be++)M=C[be],Object.prototype.hasOwnProperty.call(W,M)&&(f[M]=W[M])}}function k(f){var T=1;f=f.split(":");const M=[];for(;0<T&&f.length;)M.push(f.shift()),T--;return f.length&&M.push(f.join(":")),M}function P(f){a.setTimeout(()=>{throw f},0)}function j(){var f=ee;let T=null;return f.g&&(T=f.g,f.g=f.g.next,f.g||(f.h=null),T.next=null),T}class Q{constructor(){this.h=this.g=null}add(T,M){const W=ae.get();W.set(T,M),this.h?this.h.next=W:this.g=W,this.h=W}}var ae=new y(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(T,M){this.h=T,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,Y=!1,ee=new Q,se=()=>{const f=a.Promise.resolve(void 0);Z=()=>{f.then(me)}};var me=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(M){P(M)}var T=ae;T.j(f),100>T.h&&(T.h++,f.next=T.g,T.g=f)}Y=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(f,T){this.type=f,this.g=this.target=T,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,T=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const M=()=>{};a.addEventListener("test",M,T),a.removeEventListener("test",M,T)}catch{}return f}();function J(f,T){if(z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var M=this.type=f.type,W=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=T,T=f.relatedTarget){if(F){e:{try{D(T.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(T=null)}}else M=="mouseover"?T=f.fromElement:M=="mouseout"&&(T=f.toElement);this.relatedTarget=T,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:re[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&J.aa.h.call(this)}}_(J,z);var re={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),ve=0;function _e(f,T,M,W,fe){this.listener=f,this.proxy=null,this.src=T,this.type=M,this.capture=!!W,this.ha=fe,this.key=++ve,this.da=this.fa=!1}function Re(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ee(f){this.src=f,this.g={},this.h=0}Ee.prototype.add=function(f,T,M,W,fe){var be=f.toString();f=this.g[be],f||(f=this.g[be]=[],this.h++);var Le=Me(f,T,W,fe);return-1<Le?(T=f[Le],M||(T.fa=!1)):(T=new _e(T,this.src,be,!!W,fe),T.fa=M,f.push(T)),T};function Fe(f,T){var M=T.type;if(M in f.g){var W=f.g[M],fe=Array.prototype.indexOf.call(W,T,void 0),be;(be=0<=fe)&&Array.prototype.splice.call(W,fe,1),be&&(Re(T),f.g[M].length==0&&(delete f.g[M],f.h--))}}function Me(f,T,M,W){for(var fe=0;fe<f.length;++fe){var be=f[fe];if(!be.da&&be.listener==T&&be.capture==!!M&&be.ha==W)return fe}return-1}var tt="closure_lm_"+(1e6*Math.random()|0),Ae={};function oe(f,T,M,W,fe){if(Array.isArray(T)){for(var be=0;be<T.length;be++)oe(f,T[be],M,W,fe);return null}return M=gt(M),f&&f[he]?f.K(T,M,c(W)?!!W.capture:!!W,fe):pt(f,T,M,!1,W,fe)}function pt(f,T,M,W,fe,be){if(!T)throw Error("Invalid event type");var Le=c(fe)?!!fe.capture:!!fe,mt=et(f);if(mt||(f[tt]=mt=new Ee(f)),M=mt.add(T,M,W,Le,be),M.proxy)return M;if(W=Je(),M.proxy=W,W.src=f,W.listener=M,f.addEventListener)q||(fe=Le),fe===void 0&&(fe=!1),f.addEventListener(T.toString(),W,fe);else if(f.attachEvent)f.attachEvent(qe(T.toString()),W);else if(f.addListener&&f.removeListener)f.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Je(){function f(M){return T.call(f.src,f.listener,M)}const T=Ue;return f}function De(f,T,M,W,fe){if(Array.isArray(T))for(var be=0;be<T.length;be++)De(f,T[be],M,W,fe);else W=c(W)?!!W.capture:!!W,M=gt(M),f&&f[he]?(f=f.i,T=String(T).toString(),T in f.g&&(be=f.g[T],M=Me(be,M,W,fe),-1<M&&(Re(be[M]),Array.prototype.splice.call(be,M,1),be.length==0&&(delete f.g[T],f.h--)))):f&&(f=et(f))&&(T=f.g[T.toString()],f=-1,T&&(f=Me(T,M,W,fe)),(M=-1<f?T[f]:null)&&Ve(M))}function Ve(f){if(typeof f!="number"&&f&&!f.da){var T=f.src;if(T&&T[he])Fe(T.i,f);else{var M=f.type,W=f.proxy;T.removeEventListener?T.removeEventListener(M,W,f.capture):T.detachEvent?T.detachEvent(qe(M),W):T.addListener&&T.removeListener&&T.removeListener(W),(M=et(T))?(Fe(M,f),M.h==0&&(M.src=null,T[tt]=null)):Re(f)}}}function qe(f){return f in Ae?Ae[f]:Ae[f]="on"+f}function Ue(f,T){if(f.da)f=!0;else{T=new J(T,this);var M=f.listener,W=f.ha||f.src;f.fa&&Ve(f),f=M.call(W,T)}return f}function et(f){return f=f[tt],f instanceof Ee?f:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function gt(f){return typeof f=="function"?f:(f[ut]||(f[ut]=function(T){return f.handleEvent(T)}),f[ut])}function nt(){O.call(this),this.i=new Ee(this),this.M=this,this.F=null}_(nt,O),nt.prototype[he]=!0,nt.prototype.removeEventListener=function(f,T,M,W){De(this,f,T,M,W)};function lt(f,T){var M,W=f.F;if(W)for(M=[];W;W=W.F)M.push(W);if(f=f.M,W=T.type||T,typeof T=="string")T=new z(T,f);else if(T instanceof z)T.target=T.target||f;else{var fe=T;T=new z(W,f),L(T,fe)}if(fe=!0,M)for(var be=M.length-1;0<=be;be--){var Le=T.g=M[be];fe=Rt(Le,W,!0,T)&&fe}if(Le=T.g=f,fe=Rt(Le,W,!0,T)&&fe,fe=Rt(Le,W,!1,T)&&fe,M)for(be=0;be<M.length;be++)Le=T.g=M[be],fe=Rt(Le,W,!1,T)&&fe}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var f=this.i,T;for(T in f.g){for(var M=f.g[T],W=0;W<M.length;W++)Re(M[W]);delete f.g[T],f.h--}}this.F=null},nt.prototype.K=function(f,T,M,W){return this.i.add(String(f),T,!1,M,W)},nt.prototype.L=function(f,T,M,W){return this.i.add(String(f),T,!0,M,W)};function Rt(f,T,M,W){if(T=f.i.g[String(T)],!T)return!0;T=T.concat();for(var fe=!0,be=0;be<T.length;++be){var Le=T[be];if(Le&&!Le.da&&Le.capture==M){var mt=Le.listener,Nt=Le.ha||Le.src;Le.fa&&Fe(f.i,Le),fe=mt.call(Nt,W)!==!1&&fe}}return fe&&!W.defaultPrevented}function at(f,T,M){if(typeof f=="function")M&&(f=g(f,M));else if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:a.setTimeout(f,T||0)}function xt(f){f.g=at(()=>{f.g=null,f.i&&(f.i=!1,xt(f))},f.l);const T=f.h;f.h=null,f.m.apply(null,T)}class He extends O{constructor(T,M){super(),this.m=T,this.l=M,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nn(f){O.call(this),this.h=f,this.g={}}_(Nn,O);var Pt=[];function ti(f){U(f.g,function(T,M){this.g.hasOwnProperty(M)&&Ve(T)},f),f.g={}}Nn.prototype.N=function(){Nn.aa.N.call(this),ti(this)},Nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=a.JSON.stringify,sn=a.JSON.parse,Fi=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Ct(){}Ct.prototype.h=null;function Fs(f){return f.h||(f.h=f.i())}function hn(){}var cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){z.call(this,"d")}_(wi,z);function on(){z.call(this,"c")}_(on,z);var it={},jt=null;function Vi(){return jt=jt||new nt}it.La="serverreachability";function Un(f){z.call(this,it.La,f)}_(Un,z);function br(f){const T=Vi();lt(T,new Un(T))}it.STAT_EVENT="statevent";function _i(f,T){z.call(this,it.STAT_EVENT,f),this.stat=T}_(_i,z);function Ye(f){const T=Vi();lt(T,new _i(T,f))}it.Ma="timingevent";function ni(f,T){z.call(this,it.Ma,f),this.size=T}_(ni,z);function xr(f,T){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},T)}function $n(){this.g=!0}$n.prototype.xa=function(){this.g=!1};function Ln(f,T,M,W,fe,be){f.info(function(){if(f.g)if(be)for(var Le="",mt=be.split("&"),Nt=0;Nt<mt.length;Nt++){var vt=mt[Nt].split("=");if(1<vt.length){var $t=vt[0];vt=vt[1];var Zt=$t.split("_");Le=2<=Zt.length&&Zt[1]=="type"?Le+($t+"="+vt+"&"):Le+($t+"=redacted&")}}else Le=null;else Le=be;return"XMLHTTP REQ ("+W+") [attempt "+fe+"]: "+T+`
`+M+`
`+Le})}function kn(f,T,M,W,fe,be,Le){f.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+fe+"]: "+T+`
`+M+`
`+be+" "+Le})}function qn(f,T,M,W){f.info(function(){return"XMLHTTP TEXT ("+T+"): "+us(f,M)+(W?" "+W:"")})}function ga(f,T){f.info(function(){return"TIMEOUT: "+T})}$n.prototype.info=function(){};function us(f,T){if(!f.g)return T;if(!T)return null;try{var M=JSON.parse(T);if(M){for(f=0;f<M.length;f++)if(Array.isArray(M[f])){var W=M[f];if(!(2>W.length)){var fe=W[1];if(Array.isArray(fe)&&!(1>fe.length)){var be=fe[0];if(be!="noop"&&be!="stop"&&be!="close")for(var Le=1;Le<fe.length;Le++)fe[Le]=""}}}}return Bt(M)}catch{return T}}var Sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$r;function qr(){}_(qr,Ct),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},$r=new qr;function Rn(f,T,M,W){this.j=f,this.i=T,this.l=M,this.R=W||1,this.U=new Nn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bi}function bi(){this.i=null,this.g="",this.h=!1}var Vs={},Bs={};function zs(f,T,M){f.L=1,f.v=So(Hr(T)),f.m=M,f.P=!0,yo(f,null)}function yo(f,T){f.F=Date.now(),ma(f),f.A=Hr(f.v);var M=f.A,W=f.R;Array.isArray(W)||(W=[String(W)]),ht(M.i,"t",W),f.C=0,M=f.j.J,f.h=new bi,f.g=V(f.j,M?T:null,!f.m),0<f.O&&(f.M=new He(g(f.Y,f,f.g),f.O)),T=f.U,M=f.g,W=f.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(Pt[0]=fe.toString()),fe=Pt);for(var be=0;be<fe.length;be++){var Le=oe(M,fe[be],W||T.handleEvent,!1,T.h||T);if(!Le)break;T.g[Le.key]=Le}T=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,T)):(f.u="GET",f.g.ea(f.A,f.u,null,T)),br(),Ln(f.i,f.u,f.A,f.l,f.R,f.m)}Rn.prototype.ca=function(f){f=f.target;const T=this.M;T&&Xn(f)==3?T.j():this.Y(f)},Rn.prototype.Y=function(f){try{if(f==this.g)e:{const Zt=Xn(this.g);var T=this.g.Ba();const ys=this.g.Z();if(!(3>Zt)&&(Zt!=3||this.g&&(this.h.h||this.g.oa()||yu(this.g)))){this.J||Zt!=4||T==7||(T==8||0>=ys?br(3):br(2)),Us(this);var M=this.g.Z();this.X=M;t:if(wo(this)){var W=yu(this.g);f="";var fe=W.length,be=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hs(this),$s(this);var Le="";break t}this.h.i=new a.TextDecoder}for(T=0;T<fe;T++)this.h.h=!0,f+=this.h.i.decode(W[T],{stream:!(be&&T==fe-1)});W.length=0,this.h.g+=f,this.C=0,Le=this.h.g}else Le=this.g.oa();if(this.o=M==200,kn(this.i,this.u,this.A,this.l,this.R,Zt,M),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,Nt=this.g;if((mt=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(mt)){var vt=mt;break t}}vt=null}if(M=vt)qn(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,M);else{this.o=!1,this.s=3,Ye(12),hs(this),$s(this);break e}}if(this.P){M=!0;let hr;for(;!this.J&&this.C<Le.length;)if(hr=cu(this,Le),hr==Bs){Zt==4&&(this.s=4,Ye(14),M=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(hr==Vs){this.s=4,Ye(15),qn(this.i,this.l,Le,"[Invalid Chunk]"),M=!1;break}else qn(this.i,this.l,hr,null),_o(this,hr);if(wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||Le.length!=0||this.h.h||(this.s=1,Ye(16),M=!1),this.o=this.o&&M,!M)qn(this.i,this.l,Le,"[Invalid Chunked Response]"),hs(this),$s(this);else if(0<Le.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+Le.length),Ia($t),$t.M=!0,Ye(11))}}else qn(this.i,this.l,Le,null),_o(this,Le);Zt==4&&hs(this),this.o&&!this.J&&(Zt==4?Ks(this.j,this):(this.o=!1,ma(this)))}else Ws(this.g),M==400&&0<Le.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),hs(this),$s(this)}}}catch{}finally{}};function wo(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function cu(f,T){var M=f.C,W=T.indexOf(`
`,M);return W==-1?Bs:(M=Number(T.substring(M,W)),isNaN(M)?Vs:(W+=1,W+M>T.length?Bs:(T=T.slice(W,W+M),f.C=W+M,T)))}Rn.prototype.cancel=function(){this.J=!0,hs(this)};function ma(f){f.S=Date.now()+f.I,uu(f,f.I)}function uu(f,T){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xr(g(f.ba,f),T)}function Us(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Rn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ga(this.i,this.A),this.L!=2&&(br(),Ye(17)),hs(this),this.s=2,$s(this)):uu(this,this.S-f)};function $s(f){f.j.G==0||f.J||Ks(f.j,f)}function hs(f){Us(f);var T=f.M;T&&typeof T.ma=="function"&&T.ma(),f.M=null,ti(f.U),f.g&&(T=f.g,f.g=null,T.abort(),T.ma())}function _o(f,T){try{var M=f.j;if(M.G!=0&&(M.g==f||Xl(M.h,f))){if(!f.K&&Xl(M.h,f)&&M.G==3){try{var W=M.Da.g.parse(T)}catch{W=null}if(Array.isArray(W)&&W.length==3){var fe=W;if(fe[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<f.F)vs(M),Na(M);else break e;To(M),Ye(18)}}else M.za=fe[1],0<M.za-M.T&&37500>fe[2]&&M.F&&M.v==0&&!M.C&&(M.C=xr(g(M.Za,M),6e3));if(1>=bo(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Ar(M,11)}else if((f.K||M.g==f)&&vs(M),!w(T))for(fe=M.Da.g.parse(T),T=0;T<fe.length;T++){let vt=fe[T];if(M.T=vt[0],vt=vt[1],M.G==2)if(vt[0]=="c"){M.K=vt[1],M.ia=vt[2];const $t=vt[3];$t!=null&&(M.la=$t,M.j.info("VER="+M.la));const Zt=vt[4];Zt!=null&&(M.Aa=Zt,M.j.info("SVER="+M.Aa));const ys=vt[5];ys!=null&&typeof ys=="number"&&0<ys&&(W=1.5*ys,M.L=W,M.j.info("backChannelRequestTimeoutMs_="+W)),W=M;const hr=f.g;if(hr){const Ys=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var be=W.h;be.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(dn(be,be.h),be.h=null))}if(W.D){const Qs=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(W.ya=Qs,qt(W.I,W.D,Qs))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-f.F,M.j.info("Handshake RTT: "+M.R+"ms")),W=M;var Le=f;if(W.qa=b(W,W.J?W.ia:null,W.W),Le.K){Jl(W.h,Le);var mt=Le,Nt=W.L;Nt&&(mt.I=Nt),mt.B&&(Us(mt),ma(mt)),W.g=Le}else Pa(W);0<M.i.length&&ka(M)}else vt[0]!="stop"&&vt[0]!="close"||Ar(M,7);else M.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?Ar(M,7):ms(M):vt[0]!="noop"&&M.l&&M.l.ta(vt),M.v=0)}}br(4)}catch{}}var td=class{constructor(f,T){this.g=f,this.map=T}};function Ql(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function bo(f){return f.h?1:f.g?f.g.size:0}function Xl(f,T){return f.h?f.h==T:f.g?f.g.has(T):!1}function dn(f,T){f.g?f.g.add(T):f.h=T}function Jl(f,T){f.h&&f.h==T?f.h=null:f.g&&f.g.has(T)&&f.g.delete(T)}Ql.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Zl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let T=f.i;for(const M of f.g.values())T=T.concat(M.D);return T}return x(f.i)}function du(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var T=[],M=f.length,W=0;W<M;W++)T.push(f[W]);return T}T=[],M=0;for(W in f)T[M++]=f[W];return T}function ec(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var T=[];f=f.length;for(var M=0;M<f;M++)T.push(M);return T}T=[],M=0;for(const W in f)T[M++]=W;return T}}}function fu(f,T){if(f.forEach&&typeof f.forEach=="function")f.forEach(T,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,T,void 0);else for(var M=ec(f),W=du(f),fe=W.length,be=0;be<fe;be++)T.call(void 0,W[be],M&&M[be],f)}var ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(f,T){if(f){f=f.split("&");for(var M=0;M<f.length;M++){var W=f[M].indexOf("="),fe=null;if(0<=W){var be=f[M].substring(0,W);fe=f[M].substring(W+1)}else be=f[M];T(be,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function Tn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Tn){this.h=f.h,xo(this,f.j),this.o=f.o,this.g=f.g,ya(this,f.s),this.l=f.l;var T=f.i,M=new qs;M.i=T.i,T.g&&(M.g=new Map(T.g),M.h=T.h),tc(this,M),this.m=f.m}else f&&(T=String(f).match(ii))?(this.h=!1,xo(this,T[1]||"",!0),this.o=Ao(T[2]||""),this.g=Ao(T[3]||"",!0),ya(this,T[4]),this.l=Ao(T[5]||"",!0),tc(this,T[6]||"",!0),this.m=Ao(T[7]||"")):(this.h=!1,this.i=new qs(null,this.h))}Tn.prototype.toString=function(){var f=[],T=this.j;T&&f.push(ds(T,pu,!0),":");var M=this.g;return(M||T=="file")&&(f.push("//"),(T=this.o)&&f.push(ds(T,pu,!0),"@"),f.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&f.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&f.push("/"),f.push(ds(M,M.charAt(0)=="/"?fs:rd,!0))),(M=this.i.toString())&&f.push("?",M),(M=this.m)&&f.push("#",ds(M,_a)),f.join("")};function Hr(f){return new Tn(f)}function xo(f,T,M){f.j=M?Ao(T,!0):T,f.j&&(f.j=f.j.replace(/:$/,""))}function ya(f,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);f.s=T}else f.s=null}function tc(f,T,M){T instanceof qs?(f.i=T,id(f.i,f.h)):(M||(T=ds(T,wa)),f.i=new qs(T,f.h))}function qt(f,T,M){f.i.set(T,M)}function So(f){return qt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ao(f,T){return f?T?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ds(f,T,M){return typeof f=="string"?(f=encodeURI(f).replace(T,nd),M&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function nd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var pu=/[#\/\?@]/g,rd=/[#\?:]/g,fs=/[#\?]/g,wa=/[#\?@]/g,_a=/#/g;function qs(f,T){this.h=this.g=null,this.i=f||null,this.j=!!T}function fn(f){f.g||(f.g=new Map,f.h=0,f.i&&va(f.i,function(T,M){f.add(decodeURIComponent(T.replace(/\+/g," ")),M)}))}t=qs.prototype,t.add=function(f,T){fn(this),this.i=null,f=Hs(this,f);var M=this.g.get(f);return M||this.g.set(f,M=[]),M.push(T),this.h+=1,this};function gu(f,T){fn(f),T=Hs(f,T),f.g.has(T)&&(f.i=null,f.h-=f.g.get(T).length,f.g.delete(T))}function nc(f,T){return fn(f),T=Hs(f,T),f.g.has(T)}t.forEach=function(f,T){fn(this),this.g.forEach(function(M,W){M.forEach(function(fe){f.call(T,fe,W,this)},this)},this)},t.na=function(){fn(this);const f=Array.from(this.g.values()),T=Array.from(this.g.keys()),M=[];for(let W=0;W<T.length;W++){const fe=f[W];for(let be=0;be<fe.length;be++)M.push(T[W])}return M},t.V=function(f){fn(this);let T=[];if(typeof f=="string")nc(this,f)&&(T=T.concat(this.g.get(Hs(this,f))));else{f=Array.from(this.g.values());for(let M=0;M<f.length;M++)T=T.concat(f[M])}return T},t.set=function(f,T){return fn(this),this.i=null,f=Hs(this,f),nc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[T]),this.h+=1,this},t.get=function(f,T){return f?(f=this.V(f),0<f.length?String(f[0]):T):T};function ht(f,T,M){gu(f,T),0<M.length&&(f.i=null,f.g.set(Hs(f,T),x(M)),f.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],T=Array.from(this.g.keys());for(var M=0;M<T.length;M++){var W=T[M];const be=encodeURIComponent(String(W)),Le=this.V(W);for(W=0;W<Le.length;W++){var fe=be;Le[W]!==""&&(fe+="="+encodeURIComponent(String(Le[W]))),f.push(fe)}}return this.i=f.join("&")};function Hs(f,T){return T=String(T),f.j&&(T=T.toLowerCase()),T}function id(f,T){T&&!f.j&&(fn(f),f.i=null,f.g.forEach(function(M,W){var fe=W.toLowerCase();W!=fe&&(gu(this,W),ht(this,fe,M))},f)),f.j=T}function Bi(f,T){const M=new $n;if(a.Image){const W=new Image;W.onload=p(xi,M,"TestLoadImage: loaded",!0,T,W),W.onerror=p(xi,M,"TestLoadImage: error",!1,T,W),W.onabort=p(xi,M,"TestLoadImage: abort",!1,T,W),W.ontimeout=p(xi,M,"TestLoadImage: timeout",!1,T,W),a.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=f}else T(!1)}function mu(f,T){const M=new $n,W=new AbortController,fe=setTimeout(()=>{W.abort(),xi(M,"TestPingServer: timeout",!1,T)},1e4);fetch(f,{signal:W.signal}).then(be=>{clearTimeout(fe),be.ok?xi(M,"TestPingServer: ok",!0,T):xi(M,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(fe),xi(M,"TestPingServer: error",!1,T)})}function xi(f,T,M,W,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),W(M)}catch{}}function ba(){this.g=new Fi}function rc(f,T,M){const W=M||"";try{fu(f,function(fe,be){let Le=fe;c(fe)&&(Le=Bt(fe)),T.push(W+be+"="+encodeURIComponent(Le))})}catch(fe){throw T.push(W+"type="+encodeURIComponent("_badmap")),fe}}function xa(f){this.l=f.Ub||null,this.j=f.eb||!1}_(xa,Ct),xa.prototype.g=function(){return new Sa(this.l,this.j)},xa.prototype.i=function(f){return function(){return f}}({});function Sa(f,T){nt.call(this),this.D=f,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Sa,nt),t=Sa.prototype,t.open=function(f,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=T,this.readyState=1,Si(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(T.body=f),(this.D||a).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var T=f.value?f.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!f.done}))&&(this.response=this.responseText+=T)}f.done?ps(this):Si(this),this.readyState==3&&vu(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ps(this))},t.Qa=function(f){this.g&&(this.response=f,ps(this))},t.ga=function(){this.g&&ps(this)};function ps(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Si(f)}t.setRequestHeader=function(f,T){this.u.append(f,T)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],T=this.h.entries();for(var M=T.next();!M.done;)M=M.value,f.push(M[0]+": "+M[1]),M=T.next();return f.join(`\r
`)};function Si(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function gs(f){let T="";return U(f,function(M,W){T+=W,T+=":",T+=M,T+=`\r
`}),T}function ic(f,T,M){e:{for(W in M){var W=!1;break e}W=!0}W||(M=gs(M),typeof f=="string"?M!=null&&encodeURIComponent(String(M)):qt(f,T,M))}function Ut(f){nt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ut,nt);var sc=/^https?$/i,Aa=["POST","PUT"];t=Ut.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,T,M,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);T=T?T.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$r.g(),this.v=this.o?Fs(this.o):Fs($r),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(T,String(f),!0),this.B=!1}catch(be){oc(this,be);return}if(f=M||"",M=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var fe in W)M.set(fe,W[fe]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const be of W.keys())M.set(be,W.get(be));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(M.keys()).find(be=>be.toLowerCase()=="content-type"),fe=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Aa,T,void 0))||W||fe||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Le]of M)this.g.setRequestHeader(be,Le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ai(this),this.u=!0,this.g.send(f),this.u=!1}catch(be){oc(this,be)}};function oc(f,T){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=T,f.m=5,ac(f),Eo(f)}function ac(f){f.A||(f.A=!0,lt(f,"complete"),lt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,lt(this,"complete"),lt(this,"abort"),Eo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eo(this,!0)),Ut.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?lc(this):this.bb())},t.bb=function(){lc(this)};function lc(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Xn(f)!=4||f.Z()!=2)){if(f.u&&Xn(f)==4)at(f.Ea,0,f);else if(lt(f,"readystatechange"),Xn(f)==4){f.h=!1;try{const Le=f.Z();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var M;if(!(M=T)){var W;if(W=Le===0){var fe=String(f.D).match(ii)[1]||null;!fe&&a.self&&a.self.location&&(fe=a.self.location.protocol.slice(0,-1)),W=!sc.test(fe?fe.toLowerCase():"")}M=W}if(M)lt(f,"complete"),lt(f,"success");else{f.m=6;try{var be=2<Xn(f)?f.g.statusText:""}catch{be=""}f.l=be+" ["+f.Z()+"]",ac(f)}}finally{Eo(f)}}}}function Eo(f,T){if(f.g){Ai(f);const M=f.g,W=f.v[0]?()=>{}:null;f.g=null,f.v=null,T||lt(f,"ready");try{M.onreadystatechange=W}catch{}}}function Ai(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Xn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var T=this.g.responseText;return f&&T.indexOf(f)==0&&(T=T.substring(f.length)),sn(T)}};function yu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ws(f){const T={};f=(f.g&&2<=Xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<f.length;W++){if(w(f[W]))continue;var M=k(f[W]);const fe=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const be=T[fe]||[];T[fe]=be,be.push(M)}I(T,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(f,T,M){return M&&M.internalChannelParams&&M.internalChannelParams[f]||T}function Ea(f){this.Aa=0,this.i=[],this.j=new $n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,f),this.cb=ur("retryDelaySeedMs",1e4,f),this.Wa=ur("forwardChannelMaxRetries",2,f),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ql(f&&f.concurrentRequestLimit),this.Da=new ba,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ea.prototype,t.la=8,t.G=1,t.connect=function(f,T,M,W){Ye(0),this.W=f,this.H=T||{},M&&W!==void 0&&(this.H.OSID=M,this.H.OAID=W),this.F=this.X,this.I=b(this,null,this.W),ka(this)};function ms(f){if(No(f),f.G==3){var T=f.U++,M=Hr(f.I);if(qt(M,"SID",f.K),qt(M,"RID",T),qt(M,"TYPE","terminate"),Gs(f,M),T=new Rn(f,f.j,T),T.L=2,T.v=So(Hr(M)),M=!1,a.navigator&&a.navigator.sendBeacon)try{M=a.navigator.sendBeacon(T.v.toString(),"")}catch{}!M&&a.Image&&(new Image().src=T.v,M=!0),M||(T.g=V(T.j,null),T.g.ea(T.v)),T.F=Date.now(),ma(T)}La(f)}function Na(f){f.g&&(Ia(f),f.g.cancel(),f.g=null)}function No(f){Na(f),f.u&&(a.clearTimeout(f.u),f.u=null),vs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function ka(f){if(!hu(f.h)&&!f.s){f.s=!0;var T=f.Ga;Z||se(),Y||(Z(),Y=!0),ee.add(T,f),f.B=0}}function cc(f,T){return bo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=T.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xr(g(f.Ga,f,T),Ca(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const fe=new Rn(this,this.j,f);let be=this.o;if(this.S&&(be?(be=S(be),L(be,this.S)):be=this.S),this.m!==null||this.O||(fe.H=be,be=null),this.P)e:{for(var T=0,M=0;M<this.i.length;M++){t:{var W=this.i[M];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(T+=W,4096<T){T=M;break e}if(T===4096||M===this.i.length-1){T=M+1;break e}}T=1e3}else T=1e3;T=ko(this,fe,T),M=Hr(this.I),qt(M,"RID",f),qt(M,"CVER",22),this.D&&qt(M,"X-HTTP-Session-Id",this.D),Gs(this,M),be&&(this.O?T="headers="+encodeURIComponent(String(gs(be)))+"&"+T:this.m&&ic(M,this.m,be)),dn(this.h,fe),this.Ua&&qt(M,"TYPE","init"),this.P?(qt(M,"$req",T),qt(M,"SID","null"),fe.T=!0,zs(fe,M,null)):zs(fe,M,T),this.G=2}}else this.G==3&&(f?Ta(this,f):this.i.length==0||hu(this.h)||Ta(this))};function Ta(f,T){var M;T?M=T.l:M=f.U++;const W=Hr(f.I);qt(W,"SID",f.K),qt(W,"RID",M),qt(W,"AID",f.T),Gs(f,W),f.m&&f.o&&ic(W,f.m,f.o),M=new Rn(f,f.j,M,f.B+1),f.m===null&&(M.H=f.o),T&&(f.i=T.D.concat(f.i)),T=ko(f,M,1e3),M.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),dn(f.h,M),zs(M,W,T)}function Gs(f,T){f.H&&U(f.H,function(M,W){qt(T,W,M)}),f.l&&fu({},function(M,W){qt(T,W,M)})}function ko(f,T,M){M=Math.min(f.i.length,M);var W=f.l?g(f.l.Na,f.l,f):null;e:{var fe=f.i;let be=-1;for(;;){const Le=["count="+M];be==-1?0<M?(be=fe[0].g,Le.push("ofs="+be)):be=0:Le.push("ofs="+be);let mt=!0;for(let Nt=0;Nt<M;Nt++){let vt=fe[Nt].g;const $t=fe[Nt].map;if(vt-=be,0>vt)be=Math.max(0,fe[Nt].g-100),mt=!1;else try{rc($t,Le,"req"+vt+"_")}catch{W&&W($t)}}if(mt){W=Le.join("&");break e}}}return f=f.i.splice(0,M),T.D=f,W}function Pa(f){if(!f.g&&!f.u){f.Y=1;var T=f.Fa;Z||se(),Y||(Z(),Y=!0),ee.add(T,f),f.v=0}}function To(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xr(g(f.Fa,f),Ca(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xr(g(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),Na(this),wu(this))};function Ia(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function wu(f){f.g=new Rn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var T=Hr(f.qa);qt(T,"RID","rpc"),qt(T,"SID",f.K),qt(T,"AID",f.T),qt(T,"CI",f.F?"0":"1"),!f.F&&f.ja&&qt(T,"TO",f.ja),qt(T,"TYPE","xmlhttp"),Gs(f,T),f.m&&f.o&&ic(T,f.m,f.o),f.L&&(f.g.I=f.L);var M=f.g;f=f.ia,M.L=1,M.v=So(Hr(T)),M.m=null,M.P=!0,yo(M,f)}t.Za=function(){this.C!=null&&(this.C=null,Na(this),To(this),Ye(19))};function vs(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function Ks(f,T){var M=null;if(f.g==T){vs(f),Ia(f),f.g=null;var W=2}else if(Xl(f.h,T))M=T.D,Jl(f.h,T),W=1;else return;if(f.G!=0){if(T.o)if(W==1){M=T.m?T.m.length:0,T=Date.now()-T.F;var fe=f.B;W=Vi(),lt(W,new ni(W,M)),ka(f)}else Pa(f);else if(fe=T.s,fe==3||fe==0&&0<T.X||!(W==1&&cc(f,T)||W==2&&To(f)))switch(M&&0<M.length&&(T=f.h,T.i=T.i.concat(M)),fe){case 1:Ar(f,5);break;case 4:Ar(f,10);break;case 3:Ar(f,6);break;default:Ar(f,2)}}}function Ca(f,T){let M=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(M*=2),M*T}function Ar(f,T){if(f.j.info("Error code "+T),T==2){var M=g(f.fb,f),W=f.Xa;const fe=!W;W=new Tn(W||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xo(W,"https"),So(W),fe?Bi(W.toString(),M):mu(W.toString(),M)}else Ye(2);f.G=0,f.l&&f.l.sa(T),La(f),No(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function La(f){if(f.G=0,f.ka=[],f.l){const T=Zl(f.h);(T.length!=0||f.i.length!=0)&&(N(f.ka,T),N(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function b(f,T,M){var W=M instanceof Tn?Hr(M):new Tn(M);if(W.g!="")T&&(W.g=T+"."+W.g),ya(W,W.s);else{var fe=a.location;W=fe.protocol,T=T?T+"."+fe.hostname:fe.hostname,fe=+fe.port;var be=new Tn(null);W&&xo(be,W),T&&(be.g=T),fe&&ya(be,fe),M&&(be.l=M),W=be}return M=f.D,T=f.ya,M&&T&&qt(W,M,T),qt(W,"VER",f.la),Gs(f,W),W}function V(f,T,M){if(T&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=f.Ca&&!f.pa?new Ut(new xa({eb:M})):new Ut(f.pa),T.Ha(f.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ie(){}t=ie.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function le(){}le.prototype.g=function(f,T){return new pe(f,T)};function pe(f,T){nt.call(this),this.g=new Ea(T),this.l=f,this.h=T&&T.messageUrlParams||null,f=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(f?f["X-WebChannel-Content-Type"]=T.messageContentType:f={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(f?f["X-WebChannel-Client-Profile"]=T.va:f={"X-WebChannel-Client-Profile":T.va}),this.g.S=f,(f=T&&T.Sb)&&!w(f)&&(this.g.m=f),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!w(T)&&(this.g.D=T,f=this.h,f!==null&&T in f&&(f=this.h,T in f&&delete f[T])),this.j=new ze(this)}_(pe,nt),pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pe.prototype.close=function(){ms(this.g)},pe.prototype.o=function(f){var T=this.g;if(typeof f=="string"){var M={};M.__data__=f,f=M}else this.u&&(M={},M.__data__=Bt(f),f=M);T.i.push(new td(T.Ya++,f)),T.G==3&&ka(T)},pe.prototype.N=function(){this.g.l=null,delete this.j,ms(this.g),delete this.g,pe.aa.N.call(this)};function Se(f){wi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var T=f.__sm__;if(T){e:{for(const M in T){f=M;break e}f=void 0}(this.i=f)&&(f=this.i,T=T!==null&&f in T?T[f]:void 0),this.data=T}else this.data=f}_(Se,wi);function Ce(){on.call(this),this.status=1}_(Ce,on);function ze(f){this.g=f}_(ze,ie),ze.prototype.ua=function(){lt(this.g,"a")},ze.prototype.ta=function(f){lt(this.g,new Se(f))},ze.prototype.sa=function(f){lt(this.g,new Ce)},ze.prototype.ra=function(){lt(this.g,"b")},le.prototype.createWebChannel=le.prototype.g,pe.prototype.send=pe.prototype.o,pe.prototype.open=pe.prototype.m,pe.prototype.close=pe.prototype.close,ek=function(){return new le},ZN=function(){return Vi()},JN=it,y2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,fm=Sr,ri.COMPLETE="complete",XN=ri,hn.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",nt.prototype.listen=nt.prototype.K,qd=hn,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,QN=Ut}).apply(typeof xg<"u"?xg:typeof self<"u"?self:typeof window<"u"?window:{});const Qx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new aw("@firebase/firestore");function kd(){return Xc.logLevel}function Ze(t,...e){if(Xc.logLevel<=It.DEBUG){const n=e.map(_w);Xc.debug(`Firestore (${Gh}): ${t}`,...n)}}function la(t,...e){if(Xc.logLevel<=It.ERROR){const n=e.map(_w);Xc.error(`Firestore (${Gh}): ${t}`,...n)}}function Ih(t,...e){if(Xc.logLevel<=It.WARN){const n=e.map(_w);Xc.warn(`Firestore (${Gh}): ${t}`,...n)}}function _w(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t="Unexpected state"){const e=`FIRESTORE (${Gh}) INTERNAL ASSERTION FAILED: `+t;throw la(e),new Error(e)}function Xt(t,e){t||ft()}function _t(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends fa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rr.UNAUTHENTICATED))}shutdown(){}}class pM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gM{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string"),new tk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string"),new Rr(e)}}class mM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Xt(this.o===void 0);const r=s=>{s.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xt(typeof n.token=="string"),this.R=n.token,new yM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_M(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ft(t,e){return t<e?-1:t>e?1:0}function Ch(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ge(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new rr(0,0))}static max(){return new wt(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ft(),r===void 0?r=e.length-n:r>e.length-n&&ft(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mn extends Gf{construct(e,n,r){return new mn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mn(n)}static emptyPath(){return new mn([])}}const bM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends Gf{construct(e,n,r){return new mr(e,n,r)}static isValidIdentifier(e){return bM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ge(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ge(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ge(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ge(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(n)}static emptyPath(){return new mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.path=e}static fromPath(e){return new rt(mn.fromString(e))}static fromName(e){return new rt(mn.fromString(e).popFirst(5))}static empty(){return new rt(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new mn(e.slice()))}}function xM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(r===1e9?new rr(n+1,0):new rr(n,r));return new Dl(i,rt.empty(),e)}function SM(t){return new Dl(t.readTime,t.key,-1)}class Dl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dl(wt.min(),rt.empty(),-1)}static max(){return new Dl(wt.max(),rt.empty(),-1)}}function AM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=rt.comparator(t.documentKey,e.documentKey),n!==0?n:Ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==EM)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new je((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof je?n:je.resolve(n)}catch(n){return je.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):je.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):je.reject(n)}static resolve(e){return new je((n,r)=>{n(e)})}static reject(e){return new je((n,r)=>{r(e)})}static waitFor(e){return new je((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=je.resolve(!1);for(const r of e)n=n.next(i=>i?je.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new je((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new je((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function kM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}bw.oe=-1;function e1(t){return t==null}function l0(t){return t===0&&1/t==-1/0}function TM(t){return typeof t=="number"&&Number.isInteger(t)&&!l0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function su(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new En(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sg(this.root,e,this.comparator,!0)}}class Sg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gr.RED,this.left=i??gr.EMPTY,this.right=s??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jx(this.data.getIterator())}getIteratorFrom(e){return new Jx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yr(this.comparator);return n.data=e,n}}class Jx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new Ci([])}unionWith(e){let n=new yr(mr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ch(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ik("Invalid base64 string: "+s):s}}(e);return new _r(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _r(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const PM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(t){if(Xt(!!t),typeof t=="string"){let e=0;const n=PM.exec(t);if(Xt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jc(t){return typeof t=="string"?_r.fromBase64String(t):_r.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sw(t){const e=t.mapValue.fields.__previous_value__;return xw(e)?Sw(e):e}function Kf(t){const e=Ml(t.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Yf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xw(t)?4:LM(t)?9007199254740991:CM(t)?10:11:ft()}function go(t,e){if(t===e)return!0;const n=Zc(t);if(n!==Zc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kf(t).isEqual(Kf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ml(i.timestampValue),a=Ml(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Jc(i.bytesValue).isEqual(Jc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Mn(i.geoPointValue.latitude)===Mn(s.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Mn(i.integerValue)===Mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Mn(i.doubleValue),a=Mn(s.doubleValue);return o===a?l0(o)===l0(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ch(t.arrayValue.values||[],e.arrayValue.values||[],go);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Xx(o)!==Xx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!go(o[l],a[l])))return!1;return!0}(t,e);default:return ft()}}function Qf(t,e){return(t.values||[]).find(n=>go(n,e))!==void 0}function Lh(t,e){if(t===e)return 0;const n=Zc(t),r=Zc(e);if(n!==r)return Ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ft(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Mn(s.integerValue||s.doubleValue),l=Mn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Zx(t.timestampValue,e.timestampValue);case 4:return Zx(Kf(t),Kf(e));case 5:return Ft(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Jc(s),l=Jc(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ft(a[c],l[c]);if(u!==0)return u}return Ft(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ft(Mn(s.latitude),Mn(o.latitude));return a!==0?a:Ft(Mn(s.longitude),Mn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;const d=s.fields||{},g=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,_=(l=g.value)===null||l===void 0?void 0:l.arrayValue,x=Ft(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=_==null?void 0:_.values)===null||u===void 0?void 0:u.length)||0);return x!==0?x:eS(p,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ag.mapValue&&o===Ag.mapValue)return 0;if(s===Ag.mapValue)return 1;if(o===Ag.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const g=Ft(l[d],u[d]);if(g!==0)return g;const p=Lh(a[l[d]],c[u[d]]);if(p!==0)return p}return Ft(l.length,u.length)}(t.mapValue,e.mapValue);default:throw ft()}}function Zx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ft(t,e);const n=Ml(t),r=Ml(e),i=Ft(n.seconds,r.seconds);return i!==0?i:Ft(n.nanos,r.nanos)}function eS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Lh(n[i],r[i]);if(s)return s}return Ft(n.length,r.length)}function Rh(t){return w2(t)}function w2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ml(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return rt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=w2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${w2(n.fields[o])}`;return i+"}"}(t.mapValue):ft()}function tS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _2(t){return!!t&&"integerValue"in t}function Aw(t){return!!t&&"arrayValue"in t}function nS(t){return!!t&&"nullValue"in t}function rS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pm(t){return!!t&&"mapValue"in t}function CM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return su(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.value=e}static empty(){return new hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hf(n)}setAll(e){let n=mr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=hf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return go(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){su(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hi(hf(this.value))}}function sk(t){const e=[];return su(t.fields,(n,r)=>{const i=new mr([n]);if(pm(r)){const s=sk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dr(e,0,wt.min(),wt.min(),wt.min(),hi.empty(),0)}static newFoundDocument(e,n,r,i){return new Dr(e,1,n,wt.min(),r,i,0)}static newNoDocument(e,n){return new Dr(e,2,n,wt.min(),wt.min(),hi.empty(),0)}static newUnknownDocument(e,n){return new Dr(e,3,n,wt.min(),wt.min(),hi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n){this.position=e,this.inclusive=n}}function iS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=rt.comparator(rt.fromName(o.referenceValue),n.key):r=Lh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!go(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n="asc"){this.field=e,this.dir=n}}function RM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{}class Yn extends ok{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DM(e,n,r):n==="array-contains"?new FM(e,r):n==="in"?new VM(e,r):n==="not-in"?new BM(e,r):n==="array-contains-any"?new zM(e,r):new Yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MM(e,r):new OM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Lh(n,this.value)):n!==null&&Zc(this.value)===Zc(n)&&this.matchesComparison(Lh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class js extends ok{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new js(e,n)}matches(e){return ak(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ak(t){return t.op==="and"}function lk(t){return jM(t)&&ak(t)}function jM(t){for(const e of t.filters)if(e instanceof js)return!1;return!0}function b2(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+Rh(t.value);if(lk(t))return t.filters.map(e=>b2(e)).join(",");{const e=t.filters.map(n=>b2(n)).join(",");return`${t.op}(${e})`}}function ck(t,e){return t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.field.isEqual(i.field)&&go(r.value,i.value)}(t,e):t instanceof js?function(r,i){return i instanceof js&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ck(o,i.filters[a]),!0):!1}(t,e):void ft()}function uk(t){return t instanceof Yn?function(n){return`${n.field.canonicalString()} ${n.op} ${Rh(n.value)}`}(t):t instanceof js?function(n){return n.op.toString()+" {"+n.getFilters().map(uk).join(" ,")+"}"}(t):"Filter"}class DM extends Yn{constructor(e,n,r){super(e,n,r),this.key=rt.fromName(r.referenceValue)}matches(e){const n=rt.comparator(e.key,this.key);return this.matchesComparison(n)}}class MM extends Yn{constructor(e,n){super(e,"in",n),this.keys=hk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OM extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=hk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>rt.fromName(r.referenceValue))}class FM extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Aw(n)&&Qf(n.arrayValue,this.value)}}class VM extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qf(this.value.arrayValue,n)}}class BM extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qf(this.value.arrayValue,n)}}class zM extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Aw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function oS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new UM(t,e,n,r,i,s,o)}function Ew(t){const e=_t(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>b2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),e1(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rh(r)).join(",")),e.ue=n}return e.ue}function Nw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ck(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sS(t.startAt,e.startAt)&&sS(t.endAt,e.endAt)}function x2(t){return rt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $M(t,e,n,r,i,s,o,a){return new Kh(t,e,n,r,i,s,o,a)}function t1(t){return new Kh(t)}function aS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dk(t){return t.collectionGroup!==null}function df(t){const e=_t(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new yr(mr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xf(s,r))}),n.has(mr.keyField().canonicalString())||e.ce.push(new Xf(mr.keyField(),r))}return e.ce}function ho(t){const e=_t(t);return e.le||(e.le=qM(e,df(t))),e.le}function qM(t,e){if(t.limitType==="F")return oS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xf(i.field,s)});const n=t.endAt?new c0(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new c0(t.startAt.position,t.startAt.inclusive):null;return oS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function S2(t,e){const n=t.filters.concat([e]);return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function A2(t,e,n){return new Kh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function n1(t,e){return Nw(ho(t),ho(e))&&t.limitType===e.limitType}function fk(t){return`${Ew(ho(t))}|lt:${t.limitType}`}function Ou(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uk(i)).join(", ")}]`),e1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rh(i)).join(",")),`Target(${r})`}(ho(t))}; limitType=${t.limitType})`}function r1(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):rt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of df(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=iS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,df(r),i)||r.endAt&&!function(o,a,l){const c=iS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,df(r),i))}(t,e)}function HM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pk(t){return(e,n)=>{let r=!1;for(const i of df(t)){const s=WM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WM(t,e,n){const r=t.field.isKeyField()?rt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Lh(l,c):ft()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=new En(rt.comparator);function ca(){return GM}const gk=new En(rt.comparator);function Hd(...t){let e=gk;for(const n of t)e=e.insert(n.key,n);return e}function mk(t){let e=gk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ic(){return ff()}function vk(){return ff()}function ff(){return new Yh(t=>t.toString(),(t,e)=>t.isEqual(e))}const KM=new En(rt.comparator),YM=new yr(rt.comparator);function Tt(...t){let e=YM;for(const n of t)e=e.add(n);return e}const QM=new yr(Ft);function XM(){return QM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l0(e)?"-0":e}}function yk(t){return{integerValue:""+t}}function JM(t,e){return TM(e)?yk(e):kw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this._=void 0}}function ZM(t,e,n){return t instanceof Jf?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&xw(s)&&(s=Sw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zf?_k(t,e):t instanceof ep?bk(t,e):function(i,s){const o=wk(i,s),a=lS(o)+lS(i.Pe);return _2(o)&&_2(i.Pe)?yk(a):kw(i.serializer,a)}(t,e)}function eO(t,e,n){return t instanceof Zf?_k(t,e):t instanceof ep?bk(t,e):n}function wk(t,e){return t instanceof u0?function(r){return _2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jf extends i1{}class Zf extends i1{constructor(e){super(),this.elements=e}}function _k(t,e){const n=xk(e);for(const r of t.elements)n.some(i=>go(i,r))||n.push(r);return{arrayValue:{values:n}}}class ep extends i1{constructor(e){super(),this.elements=e}}function bk(t,e){let n=xk(e);for(const r of t.elements)n=n.filter(i=>!go(i,r));return{arrayValue:{values:n}}}class u0 extends i1{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function lS(t){return Mn(t.integerValue||t.doubleValue)}function xk(t){return Aw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n){this.field=e,this.transform=n}}function nO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zf&&i instanceof Zf||r instanceof ep&&i instanceof ep?Ch(r.elements,i.elements,go):r instanceof u0&&i instanceof u0?go(r.Pe,i.Pe):r instanceof Jf&&i instanceof Jf}(t.transform,e.transform)}class rO{constructor(e,n){this.version=e,this.transformResults=n}}class ns{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class s1{}function Sk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tw(t.key,ns.none()):new Sp(t.key,t.data,ns.none());{const n=t.data,r=hi.empty();let i=new yr(mr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Kl(t.key,r,new Ci(i.toArray()),ns.none())}}function iO(t,e,n){t instanceof Sp?function(i,s,o){const a=i.value.clone(),l=uS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Kl?function(i,s,o){if(!gm(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Ak(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pf(t,e,n,r){return t instanceof Sp?function(s,o,a,l){if(!gm(s.precondition,o))return a;const c=s.value.clone(),u=hS(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kl?function(s,o,a,l){if(!gm(s.precondition,o))return a;const c=hS(s.fieldTransforms,l,o),u=o.data;return u.setAll(Ak(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return gm(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function sO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=wk(r.transform,i||null);s!=null&&(n===null&&(n=hi.empty()),n.set(r.field,s))}return n||null}function cS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ch(r,i,(s,o)=>nO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sp extends s1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Kl extends s1{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ak(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uS(t,e,n){const r=new Map;Xt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,eO(o,a,n[i]))}return r}function hS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ZM(s,o,e))}return r}class Tw extends s1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends s1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Sk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Ch(this.mutations,e.mutations,(n,r)=>cS(n,r))&&Ch(this.baseMutations,e.baseMutations,(n,r)=>cS(n,r))}}class Pw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xt(e.mutations.length===r.length);let i=function(){return KM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Pw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,Lt;function uO(t){switch(t){default:return ft();case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0}}function Ek(t){if(t===void 0)return la("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case Gn.OK:return Pe.OK;case Gn.CANCELLED:return Pe.CANCELLED;case Gn.UNKNOWN:return Pe.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return Pe.INTERNAL;case Gn.UNAVAILABLE:return Pe.UNAVAILABLE;case Gn.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case Gn.NOT_FOUND:return Pe.NOT_FOUND;case Gn.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case Gn.ABORTED:return Pe.ABORTED;case Gn.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case Gn.DATA_LOSS:return Pe.DATA_LOSS;default:return ft()}}(Lt=Gn||(Gn={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new Mc([4294967295,4294967295],0);function dS(t){const e=hO().encode(t),n=new YN;return n.update(e),new Uint8Array(n.digest())}function fS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Mc([n,r],0),new Mc([i,s],0)]}class Iw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wd(`Invalid padding: ${n}`);if(r<0)throw new Wd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Mc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Mc.fromNumber(r)));return i.compare(dO)===1&&(i=new Mc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=dS(e),[r,i]=fS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Iw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=dS(e),[r,i]=fS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ap.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new o1(wt.min(),i,new En(Ft),ca(),Tt())}}class Ap{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ap(r,n,Tt(),Tt(),Tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Nk{constructor(e,n){this.targetId=e,this.me=n}}class kk{constructor(e,n,r=_r.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pS{constructor(){this.fe=0,this.ge=mS(),this.pe=_r.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Tt(),n=Tt(),r=Tt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new Ap(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=mS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fO{constructor(e){this.Le=e,this.Be=new Map,this.ke=ca(),this.qe=gS(),this.Qe=new En(Ft)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ft()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(x2(s))if(r===0){const o=new rt(s.path);this.Ue(n,o,Dr.newNoDocument(o,wt.min()))}else Xt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Jc(r).toUint8Array()}catch(l){if(l instanceof ik)return Ih("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Iw(o,i,s)}catch(l){return Ih(l instanceof Wd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&x2(a.target)){const l=new rt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Dr.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Tt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new o1(e,n,this.Qe,this.ke,r);return this.ke=ca(),this.qe=gS(),this.Qe=new En(Ft),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new pS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yr(Ft),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function gS(){return new En(rt.comparator)}function mS(){return new En(rt.comparator)}const pO={asc:"ASCENDING",desc:"DESCENDING"},gO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mO={and:"AND",or:"OR"};class vO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function E2(t,e){return t.useProto3Json||e1(e)?e:{value:e}}function h0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yO(t,e){return h0(t,e.toTimestamp())}function fo(t){return Xt(!!t),wt.fromTimestamp(function(n){const r=Ml(n);return new rr(r.seconds,r.nanos)}(t))}function Cw(t,e){return N2(t,e).canonicalString()}function N2(t,e){const n=function(i){return new mn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Pk(t){const e=mn.fromString(t);return Xt(jk(e)),e}function k2(t,e){return Cw(t.databaseId,e.path)}function Iv(t,e){const n=Pk(e);if(n.get(1)!==t.databaseId.projectId)throw new Ge(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ge(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new rt(Ck(n))}function Ik(t,e){return Cw(t.databaseId,e)}function wO(t){const e=Pk(t);return e.length===4?mn.emptyPath():Ck(e)}function T2(t){return new mn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ck(t){return Xt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vS(t,e,n){return{name:k2(t,e),fields:n.value.mapValue.fields}}function _O(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Xt(u===void 0||typeof u=="string"),_r.fromBase64String(u||"")):(Xt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),_r.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Pe.UNKNOWN:Ek(c.code);return new Ge(u,c.message||"")}(o);n=new kk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Iv(t,r.document.name),s=fo(r.document.updateTime),o=r.document.createTime?fo(r.document.createTime):wt.min(),a=new hi({mapValue:{fields:r.document.fields}}),l=Dr.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new mm(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Iv(t,r.document),s=r.readTime?fo(r.readTime):wt.min(),o=Dr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new mm([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Iv(t,r.document),s=r.removedTargetIds||[];n=new mm([],s,i,null)}else{if(!("filter"in e))return ft();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new cO(i,s),a=r.targetId;n=new Nk(a,o)}}return n}function bO(t,e){let n;if(e instanceof Sp)n={update:vS(t,e.key,e.value)};else if(e instanceof Tw)n={delete:k2(t,e.key)};else if(e instanceof Kl)n={update:vS(t,e.key,e.data),updateMask:IO(e.fieldMask)};else{if(!(e instanceof oO))return ft();n={verify:k2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Jf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Zf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ep)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof u0)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ft()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ft()}(t,e.precondition)),n}function xO(t,e){return t&&t.length>0?(Xt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?fo(i.updateTime):fo(s);return o.isEqual(wt.min())&&(o=fo(s)),new rO(o,i.transformResults||[])}(n,e))):[]}function SO(t,e){return{documents:[Ik(t,e.path)]}}function AO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ik(t,i);const s=function(c){if(c.length!==0)return Rk(js.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(g){return{field:Fu(g.field),direction:kO(g.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=E2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function EO(t){let e=wO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const g=Lk(d);return g instanceof js&&lk(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(g=>function(_){return new Xf(Vu(_.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,e1(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(d){const g=!!d.before,p=d.values||[];return new c0(p,g)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const g=!d.before,p=d.values||[];return new c0(p,g)}(n.endAt)),$M(e,i,o,s,a,"F",l,c)}function NO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vu(n.unaryFilter.field);return Yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vu(n.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vu(n.unaryFilter.field);return Yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vu(n.unaryFilter.field);return Yn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(t):t.fieldFilter!==void 0?function(n){return Yn.create(Vu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return js.create(n.compositeFilter.filters.map(r=>Lk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ft()}}(n.compositeFilter.op))}(t):ft()}function kO(t){return pO[t]}function TO(t){return gO[t]}function PO(t){return mO[t]}function Fu(t){return{fieldPath:t.canonicalString()}}function Vu(t){return mr.fromServerFormat(t.fieldPath)}function Rk(t){return t instanceof Yn?function(n){if(n.op==="=="){if(rS(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NAN"}};if(nS(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rS(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NAN"}};if(nS(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(n.field),op:TO(n.op),value:n.value}}}(t):t instanceof js?function(n){const r=n.getFilters().map(i=>Rk(i));return r.length===1?r[0]:{compositeFilter:{op:PO(n.op),filters:r}}}(t):ft()}function IO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r,i,s=wt.min(),o=wt.min(),a=_r.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.ct=e}}function LO(t){const e=EO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?A2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.un=new jO}addToCollectionParentIndex(e,n){return this.un.add(n),je.resolve()}getCollectionParents(e,n){return je.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return je.resolve()}deleteFieldIndex(e,n){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,n){return je.resolve()}getDocumentsMatchingTarget(e,n){return je.resolve(null)}getIndexType(e,n){return je.resolve(0)}getFieldIndexes(e,n){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,n){return je.resolve(Dl.min())}getMinOffsetFromCollectionGroup(e,n){return je.resolve(Dl.min())}updateCollectionGroup(e,n,r){return je.resolve()}updateIndexEntries(e,n){return je.resolve()}}class jO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yr(mn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yr(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new jh(0)}static kn(){return new jh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.changes=new Yh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?je.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&pf(r.mutation,i,Ci.empty(),rr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Tt()){const i=Ic();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Hd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ic();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ca();const o=ff(),a=function(){return ff()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Kl)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),pf(u.mutation,c,u.mutation.getFieldMask(),rr.now())):o.set(c.key,Ci.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new MO(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ff();let i=new En((o,a)=>o-a),s=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ci.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||Tt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=vk();u.forEach(g=>{if(!s.has(g)){const p=Sk(n.get(g),r.get(g));p!==null&&d.set(g,p),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return je.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return rt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):je.resolve(Ic());let a=-1,l=s;return o.next(c=>je.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?je.resolve():this.remoteDocumentCache.getEntry(e,u).next(g=>{l=l.insert(u,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Tt())).next(u=>({batchId:a,changes:mk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new rt(n)).next(r=>{let i=Hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Hd();return this.indexManager.getCollectionParents(e,s).next(a=>je.forEach(a,l=>{const c=function(d,g){return new Kh(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,g)=>{o=o.insert(d,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Dr.newInvalidDocument(u)))});let a=Hd();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&pf(u.mutation,c,Ci.empty(),rr.now()),r1(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return je.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fo(i.createTime)}}(n)),je.resolve()}getNamedQuery(e,n){return je.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:LO(i.bundledQuery),readTime:fo(i.readTime)}}(n)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.overlays=new En(rt.comparator),this.Ir=new Map}getOverlay(e,n){return je.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ic();return je.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),je.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),je.resolve()}getOverlaysForCollection(e,n,r){const i=Ic(),s=n.length+1,o=new rt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return je.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new En((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ic(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ic(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return je.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lO(n,r));let s=this.Ir.get(n);s===void 0&&(s=Tt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.sessionToken=_r.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.Tr=new yr(or.Er),this.dr=new yr(or.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new or(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new or(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new rt(new mn([])),r=new or(n,e),i=new or(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new rt(new mn([])),r=new or(n,e),i=new or(n,e+1);let s=Tt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new or(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class or{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return rt.comparator(e.key,n.key)||Ft(e.wr,n.wr)}static Ar(e,n){return Ft(e.wr,n.wr)||rt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yr(or.Er)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new aO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new or(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,n){return je.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new or(n,0),i=new or(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yr(Ft);return n.forEach(i=>{const s=new or(i,0),o=new or(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),je.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;rt.isDocumentKey(s)||(s=s.child(""));const o=new or(new rt(s),0);let a=new yr(Ft);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),je.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return je.forEach(n.mutations,i=>{const s=new or(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new or(n,0),i=this.br.firstAfterOrEqual(r);return je.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.Mr=e,this.docs=function(){return new En(rt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return je.resolve(r?r.document.mutableCopy():Dr.newInvalidDocument(n))}getEntries(e,n){let r=ca();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dr.newInvalidDocument(i))}),je.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ca();const o=n.path,a=new rt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||AM(SM(u),r)<=0||(i.has(u.key)||r1(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return je.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ft()}Or(e,n){return je.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $O(this)}getSize(e){return je.resolve(this.size)}}class $O extends DO{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),je.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.persistence=e,this.Nr=new Yh(n=>Ew(n),Nw),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lw,this.targetCount=0,this.kr=jh.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),je.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new jh(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,je.resolve()}updateTargetData(e,n){return this.Kn(n),je.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),je.waitFor(s).next(()=>i)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return je.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),je.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),je.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),je.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return je.resolve(r)}containsKey(e,n){return je.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new bw(0),this.Kr=!1,this.Kr=!0,this.$r=new BO,this.referenceDelegate=e(this),this.Ur=new qO(this),this.indexManager=new RO,this.remoteDocumentCache=function(i){return new UO(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CO(n),this.Gr=new FO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new WO(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return je.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class WO extends NM{constructor(e){super(),this.currentSequenceNumber=e}}class Rw{constructor(e){this.persistence=e,this.Jr=new Lw,this.Yr=null}static Zr(e){return new Rw(e)}get Xr(){if(this.Yr)return this.Yr;throw ft()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),je.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),je.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),je.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.Xr,r=>{const i=rt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,wt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return je.or([()=>je.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Tt(),i=Tt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Lj()?8:kM(Ur())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new GO;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(kd()<=It.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",Ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),je.resolve()):(kd()<=It.DEBUG&&Ze("QueryEngine","Query:",Ou(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(kd()<=It.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",Ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ho(n))):je.resolve())}Yi(e,n){if(aS(n))return je.resolve(null);let r=ho(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=A2(n,null,"F"),r=ho(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Tt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,A2(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return aS(n)||i.isEqual(wt.min())?je.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?je.resolve(null):(kd()<=It.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ou(n)),this.rs(e,o,n,xM(i,-1)).next(a=>a))})}ts(e,n){let r=new yr(pk(e));return n.forEach((i,s)=>{r1(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return kd()<=It.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Ou(n)),this.Ji.getDocumentsMatchingQuery(e,n,Dl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new En(Ft),this._s=new Yh(s=>Ew(s),Nw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function QO(t,e,n,r){return new YO(t,e,n,r)}async function Dk(t,e){const n=_t(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Tt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function XO(t,e){const n=_t(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,g=d.keys();let p=je.resolve();return g.forEach(_=>{p=p.next(()=>u.getEntry(l,_)).next(x=>{const N=c.docVersions.get(_);Xt(N!==null),x.version.compareTo(N)<0&&(d.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),u.addEntry(x)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Mk(t){const e=_t(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function JO(t,e){const n=_t(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,d)=>{const g=i.get(d);if(!g)return;a.push(n.Ur.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,u.addedDocuments,d)));let p=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(_r.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),function(x,N,y){return x.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(g,p,u)&&a.push(n.Ur.updateTargetData(s,p))});let l=ca(),c=Tt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(ZO(s,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(wt.min())){const u=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return je.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function ZO(t,e,n){let r=Tt(),i=Tt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ca();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(wt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function eF(t,e){const n=_t(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tF(t,e){const n=_t(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,je.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new hl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function P2(t,e,n){const r=_t(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xp(o))throw o;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function yS(t,e,n){const r=_t(t);let i=wt.min(),s=Tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=_t(l),g=d._s.get(u);return g!==void 0?je.resolve(d.os.get(g)):d.Ur.getTargetData(c,u)}(r,o,ho(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:wt.min(),n?s:Tt())).next(a=>(nF(r,HM(e),a),{documents:a,Ts:s})))}function nF(t,e,n){let r=t.us.get(e)||wt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class wS{constructor(){this.activeTargetIds=XM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rF{constructor(){this.so=new wS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new wS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg=null;function Cv(){return Eg===null?Eg=function(){return 268435456+Math.round(2147483648*Math.random())}():Eg++,"0x"+Eg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="WebChannelConnection";class aF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Cv(),l=this.xo(n,r.toUriEncodedString());Ze("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(u=>(Ze("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ih("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=sF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Cv();return new Promise((o,a)=>{const l=new QN;l.setWithCredentials(!0),l.listenOnce(XN.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fm.NO_ERROR:const u=l.getResponseJson();Ze(kr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case fm.TIMEOUT:Ze(kr,`RPC '${e}' ${s} timed out`),a(new Ge(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case fm.HTTP_ERROR:const d=l.getStatus();if(Ze(kr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const _=function(N){const y=N.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(y)>=0?y:Pe.UNKNOWN}(p.status);a(new Ge(_,p.message))}else a(new Ge(Pe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ge(Pe.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Ze(kr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Ze(kr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Cv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ek(),a=ZN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");Ze(kr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let g=!1,p=!1;const _=new oF({Io:N=>{p?Ze(kr,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(g||(Ze(kr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),Ze(kr,`RPC '${e}' stream ${i} sending:`,N),d.send(N))},To:()=>d.close()}),x=(N,y,w)=>{N.listen(y,A=>{try{w(A)}catch(D){setTimeout(()=>{throw D},0)}})};return x(d,qd.EventType.OPEN,()=>{p||(Ze(kr,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),x(d,qd.EventType.CLOSE,()=>{p||(p=!0,Ze(kr,`RPC '${e}' stream ${i} transport closed`),_.So())}),x(d,qd.EventType.ERROR,N=>{p||(p=!0,Ih(kr,`RPC '${e}' stream ${i} transport errored:`,N),_.So(new Ge(Pe.UNAVAILABLE,"The operation could not be completed")))}),x(d,qd.EventType.MESSAGE,N=>{var y;if(!p){const w=N.data[0];Xt(!!w);const A=w,D=A.error||((y=A[0])===null||y===void 0?void 0:y.error);if(D){Ze(kr,`RPC '${e}' stream ${i} received error:`,D);const F=D.status;let U=function(C){const L=Gn[C];if(L!==void 0)return Ek(L)}(F),I=D.message;U===void 0&&(U=Pe.INTERNAL,I="Unknown error status: "+F+" with message "+D.message),p=!0,_.So(new Ge(U,I)),d.close()}else Ze(kr,`RPC '${e}' stream ${i} received:`,w),_.bo(w)}}),x(a,JN.STAT_EVENT,N=>{N.stat===y2.PROXY?Ze(kr,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===y2.NOPROXY&&Ze(kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Lv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t){return new vO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ok(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Pe.RESOURCE_EXHAUSTED?(la(n.toString()),la("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ge(Pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lF extends Fk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_O(this.serializer,e),r=function(s){if(!("targetChange"in s))return wt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?wt.min():o.readTime?fo(o.readTime):wt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=T2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=x2(l)?{documents:SO(s,l)}:{query:AO(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Tk(s,o.resumeToken);const c=E2(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(wt.min())>0){a.readTime=h0(s,o.snapshotVersion.toTimestamp());const c=E2(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=NO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=T2(this.serializer),n.removeTarget=e,this.a_(n)}}class cF extends Fk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=xO(e.writeResults,e.commitTime),r=fo(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=T2(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bO(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ge(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,N2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ge(Pe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,N2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ge(Pe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class hF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(la(n),this.D_=!1):Ze("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ou(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=_t(l);c.L_.add(4),await Ep(c),c.q_.set("Unknown"),c.L_.delete(4),await l1(c)}(this))})}),this.q_=new hF(r,i)}}async function l1(t){if(ou(t))for(const e of t.B_)await e(!0)}async function Ep(t){for(const e of t.B_)await e(!1)}function Vk(t,e){const n=_t(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Fw(n)?Ow(n):Qh(n).r_()&&Mw(n,e))}function Dw(t,e){const n=_t(t),r=Qh(n);n.N_.delete(e),r.r_()&&Bk(n,e),n.N_.size===0&&(r.r_()?r.o_():ou(n)&&n.q_.set("Unknown"))}function Mw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qh(t).A_(e)}function Bk(t,e){t.Q_.xe(e),Qh(t).R_(e)}function Ow(t){t.Q_=new fO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qh(t).start(),t.q_.v_()}function Fw(t){return ou(t)&&!Qh(t).n_()&&t.N_.size>0}function ou(t){return _t(t).L_.size===0}function zk(t){t.Q_=void 0}async function fF(t){t.q_.set("Online")}async function pF(t){t.N_.forEach((e,n)=>{Mw(t,e)})}async function gF(t,e){zk(t),Fw(t)?(t.q_.M_(e),Ow(t)):t.q_.set("Unknown")}async function mF(t,e,n){if(t.q_.set("Online"),e instanceof kk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await d0(t,r)}else if(e instanceof mm?t.Q_.Ke(e):e instanceof Nk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(wt.min()))try{const r=await Mk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(_r.EMPTY_BYTE_STRING,u.snapshotVersion)),Bk(s,l);const d=new hl(u.target,l,c,u.sequenceNumber);Mw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),await d0(t,r)}}async function d0(t,e,n){if(!xp(e))throw e;t.L_.add(1),await Ep(t),t.q_.set("Offline"),n||(n=()=>Mk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await l1(t)})}function Uk(t,e){return e().catch(n=>d0(t,n,e))}async function c1(t){const e=_t(t),n=Ol(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vF(e);)try{const i=await eF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,yF(e,i)}catch(i){await d0(e,i)}$k(e)&&qk(e)}function vF(t){return ou(t)&&t.O_.length<10}function yF(t,e){t.O_.push(e);const n=Ol(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $k(t){return ou(t)&&!Ol(t).n_()&&t.O_.length>0}function qk(t){Ol(t).start()}async function wF(t){Ol(t).p_()}async function _F(t){const e=Ol(t);for(const n of t.O_)e.m_(n.mutations)}async function bF(t,e,n){const r=t.O_.shift(),i=Pw.from(r,e,n);await Uk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await c1(t)}async function xF(t,e){e&&Ol(t).V_&&await async function(r,i){if(function(o){return uO(o)&&o!==Pe.ABORTED}(i.code)){const s=r.O_.shift();Ol(r).s_(),await Uk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await c1(r)}}(t,e),$k(t)&&qk(t)}async function bS(t,e){const n=_t(t);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=ou(n);n.L_.add(3),await Ep(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await l1(n)}async function SF(t,e){const n=_t(t);e?(n.L_.delete(2),await l1(n)):e||(n.L_.add(2),await Ep(n),n.q_.set("Unknown"))}function Qh(t){return t.K_||(t.K_=function(n,r,i){const s=_t(n);return s.w_(),new lF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:fF.bind(null,t),Ro:pF.bind(null,t),mo:gF.bind(null,t),d_:mF.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Fw(t)?Ow(t):t.q_.set("Unknown")):(await t.K_.stop(),zk(t))})),t.K_}function Ol(t){return t.U_||(t.U_=function(n,r,i){const s=_t(n);return s.w_(),new cF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wF.bind(null,t),mo:xF.bind(null,t),f_:_F.bind(null,t),g_:bF.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await c1(t)):(await t.U_.stop(),t.O_.length>0&&(Ze("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Vw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bw(t,e){if(la("AsyncQueue",`${e}: ${t}`),xp(t))return new Ge(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e){this.comparator=e?(n,r)=>e(n,r)||rt.comparator(n.key,r.key):(n,r)=>rt.comparator(n.key,r.key),this.keyedMap=Hd(),this.sortedSet=new En(this.comparator)}static emptySet(e){return new ph(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ph)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ph;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.W_=new En(rt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ft():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Dh{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Dh(e,n,ph.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class EF{constructor(){this.queries=SS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_t(n),s=i.queries;i.queries=SS(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ge(Pe.ABORTED,"Firestore shutting down"))}}function SS(){return new Yh(t=>fk(t),n1)}async function zw(t,e){const n=_t(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new AF,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Bw(o,`Initialization of query '${Ou(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&$w(n)}async function Uw(t,e){const n=_t(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NF(t,e){const n=_t(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&$w(n)}function kF(t,e,n){const r=_t(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function $w(t){t.Y_.forEach(e=>{e.next()})}var I2,AS;(AS=I2||(I2={})).ea="default",AS.Cache="cache";class qw{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Dh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Dh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==I2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.key=e}}class Wk{constructor(e){this.key=e}}class TF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Tt(),this.mutatedKeys=Tt(),this.Aa=pk(e),this.Ra=new ph(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new xS,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const g=i.get(u),p=r1(this.query,d)?d:null,_=!!g&&this.mutatedKeys.has(g.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let N=!1;g&&p?g.data.isEqual(p.data)?_!==x&&(r.track({type:3,doc:p}),N=!0):this.ga(g,p)||(r.track({type:2,doc:p}),N=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!g&&p?(r.track({type:0,doc:p}),N=!0):g&&!p&&(r.track({type:1,doc:g}),N=!0,(l||c)&&(a=!0)),N&&(p?(o=o.add(p),s=x?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(p,_){const x=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return x(p)-x(_)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Dh(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new xS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Tt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Wk(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Hk(r))}),n}ba(e){this.Ta=e.Ts,this.da=Tt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Dh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class PF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IF{constructor(e){this.key=e,this.va=!1}}class CF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Yh(a=>fk(a),n1),this.Ma=new Map,this.xa=new Set,this.Oa=new En(rt.comparator),this.Na=new Map,this.La=new Lw,this.Ba={},this.ka=new Map,this.qa=jh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LF(t,e,n=!0){const r=Jk(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Gk(r,e,n,!0),i}async function RF(t,e){const n=Jk(t);await Gk(n,e,!0,!1)}async function Gk(t,e,n,r){const i=await tF(t.localStore,ho(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await jF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Vk(t.remoteStore,i),a}async function jF(t,e,n,r,i){t.Ka=(d,g,p)=>async function(x,N,y,w){let A=N.view.ma(y);A.ns&&(A=await yS(x.localStore,N.query,!1).then(({documents:I})=>N.view.ma(I,A)));const D=w&&w.targetChanges.get(N.targetId),F=w&&w.targetMismatches.get(N.targetId)!=null,U=N.view.applyChanges(A,x.isPrimaryClient,D,F);return NS(x,N.targetId,U.wa),U.snapshot}(t,d,g,p);const s=await yS(t.localStore,e,!0),o=new TF(e,s.Ts),a=o.ma(s.documents),l=Ap.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);NS(t,n,c.wa);const u=new PF(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function DF(t,e,n){const r=_t(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!n1(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await P2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dw(r.remoteStore,i.targetId),C2(r,i.targetId)}).catch(bp)):(C2(r,i.targetId),await P2(r.localStore,i.targetId,!0))}async function MF(t,e){const n=_t(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dw(n.remoteStore,r.targetId))}async function OF(t,e,n){const r=qF(t);try{const i=await function(o,a){const l=_t(o),c=rr.now(),u=a.reduce((p,_)=>p.add(_.key),Tt());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=ca(),x=Tt();return l.cs.getEntries(p,u).next(N=>{_=N,_.forEach((y,w)=>{w.isValidDocument()||(x=x.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(N=>{d=N;const y=[];for(const w of a){const A=sO(w,d.get(w.key).overlayedDocument);A!=null&&y.push(new Kl(w.key,A,sk(A.value.mapValue),ns.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,a)}).next(N=>{g=N;const y=N.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(p,N.batchId,y)})}).then(()=>({batchId:g.batchId,changes:mk(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new En(Ft)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Np(r,i.changes),await c1(r.remoteStore)}catch(i){const s=Bw(i,"Failed to persist write");n.reject(s)}}async function Kk(t,e){const n=_t(t);try{const r=await JO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Xt(o.va):i.removedDocuments.size>0&&(Xt(o.va),o.va=!1))}),await Np(n,r,e)}catch(r){await bp(r)}}function ES(t,e,n){const r=_t(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=_t(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const g of d.j_)g.Z_(a)&&(c=!0)}),c&&$w(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function FF(t,e,n){const r=_t(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new En(rt.comparator);o=o.insert(s,Dr.newNoDocument(s,wt.min()));const a=Tt().add(s),l=new o1(wt.min(),new Map,new En(Ft),o,a);await Kk(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Hw(r)}else await P2(r.localStore,e,!1).then(()=>C2(r,e,n)).catch(bp)}async function VF(t,e){const n=_t(t),r=e.batch.batchId;try{const i=await XO(n.localStore,e);Qk(n,r,null),Yk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Np(n,i)}catch(i){await bp(i)}}async function BF(t,e,n){const r=_t(t);try{const i=await function(o,a){const l=_t(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Xt(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Qk(r,e,n),Yk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Np(r,i)}catch(i){await bp(i)}}function Yk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Qk(t,e,n){const r=_t(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function C2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Xk(t,r)})}function Xk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Dw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Hw(t))}function NS(t,e,n){for(const r of n)r instanceof Hk?(t.La.addReference(r.key,e),zF(t,r)):r instanceof Wk?(Ze("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Xk(t,r.key)):ft()}function zF(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ze("SyncEngine","New document in limbo: "+n),t.xa.add(r),Hw(t))}function Hw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new rt(mn.fromString(e)),r=t.qa.next();t.Na.set(r,new IF(n)),t.Oa=t.Oa.insert(n,r),Vk(t.remoteStore,new hl(ho(t1(n.path)),r,"TargetPurposeLimboResolution",bw.oe))}}async function Np(t,e,n){const r=_t(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){i.push(c);const d=jw.Wi(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const u=_t(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>je.forEach(c,g=>je.forEach(g.$i,p=>u.persistence.referenceDelegate.addReference(d,g.targetId,p)).next(()=>je.forEach(g.Ui,p=>u.persistence.referenceDelegate.removeReference(d,g.targetId,p)))))}catch(d){if(!xp(d))throw d;Ze("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const g=d.targetId;if(!d.fromCache){const p=u.os.get(g),_=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(_);u.os=u.os.insert(g,x)}}}(r.localStore,s))}async function UF(t,e){const n=_t(t);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=await Dk(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ge(Pe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Np(n,r.hs)}}function $F(t,e){const n=_t(t),r=n.Na.get(e);if(r&&r.va)return Tt().add(r.key);{let i=Tt();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Jk(t){const e=_t(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$F.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FF.bind(null,e),e.Ca.d_=NF.bind(null,e.eventManager),e.Ca.$a=kF.bind(null,e.eventManager),e}function qF(t){const e=_t(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BF.bind(null,e),e}class f0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=a1(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return QO(this.persistence,new KO,e.initialUser,this.serializer)}Ga(e){return new HO(Rw.Zr,this.serializer)}Wa(e){return new rF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}f0.provider={build:()=>new f0};class L2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ES(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UF.bind(null,this.syncEngine),await SF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EF}()}createDatastore(e){const n=a1(e.databaseInfo.databaseId),r=function(s){return new aF(s)}(e.databaseInfo);return function(s,o,a,l){return new uF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new dF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ES(this.syncEngine,n,0),function(){return _S.D()?new _S:new iF}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new CF(i,s,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=_t(i);Ze("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ep(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}L2.provider={build:()=>new L2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):la("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rr.UNAUTHENTICATED,this.clientId=nk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ze("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ze("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Bw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rv(t,e){t.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Dk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WF(t);Ze("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bS(e.remoteStore,i)),t._onlineComponents=e}async function WF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Pe.FAILED_PRECONDITION||i.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ih("Error using user provided cache. Falling back to memory cache: "+n),await Rv(t,new f0)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),await Rv(t,new f0);return t._offlineComponents}async function Zk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),await kS(t,t._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),await kS(t,new L2))),t._onlineComponents}function GF(t){return Zk(t).then(e=>e.syncEngine)}async function p0(t){const e=await Zk(t),n=e.eventManager;return n.onListen=LF.bind(null,e.syncEngine),n.onUnlisten=DF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MF.bind(null,e.syncEngine),n}function KF(t,e,n={}){const r=new Jo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Ww({next:g=>{u.Za(),o.enqueueAndForget(()=>Uw(s,d));const p=g.docs.has(a);!p&&g.fromCache?c.reject(new Ge(Pe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&l&&l.source==="server"?c.reject(new Ge(Pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),d=new qw(t1(a.path),u,{includeMetadataChanges:!0,_a:!0});return zw(s,d)}(await p0(t),t.asyncQueue,e,n,r)),r.promise}function YF(t,e,n={}){const r=new Jo;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new Ww({next:g=>{u.Za(),o.enqueueAndForget(()=>Uw(s,d)),g.fromCache&&l.source==="server"?c.reject(new Ge(Pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),d=new qw(a,u,{includeMetadataChanges:!0,_a:!0});return zw(s,d)}(await p0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e,n){if(!n)throw new Ge(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QF(t,e,n,r){if(e===!0&&r===!0)throw new Ge(Pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PS(t){if(!rt.isDocumentKey(t))throw new Ge(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IS(t){if(rt.isDocumentKey(t))throw new Ge(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function u1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ft()}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ge(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=u1(t);throw new Ge(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ge(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ge(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ge(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ge(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class h1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fM;switch(r.type){case"firstParty":return new vM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=TS.get(n);r&&(Ze("ComponentProvider","Removing Datastore"),TS.delete(n),r.terminate())}(this),Promise.resolve()}}function XF(t,e,n,r={}){var i;const s=(t=vi(t,h1))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ih("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Rr.MOCK_USER;else{a=Ej(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ge(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rr(c)}t._authCredentials=new pM(new tk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yl(this.firestore,e,this._query)}}class Vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vr(this.firestore,e,this._key)}}class Tl extends Yl{constructor(e,n,r){super(e,n,t1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vr(this.firestore,null,new rt(e))}withConverter(e){return new Tl(this.firestore,e,this._path)}}function Ng(t,e,...n){if(t=Qn(t),tT("collection","path",e),t instanceof h1){const r=mn.fromString(e,...n);return IS(r),new Tl(t,null,r)}{if(!(t instanceof Vr||t instanceof Tl))throw new Ge(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mn.fromString(e,...n));return IS(r),new Tl(t.firestore,null,r)}}function nh(t,e,...n){if(t=Qn(t),arguments.length===1&&(e=nk.newId()),tT("doc","path",e),t instanceof h1){const r=mn.fromString(e,...n);return PS(r),new Vr(t,null,new rt(r))}{if(!(t instanceof Vr||t instanceof Tl))throw new Ge(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mn.fromString(e,...n));return PS(r),new Vr(t.firestore,t instanceof Tl?t.converter:null,new rt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ok(this,"async_queue_retry"),this.Vu=()=>{const r=Lv();r&&Ze("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Lv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Lv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xp(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw la("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Vw.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ft()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function RS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ua extends h1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new LS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LS(e),this._firestoreClient=void 0,await e}}}function JF(t,e){const n=typeof t=="object"?t:uw(),r=typeof t=="string"?t:"(default)",i=cw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Sj("firestore");s&&XF(i,...s)}return i}function d1(t){if(t._terminated)throw new Ge(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZF(t),t._firestoreClient}function ZF(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new IM(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,eT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mh(_r.fromBase64String(e))}catch(n){throw new Ge(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mh(_r.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ge(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=/^__.*__$/;class t9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sp(e,this.data,n,this.fieldTransforms)}}class nT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Kl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Yw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Yw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return g0(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rT(this.Cu)&&e9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class n9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||a1(e)}Qu(e,n,r,i=!1){return new Yw({Cu:e,methodName:n,qu:r,path:mr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g1(t){const e=t._freezeSettings(),n=a1(t._databaseId);return new n9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iT(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Xw("Data must be an object, but it was:",o,r);const a=sT(r,o);let l,c;if(s.merge)l=new Ci(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const g=R2(e,d,n);if(!o.contains(g))throw new Ge(Pe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);aT(u,g)||u.push(g)}l=new Ci(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new t9(new hi(a),l,c)}class m1 extends p1{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m1}}class Qw extends p1{_toFieldTransform(e){return new tO(e.path,new Jf)}isEqual(e){return e instanceof Qw}}function r9(t,e,n,r){const i=t.Qu(1,e,n);Xw("Data must be an object, but it was:",i,r);const s=[],o=hi.empty();su(r,(l,c)=>{const u=Jw(e,l,n);c=Qn(c);const d=i.Nu(u);if(c instanceof m1)s.push(u);else{const g=kp(c,d);g!=null&&(s.push(u),o.set(u,g))}});const a=new Ci(s);return new nT(o,a,i.fieldTransforms)}function i9(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[R2(e,r,n)],l=[i];if(s.length%2!=0)throw new Ge(Pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(R2(e,s[g])),l.push(s[g+1]);const c=[],u=hi.empty();for(let g=a.length-1;g>=0;--g)if(!aT(c,a[g])){const p=a[g];let _=l[g];_=Qn(_);const x=o.Nu(p);if(_ instanceof m1)c.push(p);else{const N=kp(_,x);N!=null&&(c.push(p),u.set(p,N))}}const d=new Ci(c);return new nT(u,d,o.fieldTransforms)}function s9(t,e,n,r=!1){return kp(n,t.Qu(r?4:3,e))}function kp(t,e){if(oT(t=Qn(t)))return Xw("Unsupported field value:",e,t),sT(t,e);if(t instanceof p1)return function(r,i){if(!rT(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=kp(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Qn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rr.fromDate(r);return{timestampValue:h0(i.serializer,s)}}if(r instanceof rr){const s=new rr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:h0(i.serializer,s)}}if(r instanceof Gw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mh)return{bytesValue:Tk(i.serializer,r._byteString)};if(r instanceof Vr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kw)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return kw(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${u1(r)}`)}(t,e)}function sT(t,e){const n={};return rk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):su(t,(r,i)=>{const s=kp(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function oT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rr||t instanceof Gw||t instanceof Mh||t instanceof Vr||t instanceof p1||t instanceof Kw)}function Xw(t,e,n){if(!oT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=u1(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function R2(t,e,n){if((e=Qn(e))instanceof f1)return e._internalPath;if(typeof e=="string")return Jw(t,e);throw g0("Field path arguments must be of type string or ",t,!1,void 0,n)}const o9=new RegExp("[~\\*/\\[\\]]");function Jw(t,e,n){if(e.search(o9)>=0)throw g0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new f1(...e.split("."))._internalPath}catch{throw g0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function g0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ge(Pe.INVALID_ARGUMENT,a+t+l)}function aT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new a9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(v1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class a9 extends lT{data(){return super.data()}}function v1(t,e){return typeof e=="string"?Jw(t,e):e instanceof f1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ge(Pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zw{}class uT extends Zw{}function jv(t,e,...n){let r=[];e instanceof Zw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof e_).length,a=s.filter(l=>l instanceof y1).length;if(o>1||o>0&&a>0)throw new Ge(Pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class y1 extends uT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new y1(e,n,r)}_apply(e){const n=this._parse(e);return hT(e._query,n),new Yl(e.firestore,e.converter,S2(e._query,n))}_parse(e){const n=g1(e.firestore);return function(s,o,a,l,c,u,d){let g;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ge(Pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){MS(d,u);const p=[];for(const _ of d)p.push(DS(l,s,_));g={arrayValue:{values:p}}}else g=DS(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||MS(d,u),g=s9(a,o,d,u==="in"||u==="not-in");return Yn.create(c,u,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jS(t,e,n){const r=e,i=v1("where",t);return y1._create(i,r,n)}class e_ extends Zw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new e_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:js.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)hT(o,l),o=S2(o,l)}(e._query,n),new Yl(e.firestore,e.converter,S2(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t_ extends uT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Ge(Pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ge(Pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xf(s,o)}(e._query,this._field,this._direction);return new Yl(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Kh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function l9(t,e="asc"){const n=e,r=v1("orderBy",t);return t_._create(r,n)}function DS(t,e,n){if(typeof(n=Qn(n))=="string"){if(n==="")throw new Ge(Pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dk(e)&&n.indexOf("/")!==-1)throw new Ge(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mn.fromString(n));if(!rt.isDocumentKey(r))throw new Ge(Pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tS(t,new rt(r))}if(n instanceof Vr)return tS(t,n._key);throw new Ge(Pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${u1(n)}.`)}function MS(t,e){if(!Array.isArray(t)||t.length===0)throw new Ge(Pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hT(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ge(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(Pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class c9{convertValue(e,n="none"){switch(Zc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return su(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Mn(o.doubleValue));return new Kw(s)}convertGeoPoint(e){return new Gw(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kf(e));default:return null}}convertTimestamp(e){const n=Ml(e);return new rr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mn.fromString(e);Xt(jk(r));const i=new Yf(r.get(1),r.get(3)),s=new rt(r.popFirst(5));return i.isEqual(n)||la(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fT extends lT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(v1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vm extends fT{data(e={}){return super.data(e)}}class pT{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vm(this._firestore,this._userDataWriter,r.key,r,new Gd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(Pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new vm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new vm(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Gd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:u9(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function u9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){t=vi(t,Vr);const e=vi(t.firestore,ua);return KF(d1(e),t._key).then(n=>mT(e,t,n))}class n_ extends c9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vr(this.firestore,null,n)}}function OS(t){t=vi(t,Yl);const e=vi(t.firestore,ua),n=d1(e),r=new n_(e);return cT(t._query),YF(n,t._query).then(i=>new pT(e,r,t,i))}function gT(t,e,n){t=vi(t,Vr);const r=vi(t.firestore,ua),i=dT(t.converter,e);return w1(r,[iT(g1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ns.none())])}function d9(t,e,n,...r){t=vi(t,Vr);const i=vi(t.firestore,ua),s=g1(i);let o;return o=typeof(e=Qn(e))=="string"||e instanceof f1?i9(s,"updateDoc",t._key,e,n,r):r9(s,"updateDoc",t._key,e),w1(i,[o.toMutation(t._key,ns.exists(!0))])}function f9(t){return w1(vi(t.firestore,ua),[new Tw(t._key,ns.none())])}function p9(t,e){const n=vi(t.firestore,ua),r=nh(t),i=dT(t.converter,e);return w1(n,[iT(g1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ns.exists(!1))]).then(()=>r)}function g9(t,...e){var n,r,i;t=Qn(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||RS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(RS(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof Vr)c=vi(t.firestore,ua),u=t1(t._key.path),l={next:d=>{e[o]&&e[o](mT(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=vi(t,Yl);c=vi(d.firestore,ua),u=d._query;const g=new n_(c);l={next:p=>{e[o]&&e[o](new pT(c,g,d,p))},error:e[o+1],complete:e[o+2]},cT(t._query)}return function(g,p,_,x){const N=new Ww(x),y=new qw(p,N,_);return g.asyncQueue.enqueueAndForget(async()=>zw(await p0(g),y)),()=>{N.Za(),g.asyncQueue.enqueueAndForget(async()=>Uw(await p0(g),y))}}(d1(c),u,a,l)}function w1(t,e){return function(r,i){const s=new Jo;return r.asyncQueue.enqueueAndForget(async()=>OF(await GF(r),i,s)),s.promise}(d1(t),e)}function mT(t,e,n){const r=n.docs.get(e._key),i=new n_(t);return new fT(t,i,e._key,r,new Gd(n.hasPendingWrites,n.fromCache),e.converter)}function Bu(){return new Qw("serverTimestamp")}(function(e,n=!0){(function(i){Gh=i})(Hh),Th(new Kc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ua(new gM(r.getProvider("auth-internal")),new wM(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ge(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yf(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),kl(Qx,"4.7.3",e),kl(Qx,"4.7.3","esm2017")})();const m9={apiKey:"AIzaSyCCEm1tXmgRJxfgeakA-UTca2WId4-KO6k",authDomain:"intern-management-83845.firebaseapp.com",projectId:"intern-management-83845",storageBucket:"intern-management-83845.appspot.com",messagingSenderId:"358299223179",appId:"1:358299223179:web:978b4ee16a60583c59408e",measurementId:"G-YKVB0HRZ4L"},vT=BD().length===0?hN(m9):uw(),sl=cM(vT),Vo=JF(vT),nn={INTERNS:"interns",TASKS:"tasks",PERFORMANCES:"performances",ATTENDANCE:"attendance",MESSAGES:"messages",CHATS:"chats",SETTINGS:"settings"},ym={async register(t,e,n){try{const i=(await W8(sl,t,e)).user;return await gT(nh(Vo,nn.INTERNS,i.uid),{...n,uid:i.uid,email:t,createdAt:Bu(),status:"Active"}),{success:!0,user:i}}catch(r){return{success:!1,error:r.message}}},async login(t,e){try{return{success:!0,user:(await G8(sl,t,e)).user}}catch(n){return{success:!1,error:n.message}}},async logout(){try{return await FN(sl),{success:!0}}catch(t){return{success:!1,error:t.message}}},async updatePassword(t){try{return sl.currentUser?(await K8(sl.currentUser,t),{success:!0}):{success:!1,error:"No user logged in"}}catch(e){return{success:!1,error:e.message}}}},un={async create(t,e){try{return{success:!0,id:(await p9(Ng(Vo,t),{...e,createdAt:Bu(),updatedAt:Bu()})).id}}catch(n){return{success:!1,error:n.message}}},async createWithId(t,e,n){try{return await gT(nh(Vo,t,e),{...n,createdAt:Bu(),updatedAt:Bu()}),{success:!0,id:e}}catch(r){return{success:!1,error:r.message}}},async getAll(t){try{return{success:!0,data:(await OS(Ng(Vo,t))).docs.map(r=>({id:r.id,...r.data()}))}}catch(e){return{success:!1,error:e.message}}},async getById(t,e){try{const n=await h9(nh(Vo,t,e));return n.exists()?{success:!0,data:{id:n.id,...n.data()}}:{success:!1,error:"Document not found"}}catch(n){return{success:!1,error:n.message}}},async update(t,e,n){try{return await d9(nh(Vo,t,e),{...n,updatedAt:Bu()}),{success:!0}}catch(r){return{success:!1,error:r.message}}},async delete(t,e){try{return await f9(nh(Vo,t,e)),{success:!0}}catch(n){return{success:!1,error:n.message}}},async query(t,e=[],n){try{let r=Ng(Vo,t);return e.length>0&&(r=jv(r,...e.map(o=>jS(o.field,o.operator,o.value)))),n&&(r=jv(r,l9(n))),{success:!0,data:(await OS(r)).docs.map(o=>({id:o.id,...o.data()}))}}catch(r){return{success:!1,error:r.message}}},onSnapshot(t,e,n=[]){let r=Ng(Vo,t);return n.length>0&&(r=jv(r,...n.map(i=>jS(i.field,i.operator,i.value)))),g9(r,i=>{const s=i.docs.map(o=>({id:o.id,...o.data()}));e(s)})}},Kd={async createIntern(t){var e;try{const n=sl.currentUser,r=await ym.register(t.email,t.password||"intern123",t);return r.success?(await FN(sl),n&&n.email,{success:!0,id:(e=r.user)==null?void 0:e.uid}):r}catch(n){return{success:!1,error:n.message}}},async getAllInterns(){return await un.getAll(nn.INTERNS)},async updateIntern(t,e){return await un.update(nn.INTERNS,t,e)},async deleteIntern(t){return await un.delete(nn.INTERNS,t)}},Td={async createTask(t){return await un.create(nn.TASKS,t)},async getAllTasks(){return await un.getAll(nn.TASKS)},async updateTask(t,e){return await un.update(nn.TASKS,t,e)},async deleteTask(t){return await un.delete(nn.TASKS,t)},async getTasksByIntern(t){return await un.query(nn.TASKS,[{field:"assignedToId",operator:"==",value:t}])}},kg={async createPerformance(t){return await un.create(nn.PERFORMANCES,t)},async getAllPerformances(){return await un.getAll(nn.PERFORMANCES)},async updatePerformance(t,e){return await un.update(nn.PERFORMANCES,t,e)},async deletePerformance(t){return await un.delete(nn.PERFORMANCES,t)}},Tg={async createAttendance(t){return await un.create(nn.ATTENDANCE,t)},async getAllAttendance(){return await un.getAll(nn.ATTENDANCE)},async updateAttendance(t,e){return await un.update(nn.ATTENDANCE,t,e)},async deleteAttendance(t){return await un.delete(nn.ATTENDANCE,t)}},v9={async sendMessage(t){return await un.create(nn.MESSAGES,t)},async getMessages(t){return await un.query(nn.MESSAGES,[{field:"chatId",operator:"==",value:t}],"createdAt")},onMessagesSnapshot(t,e){return un.onSnapshot(nn.MESSAGES,e,[{field:"chatId",operator:"==",value:t}])}},Pg={async createChat(t){return await un.create(nn.CHATS,t)},async getAllChats(){return await un.getAll(nn.CHATS)},async updateChat(t,e){return await un.update(nn.CHATS,t,e)},onChatsSnapshot(t){return un.onSnapshot(nn.CHATS,t)}},FS={async saveSettings(t,e){return await un.createWithId(nn.SETTINGS,t,e)},async getSettings(t){return await un.getById(nn.SETTINGS,t)},async updateSettings(t,e){return await un.update(nn.SETTINGS,t,e)}},yT=te.createContext(null),ls=()=>{const t=te.useContext(yT);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},y9=({children:t})=>{const[e,n]=te.useState(null),[r,i]=te.useState(!0);te.useEffect(()=>{const l=J8(sl,async c=>{if(c)if(c.email==="divyanshpansari123@gmail.com")n({id:"admin",email:c.email,role:"admin",name:"Divyansh Pansari",uid:c.uid});else{const u=await Kd.getAllInterns();if(u.success){const d=u.data.find(g=>g.uid===c.uid);d?n({id:d.id,email:d.email,role:"intern",name:d.name,uid:c.uid}):(console.error("Intern not found in database"),n(null))}}else n(null);i(!1)});return()=>l()},[]);const s=async(l,c)=>{try{const u=await ym.login(l,c);return u.success?{success:!0}:{success:!1,error:u.error}}catch(u){return{success:!1,error:u.message}}},o=async()=>{try{await ym.logout(),n(null)}catch(l){console.error("Logout error:",l)}},a=async l=>{try{return(await ym.updatePassword(l)).success}catch(c){return console.error("Password update error:",c),!1}};return v.jsx(yT.Provider,{value:{user:e,loading:r,login:s,logout:o,updatePassword:a},children:t})},w9=()=>{var s;const{logout:t,user:e}=ls(),n=[{path:"/",icon:v.jsx(yx,{size:20}),label:"Dashboard",color:"text-blue-600"},{path:"/interns",icon:v.jsx(sw,{size:20}),label:"Interns",color:"text-green-600"},{path:"/tasks",icon:v.jsx(uh,{size:20}),label:"Tasks",color:"text-purple-600"},{path:"/attendance",icon:v.jsx(l2,{size:20}),label:"Attendance",color:"text-orange-600"},{path:"/performance",icon:v.jsx(kh,{size:20}),label:"Performance",color:"text-pink-600"},{path:"/reports",icon:v.jsx(QE,{size:20}),label:"Reports",color:"text-indigo-600"},{path:"/calendar",icon:v.jsx(Nh,{size:20}),label:"Calendar",color:"text-red-600"},{path:"/messages",icon:v.jsx(e0,{size:20}),label:"Messages",color:"text-cyan-600"}],r=[{path:"/intern-dashboard",icon:v.jsx(yx,{size:20}),label:"Dashboard",color:"text-blue-600"},{path:"/tasks",icon:v.jsx(uh,{size:20}),label:"My Tasks",color:"text-purple-600"},{path:"/attendance",icon:v.jsx(l2,{size:20}),label:"Attendance",color:"text-orange-600"},{path:"/performance",icon:v.jsx(kh,{size:20}),label:"Performance",color:"text-pink-600"},{path:"/calendar",icon:v.jsx(Nh,{size:20}),label:"Calendar",color:"text-red-600"},{path:"/messages",icon:v.jsx(e0,{size:20}),label:"Messages",color:"text-cyan-600"}],i=(e==null?void 0:e.role)==="admin"?n:r;return v.jsxs("div",{className:"w-72 bg-white/80 backdrop-blur-xl h-screen shadow-2xl border-r border-gray-200/50 flex flex-col",children:[v.jsxs("div",{className:"p-6 border-b border-gray-200/50",children:[v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:v.jsx(tN,{className:"w-5 h-5 text-white"})}),v.jsxs("div",{className:"ml-3",children:[v.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"InternHub"}),v.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[e==null?void 0:e.role," Portal"]})]})]}),v.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl p-4",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:v.jsx("span",{className:"text-white font-semibold text-sm",children:((s=e==null?void 0:e.name)==null?void 0:s.split(" ").map(o=>o[0]).join(""))||"U"})}),v.jsxs("div",{className:"ml-3 flex-1",children:[v.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:e==null?void 0:e.name}),v.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.email})]})]})})]}),v.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:i.map(o=>v.jsxs(xv,{to:o.path,className:({isActive:a})=>`group flex items-center px-4 py-3 text-gray-700 rounded-xl transition-all duration-200 hover:bg-gradient-to-r hover:from-indigo-50 hover:to-purple-50 hover:text-indigo-700 ${a?"bg-gradient-to-r from-indigo-50 to-purple-50 text-indigo-700 shadow-sm border border-indigo-100":""}`,children:[v.jsx("div",{className:`${o.color} group-hover:scale-110 transition-transform duration-200`,children:o.icon}),v.jsx("span",{className:"ml-3 font-medium",children:o.label}),v.jsx(nj,{className:"ml-auto w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]},o.path))}),v.jsxs("div",{className:"p-4 border-t border-gray-200/50 space-y-2",children:[v.jsxs(xv,{to:"/profile",className:"group flex items-center px-4 py-3 text-gray-700 rounded-xl transition-all duration-200 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50",children:[v.jsx(iw,{size:20,className:"text-gray-600 group-hover:text-blue-600 group-hover:scale-110 transition-all duration-200"}),v.jsx("span",{className:"ml-3 font-medium",children:"Profile"})]}),v.jsxs(xv,{to:"/settings",className:"group flex items-center px-4 py-3 text-gray-700 rounded-xl transition-all duration-200 hover:bg-gradient-to-r hover:from-gray-50 hover:to-blue-50",children:[v.jsx(hj,{size:20,className:"text-gray-600 group-hover:text-blue-600 group-hover:scale-110 transition-all duration-200"}),v.jsx("span",{className:"ml-3 font-medium",children:"Settings"})]}),v.jsxs("button",{onClick:t,className:"group flex items-center w-full px-4 py-3 text-gray-700 rounded-xl transition-all duration-200 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 hover:text-red-600",children:[v.jsx(rj,{size:20,className:"text-gray-600 group-hover:text-red-600 group-hover:scale-110 transition-all duration-200"}),v.jsx("span",{className:"ml-3 font-medium",children:"Logout"})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Tp(t){return t+.5|0}const dl=(t,e,n)=>Math.max(Math.min(t,n),e);function Yd(t){return dl(Tp(t*2.55),0,255)}function Pl(t){return dl(Tp(t*255),0,255)}function qo(t){return dl(Tp(t/2.55)/100,0,1)}function VS(t){return dl(Tp(t*100),0,100)}const Ki={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},j2=[..."0123456789ABCDEF"],_9=t=>j2[t&15],b9=t=>j2[(t&240)>>4]+j2[t&15],Ig=t=>(t&240)>>4===(t&15),x9=t=>Ig(t.r)&&Ig(t.g)&&Ig(t.b)&&Ig(t.a);function S9(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ki[t[1]]*17,g:255&Ki[t[2]]*17,b:255&Ki[t[3]]*17,a:e===5?Ki[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ki[t[1]]<<4|Ki[t[2]],g:Ki[t[3]]<<4|Ki[t[4]],b:Ki[t[5]]<<4|Ki[t[6]],a:e===9?Ki[t[7]]<<4|Ki[t[8]]:255})),n}const A9=(t,e)=>t<255?e(t):"";function E9(t){var e=x9(t)?_9:b9;return t?"#"+e(t.r)+e(t.g)+e(t.b)+A9(t.a,e):void 0}const N9=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wT(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function k9(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function T9(t,e,n){const r=wT(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function P9(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function r_(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=P9(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function i_(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Pl)}function s_(t,e,n){return i_(wT,t,e,n)}function I9(t,e,n){return i_(T9,t,e,n)}function C9(t,e,n){return i_(k9,t,e,n)}function _T(t){return(t%360+360)%360}function L9(t){const e=N9.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Yd(+e[5]):Pl(+e[5]));const i=_T(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=I9(i,s,o):e[1]==="hsv"?r=C9(i,s,o):r=s_(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function R9(t,e){var n=r_(t);n[0]=_T(n[0]+e),n=s_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function j9(t){if(!t)return;const e=r_(t),n=e[0],r=VS(e[1]),i=VS(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${qo(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const BS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},zS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function D9(){const t={},e=Object.keys(zS),n=Object.keys(BS);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,BS[s]);s=parseInt(zS[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Cg;function M9(t){Cg||(Cg=D9(),Cg.transparent=[0,0,0,0]);const e=Cg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const O9=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function F9(t){const e=O9.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Yd(o):dl(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Yd(r):dl(r,0,255)),i=255&(e[4]?Yd(i):dl(i,0,255)),s=255&(e[6]?Yd(s):dl(s,0,255)),{r,g:i,b:s,a:n}}}function V9(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${qo(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Dv=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ju=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function B9(t,e,n){const r=ju(qo(t.r)),i=ju(qo(t.g)),s=ju(qo(t.b));return{r:Pl(Dv(r+n*(ju(qo(e.r))-r))),g:Pl(Dv(i+n*(ju(qo(e.g))-i))),b:Pl(Dv(s+n*(ju(qo(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Lg(t,e,n){if(t){let r=r_(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=s_(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function bT(t,e){return t&&Object.assign(e||{},t)}function US(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Pl(t[3]))):(e=bT(t,{r:0,g:0,b:0,a:1}),e.a=Pl(e.a)),e}function z9(t){return t.charAt(0)==="r"?F9(t):L9(t)}class tp{constructor(e){if(e instanceof tp)return e;const n=typeof e;let r;n==="object"?r=US(e):n==="string"&&(r=S9(e)||M9(e)||z9(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=bT(this._rgb);return e&&(e.a=qo(e.a)),e}set rgb(e){this._rgb=US(e)}rgbString(){return this._valid?V9(this._rgb):void 0}hexString(){return this._valid?E9(this._rgb):void 0}hslString(){return this._valid?j9(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=B9(this._rgb,e._rgb,n)),this}clone(){return new tp(this.rgb)}alpha(e){return this._rgb.a=Pl(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Tp(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Lg(this._rgb,2,e),this}darken(e){return Lg(this._rgb,2,-e),this}saturate(e){return Lg(this._rgb,1,e),this}desaturate(e){return Lg(this._rgb,1,-e),this}rotate(e){return R9(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Oo(){}const U9=(()=>{let t=0;return()=>t++})();function rn(t){return t==null}function tr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Vt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ss(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Zs(t,e){return ss(t)?t:e}function Kt(t,e){return typeof t>"u"?e:t}const $9=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function gn(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Gt(t,e,n,r){let i,s,o;if(tr(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Vt(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function m0(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function v0(t){if(tr(t))return t.map(v0);if(Vt(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=v0(t[n[i]]);return e}return t}function xT(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function q9(t,e,n,r){if(!xT(t))return;const i=e[t],s=n[t];Vt(i)&&Vt(s)?np(i,s,r):e[t]=v0(s)}function np(t,e,n){const r=tr(e)?e:[e],i=r.length;if(!Vt(t))return t;n=n||{};const s=n.merger||q9;let o;for(let a=0;a<i;++a){if(o=r[a],!Vt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function gf(t,e){return np(t,e,{merger:H9})}function H9(t,e,n){if(!xT(t))return;const r=e[t],i=n[t];Vt(r)&&Vt(i)?gf(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=v0(i))}const $S={"":t=>t,x:t=>t.x,y:t=>t.y};function W9(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function G9(t){const e=W9(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Oh(t,e){return($S[e]||($S[e]=G9(e)))(t)}function o_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const rp=t=>typeof t<"u",Fl=t=>typeof t=="function",qS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function K9(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Br=Math.PI,Il=2*Br,y0=Number.POSITIVE_INFINITY,Y9=Br/180,Ts=Br/2,mc=Br/4,HS=Br*2/3,D2=Math.log10,Cl=Math.sign;function wm(t,e,n){return Math.abs(t-e)<n}function WS(t){const e=Math.round(t);t=wm(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(D2(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Q9(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function X9(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function w0(t){return!X9(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function J9(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Z9(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Cc(t){return t*(Br/180)}function eV(t){return t*(180/Br)}function GS(t){if(!ss(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function tV(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Br&&(s+=Il),{angle:s,distance:i}}function nV(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function vc(t){return(t%Il+Il)%Il}function rV(t,e,n,r){const i=vc(t),s=vc(e),o=vc(n),a=vc(s-i),l=vc(o-i),c=vc(i-s),u=vc(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function Ps(t,e,n){return Math.max(e,Math.min(n,t))}function iV(t){return Ps(t,-32768,32767)}function rh(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function a_(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const M2=(t,e,n,r)=>a_(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),sV=(t,e,n)=>a_(t,n,r=>t[r][e]>=n);function oV(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const ST=["push","pop","shift","splice","unshift"];function aV(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ST.forEach(n=>{const r="_onData"+o_(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function KS(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(ST.forEach(s=>{delete t[s]}),delete t._chartjs)}function AT(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ET=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function NT(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,ET.call(window,()=>{r=!1,t.apply(e,n)}))}}function lV(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const l_=t=>t==="start"?"left":t==="end"?"right":"center",Lr=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,cV=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Rg=t=>t===0||t===1,YS=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Il/n)),QS=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Il/n)+1,mf={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ts)+1,easeOutSine:t=>Math.sin(t*Ts),easeInOutSine:t=>-.5*(Math.cos(Br*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Rg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Rg(t)?t:YS(t,.075,.3),easeOutElastic:t=>Rg(t)?t:QS(t,.075,.3),easeInOutElastic(t){return Rg(t)?t:t<.5?.5*YS(t*2,.1125,.45):.5+.5*QS(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-mf.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?mf.easeInBounce(t*2)*.5:mf.easeOutBounce(t*2-1)*.5+.5};function kT(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function XS(t){return kT(t)?t:new tp(t)}function Mv(t){return kT(t)?t:new tp(t).saturate(.5).darken(.1).hexString()}const uV=["x","y","borderWidth","radius","tension"],hV=["color","borderColor","backgroundColor"];function dV(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:hV},numbers:{type:"number",properties:uV}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function fV(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const JS=new Map;function pV(t,e){e=e||{};const n=t+JSON.stringify(e);let r=JS.get(n);return r||(r=new Intl.NumberFormat(t,e),JS.set(n,r)),r}function TT(t,e,n){return pV(e,n).format(t)}const PT={values(t){return tr(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=gV(t,n)}const o=D2(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),TT(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(D2(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?PT.numeric.call(this,t,e,n):""}};function gV(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var IT={formatters:PT};function mV(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:IT.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const eu=Object.create(null),O2=Object.create(null);function vf(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Ov(t,e,n){return typeof e=="string"?np(vf(t,e),n):np(vf(t,""),e)}class vV{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Mv(i.backgroundColor),this.hoverBorderColor=(r,i)=>Mv(i.borderColor),this.hoverColor=(r,i)=>Mv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Ov(this,e,n)}get(e){return vf(this,e)}describe(e,n){return Ov(O2,e,n)}override(e,n){return Ov(eu,e,n)}route(e,n,r,i){const s=vf(this,e),o=vf(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Vt(l)?Object.assign({},c,l):Kt(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var zn=new vV({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[dV,fV,mV]);function yV(t){return!t||rn(t.size)||rn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ZS(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function yc(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function e4(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function t4(t,e,n,r){CT(t,e,n,r,null)}function CT(t,e,n,r,i){let s,o,a,l,c,u,d,g;const p=e.pointStyle,_=e.rotation,x=e.radius;let N=(_||0)*Y9;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(N),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,x,0,0,Il):t.arc(n,r,x,0,Il),t.closePath();break;case"triangle":u=i?i/2:x,t.moveTo(n+Math.sin(N)*u,r-Math.cos(N)*x),N+=HS,t.lineTo(n+Math.sin(N)*u,r-Math.cos(N)*x),N+=HS,t.lineTo(n+Math.sin(N)*u,r-Math.cos(N)*x),t.closePath();break;case"rectRounded":c=x*.516,l=x-c,o=Math.cos(N+mc)*l,d=Math.cos(N+mc)*(i?i/2-c:l),a=Math.sin(N+mc)*l,g=Math.sin(N+mc)*(i?i/2-c:l),t.arc(n-d,r-a,c,N-Br,N-Ts),t.arc(n+g,r-o,c,N-Ts,N),t.arc(n+d,r+a,c,N,N+Ts),t.arc(n-g,r+o,c,N+Ts,N+Br),t.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*x,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}N+=mc;case"rectRot":d=Math.cos(N)*(i?i/2:x),o=Math.cos(N)*x,a=Math.sin(N)*x,g=Math.sin(N)*(i?i/2:x),t.moveTo(n-d,r-a),t.lineTo(n+g,r-o),t.lineTo(n+d,r+a),t.lineTo(n-g,r+o),t.closePath();break;case"crossRot":N+=mc;case"cross":d=Math.cos(N)*(i?i/2:x),o=Math.cos(N)*x,a=Math.sin(N)*x,g=Math.sin(N)*(i?i/2:x),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o);break;case"star":d=Math.cos(N)*(i?i/2:x),o=Math.cos(N)*x,a=Math.sin(N)*x,g=Math.sin(N)*(i?i/2:x),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o),N+=mc,d=Math.cos(N)*(i?i/2:x),o=Math.cos(N)*x,a=Math.sin(N)*x,g=Math.sin(N)*(i?i/2:x),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+g,r-o),t.lineTo(n-g,r+o);break;case"line":o=i?i/2:Math.cos(N)*x,a=Math.sin(N)*x,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(N)*(i?i/2:x),r+Math.sin(N)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function LT(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function c_(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function u_(t){t.restore()}function wV(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),rn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function _V(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function bV(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ip(t,e,n,r,i,s={}){const o=tr(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,wV(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&bV(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),rn(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),_V(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function _0(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Br,Br,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Br,Ts,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Ts,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Ts,!0),t.lineTo(n+o.topLeft,r)}const xV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,SV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function AV(t,e){const n=(""+t).match(xV);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const EV=t=>+t||0;function RT(t,e){const n={},r=Vt(e),i=r?Object.keys(e):e,s=Vt(t)?r?o=>Kt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=EV(s(o));return n}function jT(t){return RT(t,{top:"y",right:"x",bottom:"y",left:"x"})}function gh(t){return RT(t,["topLeft","topRight","bottomLeft","bottomRight"])}function os(t){const e=jT(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Or(t,e){t=t||{},e=e||zn.font;let n=Kt(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Kt(t.style,e.style);r&&!(""+r).match(SV)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Kt(t.family,e.family),lineHeight:AV(Kt(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Kt(t.weight,e.weight),string:""};return i.string=yV(i),i}function jg(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function NV(t,e,n){const{min:r,max:i}=t,s=$9(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Xh(t,e){return Object.assign(Object.create(t),e)}function h_(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=FT("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>h_([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return MT(a,l,()=>jV(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return r4(a).includes(l)},ownKeys(a){return r4(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Fh(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:DT(t,r),setContext:s=>Fh(t,s,n,r),override:s=>Fh(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return MT(s,o,()=>TV(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function DT(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Fl(n)?n:()=>n,isIndexable:Fl(r)?r:()=>r}}const kV=(t,e)=>t?t+o_(e):e,d_=(t,e)=>Vt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function MT(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function TV(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Fl(a)&&o.isScriptable(e)&&(a=PV(e,a,t,n)),tr(a)&&a.length&&(a=IV(e,a,t,o.isIndexable)),d_(e,a)&&(a=Fh(a,i,s&&s[e],o)),a}function PV(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),d_(t,l)&&(l=f_(i._scopes,i,t,l)),l}function IV(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Vt(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=f_(c,i,t,u);e.push(Fh(d,s,o&&o[t],a))}}return e}function OT(t,e,n){return Fl(t)?t(e,n):t}const CV=(t,e)=>t===!0?e:typeof t=="string"?Oh(e,t):void 0;function LV(t,e,n,r,i){for(const s of e){const o=CV(n,s);if(o){t.add(o);const a=OT(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function f_(t,e,n,r){const i=e._rootScopes,s=OT(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=n4(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=n4(a,o,s,l,r),l===null)?!1:h_(Array.from(a),[""],i,s,()=>RV(e,n,r))}function n4(t,e,n,r,i){for(;n;)n=LV(t,e,n,r,i);return n}function RV(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return tr(i)&&Vt(n)?n:i||{}}function jV(t,e,n,r){let i;for(const s of e)if(i=FT(kV(s,t),n),typeof i<"u")return d_(t,i)?f_(n,r,t,i):i}function FT(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function r4(t){let e=t._keys;return e||(e=t._keys=DV(t._scopes)),e}function DV(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function p_(){return typeof window<"u"&&typeof document<"u"}function g_(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function b0(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const _1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function MV(t,e){return _1(t).getPropertyValue(e)}const OV=["top","right","bottom","left"];function Oc(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=OV[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const FV=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function VV(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(FV(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Sc(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=_1(n),s=i.boxSizing==="border-box",o=Oc(i,"padding"),a=Oc(i,"border","width"),{x:l,y:c,box:u}=VV(t,n),d=o.left+(u&&a.left),g=o.top+(u&&a.top);let{width:p,height:_}=e;return s&&(p-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-g)/_*n.height/r)}}function BV(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&g_(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=_1(s),l=Oc(a,"border","width"),c=Oc(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=b0(a.maxWidth,s,"clientWidth"),i=b0(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||y0,maxHeight:i||y0}}const Dg=t=>Math.round(t*10)/10;function zV(t,e,n,r){const i=_1(t),s=Oc(i,"margin"),o=b0(i.maxWidth,t,"clientWidth")||y0,a=b0(i.maxHeight,t,"clientHeight")||y0,l=BV(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const g=Oc(i,"border","width"),p=Oc(i,"padding");c-=p.width+g.width,u-=p.height+g.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=Dg(Math.min(c,o,l.maxWidth)),u=Dg(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Dg(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=Dg(Math.floor(u*r))),{width:c,height:u}}function i4(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const UV=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};p_()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function s4(t,e){const n=MV(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const $V=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},qV=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function mh(t,e,n){return t?$V(e,n):qV()}function VT(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function BT(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class HV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ET.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Bo=new HV;const o4="transparent",WV={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=XS(t||o4),i=r.valid&&XS(e||o4);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class GV{constructor(e,n,r,i){const s=n[r];i=jg([e.to,i,s,e.from]);const o=jg([e.from,s,i]);this._active=!0,this._fn=e.fn||WV[e.type||typeof o],this._easing=mf[e.easing]||mf.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=jg([e.to,n,i,e.from]),this._from=jg([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class zT{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Vt(e))return;const n=Object.keys(zn.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Vt(s))return;const o={};for(const a of n)o[a]=s[a];(tr(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=YV(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&KV(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const g=r.get(c);if(d)if(g&&d.active()){d.update(g,u,a);continue}else d.cancel();if(!g||!g.duration){e[c]=u;continue}s[c]=d=new GV(g,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Bo.add(this._chart,r),!0}}function KV(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function YV(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function a4(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function QV(t,e,n){if(n===!1)return!1;const r=a4(t,n),i=a4(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function XV(t){let e,n,r,i;return Vt(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function UT(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function l4(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],ss(c)&&(s||e===0||Cl(e)===Cl(c))&&(e+=c)}return!u&&!r.all?0:e}function JV(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function Fv(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function ZV(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function eB(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function tB(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function c4(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function u4(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=ZV(s,o,r),d=e.length;let g;for(let p=0;p<d;++p){const _=e[p],{[l]:x,[c]:N}=_,y=_._stacks||(_._stacks={});g=y[c]=tB(i,u,x),g[a]=N,g._top=c4(g,o,!0,r.type),g._bottom=c4(g,o,!1,r.type);const w=g._visualValues||(g._visualValues={});w[a]=N}}function Vv(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function nB(t,e){return Xh(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function rB(t,e,n){return Xh(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Pd(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Bv=t=>t==="reset"||t==="none",h4=(t,e)=>e?t:Object.assign({},t),iB=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:UT(n,!0),values:null};class yf{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Fv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pd(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,g,p,_)=>d==="x"?g:d==="r"?_:p,s=n.xAxisID=Kt(r.xAxisID,Vv(e,"x")),o=n.yAxisID=Kt(r.yAxisID,Vv(e,"y")),a=n.rAxisID=Kt(r.rAxisID,Vv(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&KS(this._data,this),e._stacked&&Pd(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Vt(n)){const i=this._cachedMeta;this._data=JV(n,i)}else if(r!==n){if(r){KS(r,this);const i=this._cachedMeta;Pd(i),i._parsed=[]}n&&Object.isExtensible(n)&&aV(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Fv(n.vScale,n),n.stack!==r.stack&&(i=!0,Pd(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(u4(this,n._parsed),n._stacked=Fv(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,g;if(this._parsing===!1)r._parsed=i,r._sorted=!0,g=i;else{tr(i[e])?g=this.parseArrayData(r,i,e,n):Vt(i[e])?g=this.parseObjectData(r,i,e,n):g=this.parsePrimitiveData(r,i,e,n);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=g[u],l&&(p()&&(l=!1),c=d);r._sorted=l}o&&u4(this,g)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let g,p,_;for(g=0,p=i;g<p;++g)_=g+r,d[g]={[a]:u||s.parse(c[_],_),[l]:o.parse(n[_],_)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,g,p;for(u=0,d=i;u<d;++u)g=u+r,p=n[g],c[u]={x:s.parse(Oh(p,a),g),y:o.parse(Oh(p,l),g)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:UT(i,!0),values:n._stacks[e.axis]._visualValues};return l4(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=l4(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=iB(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=eB(a);let g,p;function _(){p=i[g];const x=p[a.axis];return!ss(p[e.axis])||u>x||d<x}for(g=0;g<o&&!(!_()&&(this.updateRangeFromParsed(c,e,p,l),s));++g);if(s){for(g=o-1;g>=0;--g)if(!_()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],ss(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=XV(Kt(this.options.clip,QV(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=rB(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=nB(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&rp(r);if(a)return h4(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],g=c.getOptionScopes(this.getDataset(),u),p=Object.keys(zn.elements[e]),_=()=>this.getContext(r,i,n),x=c.resolveNamedOptions(g,p,_,d);return x.$shared&&(x.$shared=l,s[o]=Object.freeze(h4(x,l))),x}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),g=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(g,this.getContext(e,r,n))}const c=new zT(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Bv(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Bv(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Bv(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Pd(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Mt(yf,"defaults",{}),Mt(yf,"datasetElementType",null),Mt(yf,"dataElementType",null);function sB(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=AT(r.sort((i,s)=>i-s))}return t._cache.$bar}function oB(t){const e=t.iScale,n=sB(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(rp(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function aB(t,e,n,r){const i=n.barThickness;let s,o;return rn(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function lB(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function cB(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function $T(t,e,n,r){return tr(t)?cB(t,e,n,r):e[n.axis]=n.parse(t,r),e}function d4(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,d,g;for(c=n,u=n+r;c<u;++c)g=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push($T(g,d,s,c));return l}function zv(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function uB(t,e,n){return t!==0?Cl(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function hB(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function dB(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=hB(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[f4(u,o,a,l)]=!0,i=c)),s[f4(i,o,a,l)]=!0,t.borderSkipped=s}function f4(t,e,n,r){return r?(t=fB(t,e,n),t=p4(t,n,e)):t=p4(t,e,n),t}function fB(t,e,n){return t===e?n:t===n?e:t}function p4(t,e,n){return t==="start"?e:t==="end"?n:t}function pB(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class _m extends yf{parsePrimitiveData(e,n,r,i){return d4(e,n,r,i)}parseArrayData(e,n,r,i){return d4(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let g,p,_,x;for(g=r,p=r+i;g<p;++g)x=n[g],_={},_[s.axis]=s.parse(Oh(x,c),g),d.push($T(Oh(x,u),_,o,g));return d}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=zv(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:g}=this._getSharedOptions(n,i);for(let p=n;p<n+r;p++){const _=this.getParsed(p),x=s||rn(_[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),N=this._calculateBarIndexPixels(p,u),y=(_._stacks||{})[a.axis],w={horizontal:c,base:x.base,enableBorderRadius:!y||zv(_._custom)||o===y._top||o===y._bottom,x:c?x.head:N.center,y:c?N.center:x.head,height:c?N.size:Math.abs(x.size),width:c?Math.abs(x.size):N.size};g&&(w.options=d||this.resolveDataElementOptions(p,e[p].active?"active":i));const A=w.options||e[p].options;dB(w,A,y,o),pB(w,A,u.ratio),this.updateElement(e[p],p,w,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const d=u._parsed.find(p=>p[r.axis]===l),g=d&&d[u.vScale.axis];if(rn(g)||isNaN(g))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||oB(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=zv(c);let d=l[n.axis],g=0,p=r?this.applyStack(n,l,r):d,_,x;p!==d&&(g=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&Cl(d)!==Cl(c.barEnd)&&(g=0),g+=d);const N=!rn(s)&&!u?s:g;let y=n.getPixelForValue(N);if(this.chart.getDataVisibility(e)?_=n.getPixelForValue(g+p):_=y,x=_-y,Math.abs(x)<o){x=uB(x,n,a)*o,d===a&&(y-=x/2);const w=n.getPixelForDecimal(0),A=n.getPixelForDecimal(1),D=Math.min(w,A),F=Math.max(w,A);y=Math.max(Math.min(y,F),D),_=y+x,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(_)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const w=Cl(x)*n.getLineWidthForValue(a)/2;y+=w,x-=w}return{size:x,base:y,head:_,center:_+x/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=Kt(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?lB(e,n,i,c):aB(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}Mt(_m,"id","bar"),Mt(_m,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Mt(_m,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function wc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class m_{constructor(e){Mt(this,"options");this.options=e||{}}static override(e){Object.assign(m_.prototype,e)}init(){}formats(){return wc()}parse(){return wc()}format(){return wc()}add(){return wc()}diff(){return wc()}startOf(){return wc()}endOf(){return wc()}}var gB={_date:m_};function mB(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?sV:M2;if(r){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const g=c(s,e,n-d),p=c(s,e,n+d);return{lo:g.lo,hi:p.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:g}=t,p=g.slice(0,u.lo+1).reverse().findIndex(x=>!rn(x[d.axis]));u.lo-=Math.max(0,p);const _=g.slice(u.hi).findIndex(x=>!rn(x[d.axis]));u.hi+=Math.max(0,_)}return u}}return{lo:0,hi:s.length-1}}function Pp(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:g}=mB(s[a],e,o,i);for(let p=d;p<=g;++p){const _=u[p];_.skip||r(_,c,p)}}}function vB(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Uv(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Pp(t,n,e,function(a,l,c){!i&&!LT(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function yB(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=tV(o,{x:e.x,y:e.y});rV(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Pp(t,n,e,s),i}function wB(t,e,n,r,i,s){let o=[];const a=vB(n);let l=Number.POSITIVE_INFINITY;function c(u,d,g){const p=u.inRange(e.x,e.y,i);if(r&&!p)return;const _=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(_))&&!p)return;const N=a(e,_);N<l?(o=[{element:u,datasetIndex:d,index:g}],l=N):N===l&&o.push({element:u,datasetIndex:d,index:g})}return Pp(t,n,e,c),o}function $v(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?yB(t,e,n,i):wB(t,e,n,r,i,s)}function g4(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Pp(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var _B={evaluateInteractionItems:Pp,modes:{index(t,e,n,r){const i=Sc(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Uv(t,i,s,r,o):$v(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Sc(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Uv(t,i,s,r,o):$v(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Sc(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Uv(t,i,s,r,o)},nearest(t,e,n,r){const i=Sc(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return $v(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Sc(e,t);return g4(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Sc(e,t);return g4(t,i,"y",n.intersect,r)}}};const qT=["left","top","right","bottom"];function Id(t,e){return t.filter(n=>n.pos===e)}function m4(t,e){return t.filter(n=>qT.indexOf(n.pos)===-1&&n.box.axis===e)}function Cd(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function bB(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function xB(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!qT.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function SB(t,e){const n=xB(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function AB(t){const e=bB(t),n=Cd(e.filter(c=>c.box.fullSize),!0),r=Cd(Id(e,"left"),!0),i=Cd(Id(e,"right")),s=Cd(Id(e,"top"),!0),o=Cd(Id(e,"bottom")),a=m4(e,"x"),l=m4(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Id(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function v4(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function HT(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function EB(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Vt(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&HT(o,s.getPadding());const a=Math.max(0,e.outerWidth-v4(o,t,"left","right")),l=Math.max(0,e.outerHeight-v4(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function NB(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function kB(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Qd(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,kB(a.horizontal,e));const{same:d,other:g}=EB(e,n,a,r);c|=d&&i.length,u=u||g,l.fullSize||i.push(a)}return c&&Qd(i,e,n,r)||u}function Mg(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function y4(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,g=c.size||l.height;rp(c.start)&&(o=c.start),l.fullSize?Mg(l,i.left,o,n.outerWidth-i.right-i.left,g):Mg(l,e.left+c.placed,o,d,g),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,g=c.size||l.width;rp(c.start)&&(s=c.start),l.fullSize?Mg(l,s,i.top,g,n.outerHeight-i.bottom-i.top):Mg(l,s,e.top+c.placed,g,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var es={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=os(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=AB(t.boxes),l=a.vertical,c=a.horizontal;Gt(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const u=l.reduce((x,N)=>N.box.options&&N.box.options.display===!1?x:x+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),g=Object.assign({},i);HT(g,os(r));const p=Object.assign({maxPadding:g,w:s,h:o,x:i.left,y:i.top},i),_=SB(l.concat(c),d);Qd(a.fullSize,p,d,_),Qd(l,p,d,_),Qd(c,p,d,_)&&Qd(l,p,d,_),NB(p),y4(a.leftAndTop,p,d,_),p.x+=p.w,p.y+=p.h,y4(a.rightAndBottom,p,d,_),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Gt(a.chartArea,x=>{const N=x.box;Object.assign(N,t.chartArea),N.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class WT{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class TB extends WT{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const bm="$chartjs",PB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},w4=t=>t===null||t==="";function IB(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[bm]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",w4(i)){const s=s4(t,"width");s!==void 0&&(t.width=s)}if(w4(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=s4(t,"height");s!==void 0&&(t.height=s)}return t}const GT=UV?{passive:!0}:!1;function CB(t,e,n){t&&t.addEventListener(e,n,GT)}function LB(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,GT)}function RB(t,e){const n=PB[t.type]||t.type,{x:r,y:i}=Sc(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function x0(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function jB(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||x0(a.addedNodes,r),o=o&&!x0(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function DB(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||x0(a.removedNodes,r),o=o&&!x0(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const sp=new Map;let _4=0;function KT(){const t=window.devicePixelRatio;t!==_4&&(_4=t,sp.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function MB(t,e){sp.size||window.addEventListener("resize",KT),sp.set(t,e)}function OB(t){sp.delete(t),sp.size||window.removeEventListener("resize",KT)}function FB(t,e,n){const r=t.canvas,i=r&&g_(r);if(!i)return;const s=NT((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),MB(t,s),o}function qv(t,e,n){n&&n.disconnect(),e==="resize"&&OB(t)}function VB(t,e,n){const r=t.canvas,i=NT(s=>{t.ctx!==null&&n(RB(s,t))},t);return CB(r,e,i),i}class BB extends WT{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(IB(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[bm])return!1;const r=n[bm].initial;["height","width"].forEach(s=>{const o=r[s];rn(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[bm],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:jB,detach:DB,resize:FB}[n]||VB;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:qv,detach:qv,resize:qv}[n]||LB)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return zV(e,n,r,i)}isAttached(e){const n=e&&g_(e);return!!(n&&n.isConnected)}}function zB(t){return!p_()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?TB:BB}class Vl{constructor(){Mt(this,"x");Mt(this,"y");Mt(this,"active",!1);Mt(this,"options");Mt(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return w0(this.x)&&w0(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}Mt(Vl,"defaults",{}),Mt(Vl,"defaultRoutes");function UB(t,e){const n=t.options.ticks,r=$B(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?HB(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return WB(e,c,s,o/i),c;const u=qB(s,e,i);if(o>0){let d,g;const p=o>1?Math.round((l-a)/(o-1)):null;for(Og(e,c,u,rn(p)?0:a-p,a),d=0,g=o-1;d<g;d++)Og(e,c,u,s[d],s[d+1]);return Og(e,c,u,l,rn(p)?e.length:l+p),c}return Og(e,c,u),c}function $B(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function qB(t,e,n){const r=GB(t),i=e.length/n;if(!r)return Math.max(i,1);const s=Q9(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function HB(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function WB(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function Og(t,e,n,r,i){const s=Kt(r,0),o=Math.min(Kt(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function GB(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const KB=t=>t==="left"?"right":t==="right"?"left":t,b4=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,x4=(t,e)=>Math.min(e||t,t);function S4(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function YB(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function QB(t,e){Gt(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Ld(t){return t.drawTicks?t.tickLength:0}function A4(t,e){if(!t.display)return 0;const n=Or(t.font,e),r=os(t.padding);return(tr(t.text)?t.text.length:1)*n.lineHeight+r.height}function XB(t,e){return Xh(t,{scale:e,type:"scale"})}function JB(t,e,n){return Xh(t,{tick:n,index:e,type:"tick"})}function ZB(t,e,n){let r=l_(t);return(n&&e!=="right"||!n&&e==="right")&&(r=KB(r)),r}function ez(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,g,p,_;const x=o-i,N=a-s;if(t.isHorizontal()){if(p=Lr(r,s,a),Vt(n)){const y=Object.keys(n)[0],w=n[y];_=u[y].getPixelForValue(w)+x-e}else n==="center"?_=(c.bottom+c.top)/2+x-e:_=b4(t,n,e);g=a-s}else{if(Vt(n)){const y=Object.keys(n)[0],w=n[y];p=u[y].getPixelForValue(w)-N+e}else n==="center"?p=(c.left+c.right)/2-N+e:p=b4(t,n,e);_=Lr(r,o,i),d=n==="left"?-Ts:Ts}return{titleX:p,titleY:_,maxWidth:g,rotation:d}}class Jh extends Vl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Zs(e,Number.POSITIVE_INFINITY),n=Zs(n,Number.NEGATIVE_INFINITY),r=Zs(r,Number.POSITIVE_INFINITY),i=Zs(i,Number.NEGATIVE_INFINITY),{min:Zs(e,r),max:Zs(n,i),minDefined:ss(e),maxDefined:ss(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Zs(n,Zs(r,n)),max:Zs(r,Zs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gn(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=NV(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?S4(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=UB(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gn(this.options.afterUpdate,[this])}beforeSetDimensions(){gn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),gn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=gn(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){gn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=x4(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,g=u.highest.height,p=Ps(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),d+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-Ld(e.grid)-n.padding-A4(e.title,this.chart.options.font),c=Math.sqrt(d*d+g*g),o=eV(Math.min(Math.asin(Ps((u.highest.height+6)/a,-1,1)),Math.asin(Ps(l/c,-1,1))-Math.asin(Ps(g/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){gn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=A4(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Ld(s)+l):(e.height=this.maxHeight,e.width=Ld(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:g}=this._getLabelSizes(),p=r.padding*2,_=Cc(this.labelRotation),x=Math.cos(_),N=Math.sin(_);if(a){const y=r.mirror?0:N*d.width+x*g.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{const y=r.mirror?0:x*d.width+N*g.height;e.width=Math.min(this.maxWidth,e.width+y+p)}this._calculatePadding(c,u,N,x)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,p=0;l?c?(g=i*e.width,p=r*n.height):(g=r*e.height,p=i*n.width):s==="start"?p=n.width:s==="end"?g=e.width:s!=="inner"&&(g=e.width/2,p=n.width/2),this.paddingLeft=Math.max((g-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)rn(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=S4(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/x4(n,r));let c=0,u=0,d,g,p,_,x,N,y,w,A,D,F;for(d=0;d<n;d+=l){if(_=e[d].label,x=this._resolveTickFontOptions(d),i.font=N=x.string,y=s[N]=s[N]||{data:{},gc:[]},w=x.lineHeight,A=D=0,!rn(_)&&!tr(_))A=ZS(i,y.data,y.gc,A,_),D=w;else if(tr(_))for(g=0,p=_.length;g<p;++g)F=_[g],!rn(F)&&!tr(F)&&(A=ZS(i,y.data,y.gc,A,F),D+=w);o.push(A),a.push(D),c=Math.max(A,c),u=Math.max(D,u)}QB(s,n);const U=o.indexOf(c),I=a.indexOf(u),S=C=>({width:o[C]||0,height:a[C]||0});return{first:S(0),last:S(n-1),widest:S(U),highest:S(I),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return iV(this._alignToPixels?yc(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=JB(this.getContext(),e,r))}return this.$context||(this.$context=XB(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Cc(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),g=Ld(s),p=[],_=a.setContext(this.getContext()),x=_.display?_.width:0,N=x/2,y=function(X){return yc(r,X,x)};let w,A,D,F,U,I,S,C,L,k,P,j;if(o==="top")w=y(this.bottom),I=this.bottom-g,C=w-N,k=y(e.top)+N,j=e.bottom;else if(o==="bottom")w=y(this.top),k=e.top,j=y(e.bottom)-N,I=w+N,C=this.top+g;else if(o==="left")w=y(this.right),U=this.right-g,S=w-N,L=y(e.left)+N,P=e.right;else if(o==="right")w=y(this.left),L=e.left,P=y(e.right)-N,U=w+N,S=this.left+g;else if(n==="x"){if(o==="center")w=y((e.top+e.bottom)/2+.5);else if(Vt(o)){const X=Object.keys(o)[0],Z=o[X];w=y(this.chart.scales[X].getPixelForValue(Z))}k=e.top,j=e.bottom,I=w+N,C=I+g}else if(n==="y"){if(o==="center")w=y((e.left+e.right)/2);else if(Vt(o)){const X=Object.keys(o)[0],Z=o[X];w=y(this.chart.scales[X].getPixelForValue(Z))}U=w-N,S=U-g,L=e.left,P=e.right}const Q=Kt(i.ticks.maxTicksLimit,d),ae=Math.max(1,Math.ceil(d/Q));for(A=0;A<d;A+=ae){const X=this.getContext(A),Z=s.setContext(X),Y=a.setContext(X),ee=Z.lineWidth,se=Z.color,me=Y.dash||[],O=Y.dashOffset,z=Z.tickWidth,q=Z.tickColor,J=Z.tickBorderDash||[],re=Z.tickBorderDashOffset;D=YB(this,A,l),D!==void 0&&(F=yc(r,D,ee),c?U=S=L=P=F:I=C=k=j=F,p.push({tx1:U,ty1:I,tx2:S,ty2:C,x1:L,y1:k,x2:P,y2:j,width:ee,color:se,borderDash:me,borderDashOffset:O,tickWidth:z,tickColor:q,tickBorderDash:J,tickBorderDashOffset:re}))}return this._ticksLength=d,this._borderValue=w,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,g=Ld(r.grid),p=g+u,_=d?-u:p,x=-Cc(this.labelRotation),N=[];let y,w,A,D,F,U,I,S,C,L,k,P,j="middle";if(i==="top")U=this.bottom-_,I=this._getXAxisLabelAlignment();else if(i==="bottom")U=this.top+_,I=this._getXAxisLabelAlignment();else if(i==="left"){const ae=this._getYAxisLabelAlignment(g);I=ae.textAlign,F=ae.x}else if(i==="right"){const ae=this._getYAxisLabelAlignment(g);I=ae.textAlign,F=ae.x}else if(n==="x"){if(i==="center")U=(e.top+e.bottom)/2+p;else if(Vt(i)){const ae=Object.keys(i)[0],X=i[ae];U=this.chart.scales[ae].getPixelForValue(X)+p}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")F=(e.left+e.right)/2-p;else if(Vt(i)){const ae=Object.keys(i)[0],X=i[ae];F=this.chart.scales[ae].getPixelForValue(X)}I=this._getYAxisLabelAlignment(g).textAlign}n==="y"&&(l==="start"?j="top":l==="end"&&(j="bottom"));const Q=this._getLabelSizes();for(y=0,w=a.length;y<w;++y){A=a[y],D=A.label;const ae=s.setContext(this.getContext(y));S=this.getPixelForTick(y)+s.labelOffset,C=this._resolveTickFontOptions(y),L=C.lineHeight,k=tr(D)?D.length:1;const X=k/2,Z=ae.color,Y=ae.textStrokeColor,ee=ae.textStrokeWidth;let se=I;o?(F=S,I==="inner"&&(y===w-1?se=this.options.reverse?"left":"right":y===0?se=this.options.reverse?"right":"left":se="center"),i==="top"?c==="near"||x!==0?P=-k*L+L/2:c==="center"?P=-Q.highest.height/2-X*L+L:P=-Q.highest.height+L/2:c==="near"||x!==0?P=L/2:c==="center"?P=Q.highest.height/2-X*L:P=Q.highest.height-k*L,d&&(P*=-1),x!==0&&!ae.showLabelBackdrop&&(F+=L/2*Math.sin(x))):(U=S,P=(1-k)*L/2);let me;if(ae.showLabelBackdrop){const O=os(ae.backdropPadding),z=Q.heights[y],q=Q.widths[y];let J=P-O.top,re=0-O.left;switch(j){case"middle":J-=z/2;break;case"bottom":J-=z;break}switch(I){case"center":re-=q/2;break;case"right":re-=q;break;case"inner":y===w-1?re-=q:y>0&&(re-=q/2);break}me={left:re,top:J,width:q+O.width,height:z+O.height,color:ae.backdropColor}}N.push({label:D,font:C,textOffset:P,options:{rotation:x,color:Z,strokeColor:Y,strokeWidth:ee,textAlign:se,textBaseline:j,translation:[F,U],backdrop:me}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Cc(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,g;this.isHorizontal()?(c=yc(e,this.left,o)-o/2,u=yc(e,this.right,a)+a/2,d=g=l):(d=yc(e,this.top,o)-o/2,g=yc(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,g),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&c_(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;ip(r,c,0,u,l,a)}i&&u_(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Or(r.font),o=os(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Vt(n)?(l+=o.bottom,tr(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:g}=ez(this,l,n,a);ip(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:g,textAlign:ZB(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Kt(e.grid&&e.grid.z,-1),i=Kt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Jh.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Or(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Fg{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;rz(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,tz(e,o,r),this.override&&zn.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in zn[i]&&(delete zn[i][r],this.override&&delete eu[r])}}function tz(t,e,n){const r=np(Object.create(null),[n?zn.get(n):{},zn.get(e),t.defaults]);zn.set(e,r),t.defaultRoutes&&nz(e,t.defaultRoutes),t.descriptors&&zn.describe(e,t.descriptors)}function nz(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");zn.route(s,i,l,a)})}function rz(t){return"id"in t&&"defaults"in t}class iz{constructor(){this.controllers=new Fg(yf,"datasets",!0),this.elements=new Fg(Vl,"elements"),this.plugins=new Fg(Object,"plugins"),this.scales=new Fg(Jh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Gt(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=o_(e);gn(r["before"+i],[],r),n[e](r),gn(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var ro=new iz;class sz{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(gn(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){rn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Kt(r.options&&r.options.plugins,{}),s=oz(r);return i===!1&&!n?[]:lz(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function oz(t){const e={},n=[],r=Object.keys(ro.plugins.items);for(let s=0;s<r.length;s++)n.push(ro.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function az(t,e){return!e&&t===!1?null:t===!0?{}:t}function lz(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=az(r[l],i);c!==null&&s.push({plugin:a,options:cz(t.config,{plugin:a,local:n[l]},c,o)})}return s}function cz(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function F2(t,e){const n=zn.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function uz(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function hz(t,e){return t===e?"_index_":"_value_"}function E4(t){if(t==="x"||t==="y"||t==="r")return t}function dz(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function V2(t,...e){if(E4(t))return t;for(const n of e){const r=n.axis||dz(n.position)||t.length>1&&E4(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function N4(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function fz(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return N4(t,"x",n[0])||N4(t,"y",n[0])}return{}}function pz(t,e){const n=eu[t.type]||{scales:{}},r=e.scales||{},i=F2(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Vt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=V2(o,a,fz(o,t),zn.scales[a.type]),c=hz(l,i),u=n.scales||{};s[o]=gf(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||F2(a,e),u=(eu[a]||{}).scales||{};Object.keys(u).forEach(d=>{const g=uz(d,l),p=o[g+"AxisID"]||g;s[p]=s[p]||Object.create(null),gf(s[p],[{axis:g},r[p],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];gf(a,[zn.scales[a.type],zn.scale])}),s}function YT(t){const e=t.options||(t.options={});e.plugins=Kt(e.plugins,{}),e.scales=pz(t,e)}function QT(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function gz(t){return t=t||{},t.data=QT(t.data),YT(t),t}const k4=new Map,XT=new Set;function Vg(t,e){let n=k4.get(t);return n||(n=e(),k4.set(t,n),XT.add(n)),n}const Rd=(t,e,n)=>{const r=Oh(e,n);r!==void 0&&t.add(r)};class mz{constructor(e){this._config=gz(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=QT(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),YT(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Vg(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Vg(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Vg(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Rd(l,e,d))),u.forEach(d=>Rd(l,i,d)),u.forEach(d=>Rd(l,eu[s]||{},d)),u.forEach(d=>Rd(l,zn,d)),u.forEach(d=>Rd(l,O2,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),XT.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,eu[n]||{},zn.datasets[n]||{},{type:n},zn,O2]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=T4(this._resolverCache,e,i);let l=o;if(yz(o,n)){s.$shared=!1,r=Fl(r)?r():r;const c=this.createResolver(e,r,a);l=Fh(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=T4(this._resolverCache,e,r);return Vt(n)?Fh(s,n,void 0,i):s}}function T4(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:h_(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const vz=t=>Vt(t)&&Object.getOwnPropertyNames(t).some(e=>Fl(t[e]));function yz(t,e){const{isScriptable:n,isIndexable:r}=DT(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Fl(a)||vz(a))||o&&tr(a))return!0}return!1}var wz="4.4.8";const _z=["top","bottom","left","right","chartArea"];function P4(t,e){return t==="top"||t==="bottom"||_z.indexOf(t)===-1&&e==="x"}function I4(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function C4(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),gn(n&&n.onComplete,[t],e)}function bz(t){const e=t.chart,n=e.options.animation;gn(n&&n.onProgress,[t],e)}function JT(t){return p_()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const xm={},L4=t=>{const e=JT(t);return Object.values(xm).filter(n=>n.canvas===e).pop()};function xz(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Sz(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Bg(t,e,n){return t.options.clip?t[n]:e[n]}function Az(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Bg(n,e,"left"),right:Bg(n,e,"right"),top:Bg(r,e,"top"),bottom:Bg(r,e,"bottom")}:e}var Ya;let b1=(Ya=class{static register(...e){ro.add(...e),R4()}static unregister(...e){ro.remove(...e),R4()}constructor(e,n){const r=this.config=new mz(n),i=JT(e),s=L4(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||zB(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=U9(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sz,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lV(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],xm[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Bo.listen(this,"complete",C4),Bo.listen(this,"progress",bz),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return rn(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ro}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():i4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return e4(this.canvas,this.ctx),this}stop(){return Bo.stop(this),this}resize(e,n){Bo.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,i4(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),gn(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Gt(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=V2(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Gt(s,o=>{const a=o.options,l=a.id,c=V2(l,a),u=Kt(a.type,o.dtype);(a.position===void 0||P4(a.position,c)!==P4(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const g=ro.getScale(u);d=new g({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),Gt(i,(o,a)=>{o||delete r[a]}),Gt(r,o=>{es.configure(this,o,o.options),es.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(I4("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||F2(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=ro.getController(a),{datasetElementType:c,dataElementType:u}=zn.datasets[a];Object.assign(l,{dataElementType:ro.getElement(u),datasetElementType:c&&ro.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Gt(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),g=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(g),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Gt(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(I4("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Gt(this.scales,e=>{es.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!qS(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;xz(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!qS(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;es.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Gt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Fl(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Bo.has(this)?this.attached&&!Bo.running(this)&&Bo.start(this):(this.draw(),C4({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=Az(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&c_(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&u_(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return LT(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=_B.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Xh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);rp(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Bo.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),e4(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete xm[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Gt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Gt(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Gt(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!m0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=K9(e),c=Sz(e,this._lastEvent,r,l);r&&(this._lastEvent=null,gn(s.onHover,[e,a,this],this),l&&gn(s.onClick,[e,a,this],this));const u=!m0(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},Mt(Ya,"defaults",zn),Mt(Ya,"instances",xm),Mt(Ya,"overrides",eu),Mt(Ya,"registry",ro),Mt(Ya,"version",wz),Mt(Ya,"getChart",L4),Ya);function R4(){return Gt(b1.instances,t=>t._plugins.invalidate())}function ZT(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=s/2,a=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function fl(t,e,n,r){return t?0:Ps(e,n,r)}function Ez(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=jT(r);return{t:fl(i.top,s.top,0,n),r:fl(i.right,s.right,0,e),b:fl(i.bottom,s.bottom,0,n),l:fl(i.left,s.left,0,e)}}function Nz(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=gh(i),o=Math.min(e,n),a=t.borderSkipped,l=r||Vt(i);return{topLeft:fl(!l||a.top||a.left,s.topLeft,0,o),topRight:fl(!l||a.top||a.right,s.topRight,0,o),bottomLeft:fl(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:fl(!l||a.bottom||a.right,s.bottomRight,0,o)}}function kz(t){const e=ZT(t),n=e.right-e.left,r=e.bottom-e.top,i=Ez(t,n/2,r/2),s=Nz(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Hv(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&ZT(t,r);return a&&(i||rh(e,a.left,a.right))&&(s||rh(n,a.top,a.bottom))}function Tz(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Pz(t,e){t.rect(e.x,e.y,e.w,e.h)}function Wv(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class Sm extends Vl{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=kz(this),a=Tz(o.radius)?_0:Pz;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Wv(o,n,s)),e.clip(),a(e,Wv(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,Wv(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return Hv(this,e,n,r)}inXRange(e,n){return Hv(this,e,null,n)}inYRange(e,n){return Hv(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Mt(Sm,"id","bar"),Mt(Sm,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Mt(Sm,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const j4=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Iz=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class D4 extends Vl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=gn(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Or(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=j4(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let g=-1,p=-u;return this.legendItems.forEach((_,x)=>{const N=r+n/2+s.measureText(_.text).width;(x===0||c[c.length-1]+N+2*a>o)&&(d+=u,c[c.length-(x>0?0:1)]=0,p+=u,g++),l[x]={left:0,top:p,row:g,width:N,height:i},c[c.length-1]+=N+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,g=0,p=0,_=0,x=0;return this.legendItems.forEach((N,y)=>{const{itemWidth:w,itemHeight:A}=Cz(r,n,s,N,i);y>0&&p+A+2*a>u&&(d+=g+a,c.push({width:g,height:p}),_+=g+a,x++,g=p=0),l[y]={left:_,top:p,col:x,width:w,height:A},g=Math.max(g,w),p+=A+a}),d+=g,c.push({width:g,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=mh(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Lr(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Lr(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Lr(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Lr(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;c_(e,this),this._draw(),u_(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=zn.color,l=mh(e.rtl,this.left,this.width),c=Or(o.font),{padding:u}=o,d=c.size,g=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:_,boxHeight:x,itemHeight:N}=j4(o,d),y=function(U,I,S){if(isNaN(_)||_<=0||isNaN(x)||x<0)return;i.save();const C=Kt(S.lineWidth,1);if(i.fillStyle=Kt(S.fillStyle,a),i.lineCap=Kt(S.lineCap,"butt"),i.lineDashOffset=Kt(S.lineDashOffset,0),i.lineJoin=Kt(S.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=Kt(S.strokeStyle,a),i.setLineDash(Kt(S.lineDash,[])),o.usePointStyle){const L={radius:x*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:C},k=l.xPlus(U,_/2),P=I+g;CT(i,L,k,P,o.pointStyleWidth&&_)}else{const L=I+Math.max((d-x)/2,0),k=l.leftForLtr(U,_),P=gh(S.borderRadius);i.beginPath(),Object.values(P).some(j=>j!==0)?_0(i,{x:k,y:L,w:_,h:x,radius:P}):i.rect(k,L,_,x),i.fill(),C!==0&&i.stroke()}i.restore()},w=function(U,I,S){ip(i,S.text,U,I+N/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},A=this.isHorizontal(),D=this._computeTitleHeight();A?p={x:Lr(s,this.left+u,this.right-r[0]),y:this.top+u+D,line:0}:p={x:this.left+u,y:Lr(s,this.top+D+u,this.bottom-n[0].height),line:0},VT(this.ctx,e.textDirection);const F=N+u;this.legendItems.forEach((U,I)=>{i.strokeStyle=U.fontColor,i.fillStyle=U.fontColor;const S=i.measureText(U.text).width,C=l.textAlign(U.textAlign||(U.textAlign=o.textAlign)),L=_+g+S;let k=p.x,P=p.y;l.setWidth(this.width),A?I>0&&k+L+u>this.right&&(P=p.y+=F,p.line++,k=p.x=Lr(s,this.left+u,this.right-r[p.line])):I>0&&P+F>this.bottom&&(k=p.x=k+n[p.line].width+u,p.line++,P=p.y=Lr(s,this.top+D+u,this.bottom-n[p.line].height));const j=l.x(k);if(y(j,P,U),k=cV(C,k+_+g,A?k+L:this.right,e.rtl),w(l.x(k),P,U),A)p.x+=L+u;else if(typeof U.text!="string"){const Q=c.lineHeight;p.y+=eP(U,Q)+u}else p.y+=F}),BT(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Or(n.font),i=os(n.padding);if(!n.display)return;const s=mh(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),u=this.top+c,d=Lr(e.align,d,this.right-g);else{const _=this.columnSizes.reduce((x,N)=>Math.max(x,N.height),0);u=c+Lr(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const p=Lr(a,d,d+g);o.textAlign=s.textAlign(l_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,ip(o,n.text,p,u,r)}_computeTitleHeight(){const e=this.options.title,n=Or(e.font),r=os(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(rh(e,this.left,this.right)&&rh(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],rh(e,i.left,i.left+i.width)&&rh(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!jz(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Iz(i,r);i&&!s&&gn(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&gn(n.onHover,[e,r,this],this)}else r&&gn(n.onClick,[e,r,this],this)}}function Cz(t,e,n,r,i){const s=Lz(r,t,e,n),o=Rz(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Lz(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function Rz(t,e,n){let r=t;return typeof e.text!="string"&&(r=eP(e,n)),r}function eP(t,e){const n=t.text?t.text.length:0;return e*n}function jz(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Dz={id:"legend",_element:D4,start(t,e,n){const r=t.legend=new D4({ctx:t.ctx,options:n,chart:t});es.configure(t,r,n),es.addBox(t,r)},stop(t){es.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;es.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=os(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class tP extends Vl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=tr(r.text)?r.text.length:1;this._padding=os(r.padding);const s=i*Or(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Lr(a,r,s),d=n+e,c=s-r):(o.position==="left"?(u=r+e,d=Lr(a,i,n),l=Br*-.5):(u=s-e,d=Lr(a,n,i),l=Br*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Or(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);ip(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:l_(n.align),textBaseline:"middle",translation:[o,a]})}}function Mz(t,e){const n=new tP({ctx:t.ctx,options:e,chart:t});es.configure(t,n,e),es.addBox(t,n),t.titleBlock=n}var Oz={id:"title",_element:tP,start(t,e,n){Mz(t,n)},stop(t){const e=t.titleBlock;es.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;es.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xd={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=nV(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function eo(t,e){return e&&(tr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zo(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Fz(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function M4(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Or(e.bodyFont),c=Or(e.titleFont),u=Or(e.footerFont),d=s.length,g=i.length,p=r.length,_=os(e.padding);let x=_.height,N=0,y=r.reduce((D,F)=>D+F.before.length+F.lines.length+F.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(x+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const D=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;x+=p*D+(y-p)*l.lineHeight+(y-1)*e.bodySpacing}g&&(x+=e.footerMarginTop+g*u.lineHeight+(g-1)*e.footerSpacing);let w=0;const A=function(D){N=Math.max(N,n.measureText(D).width+w)};return n.save(),n.font=c.string,Gt(t.title,A),n.font=l.string,Gt(t.beforeBody.concat(t.afterBody),A),w=e.displayColors?o+2+e.boxPadding:0,Gt(r,D=>{Gt(D.before,A),Gt(D.lines,A),Gt(D.after,A)}),w=0,n.font=u.string,Gt(t.footer,A),n.restore(),N+=_.width,{width:N,height:x}}function Vz(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Bz(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function zz(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),Bz(c,t,e,n)&&(c="center"),c}function O4(t,e,n){const r=n.yAlign||e.yAlign||Vz(t,n);return{xAlign:n.xAlign||e.xAlign||zz(t,e,n,r),yAlign:r}}function Uz(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function $z(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function F4(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:g,bottomRight:p}=gh(o);let _=Uz(e,a);const x=$z(e,l,c);return l==="center"?a==="left"?_+=c:a==="right"&&(_-=c):a==="left"?_-=Math.max(u,g)+i:a==="right"&&(_+=Math.max(d,p)+i),{x:Ps(_,0,r.width-e.width),y:Ps(x,0,r.height-e.height)}}function zg(t,e,n){const r=os(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function V4(t){return eo([],zo(t))}function qz(t,e,n){return Xh(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function B4(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const nP={beforeTitle:Oo,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Oo,beforeBody:Oo,beforeLabel:Oo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return rn(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Oo,afterBody:Oo,beforeFooter:Oo,footer:Oo,afterFooter:Oo};function ci(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?nP[e].call(n,r):i}class B2 extends Vl{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new zT(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=qz(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=ci(r,"beforeTitle",this,e),s=ci(r,"title",this,e),o=ci(r,"afterTitle",this,e);let a=[];return a=eo(a,zo(i)),a=eo(a,zo(s)),a=eo(a,zo(o)),a}getBeforeBody(e,n){return V4(ci(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Gt(e,s=>{const o={before:[],lines:[],after:[]},a=B4(r,s);eo(o.before,zo(ci(a,"beforeLabel",this,s))),eo(o.lines,ci(a,"label",this,s)),eo(o.after,zo(ci(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return V4(ci(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=ci(r,"beforeFooter",this,e),s=ci(r,"footer",this,e),o=ci(r,"afterFooter",this,e);let a=[];return a=eo(a,zo(i)),a=eo(a,zo(s)),a=eo(a,zo(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Fz(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,g)=>e.filter(u,d,g,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),Gt(a,u=>{const d=B4(e.callbacks,u);i.push(ci(d,"labelColor",this,u)),s.push(ci(d,"labelPointStyle",this,u)),o.push(ci(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Xd[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=M4(this,r),c=Object.assign({},a,l),u=O4(this.chart,r,c),d=F4(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=gh(a),{x:g,y:p}=e,{width:_,height:x}=n;let N,y,w,A,D,F;return s==="center"?(D=p+x/2,i==="left"?(N=g,y=N-o,A=D+o,F=D-o):(N=g+_,y=N+o,A=D-o,F=D+o),w=N):(i==="left"?y=g+Math.max(l,u)+o:i==="right"?y=g+_-Math.max(c,d)-o:y=this.caretX,s==="top"?(A=p,D=A-o,N=y-o,w=y+o):(A=p+x,D=A+o,N=y+o,w=y-o),F=A),{x1:N,x2:y,x3:w,y1:A,y2:D,y3:F}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=mh(r.rtl,this.x,this.width);for(e.x=zg(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Or(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Or(s.bodyFont),d=zg(this,"left",s),g=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,_=n.y+p;if(s.usePointStyle){const x={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},N=i.leftForLtr(g,c)+c/2,y=_+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,t4(e,x,N,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,t4(e,x,N,y)}else{e.lineWidth=Vt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=i.leftForLtr(g,c),N=i.leftForLtr(i.xPlus(g,1),c-2),y=gh(o.borderRadius);Object.values(y).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,_0(e,{x,y:_,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),_0(e,{x:N,y:_+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(x,_,c,l),e.strokeRect(x,_,c,l),e.fillStyle=o.backgroundColor,e.fillRect(N,_+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Or(r.bodyFont);let g=d.lineHeight,p=0;const _=mh(r.rtl,this.x,this.width),x=function(S){n.fillText(S,_.x(e.x+p),e.y+g/2),e.y+=g+s},N=_.textAlign(o);let y,w,A,D,F,U,I;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=zg(this,N,r),n.fillStyle=r.bodyColor,Gt(this.beforeBody,x),p=a&&N!=="right"?o==="center"?c/2+u:c+2+u:0,D=0,U=i.length;D<U;++D){for(y=i[D],w=this.labelTextColors[D],n.fillStyle=w,Gt(y.before,x),A=y.lines,a&&A.length&&(this._drawColorBox(n,e,D,_,r),g=Math.max(d.lineHeight,l)),F=0,I=A.length;F<I;++F)x(A[F]),g=d.lineHeight;Gt(y.after,x)}p=0,g=d.lineHeight,Gt(this.afterBody,x),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=mh(r.rtl,this.x,this.width);for(e.x=zg(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Or(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:g,bottomLeft:p,bottomRight:_}=gh(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-g,l),n.quadraticCurveTo(a+c,l,a+c,l+g),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-_),n.quadraticCurveTo(a+c,l+u,a+c-_,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Xd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=M4(this,e),l=Object.assign({},o,this._size),c=O4(n,e,l),u=F4(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=os(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),VT(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),BT(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!m0(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!m0(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Xd[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}Mt(B2,"positioners",Xd);var Hz={id:"tooltip",_element:B2,positioners:Xd,afterInit(t,e,n){n&&(t.tooltip=new B2({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Wz=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Gz(t,e,n,r){const i=t.indexOf(e);if(i===-1)return Wz(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const Kz=(t,e)=>t===null?null:Ps(Math.round(t),0,e);function z4(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class z2 extends Jh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(rn(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:Gz(r,e,Kt(n,e),this._addedLabels),Kz(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return z4.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Mt(z2,"id","category"),Mt(z2,"defaults",{ticks:{callback:z4}});function Yz(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:g}=t,p=s||1,_=u-1,{min:x,max:N}=e,y=!rn(o),w=!rn(a),A=!rn(c),D=(N-x)/(d+1);let F=WS((N-x)/_/p)*p,U,I,S,C;if(F<1e-14&&!y&&!w)return[{value:x},{value:N}];C=Math.ceil(N/F)-Math.floor(x/F),C>_&&(F=WS(C*F/_/p)*p),rn(l)||(U=Math.pow(10,l),F=Math.ceil(F*U)/U),i==="ticks"?(I=Math.floor(x/F)*F,S=Math.ceil(N/F)*F):(I=x,S=N),y&&w&&s&&J9((a-o)/s,F/1e3)?(C=Math.round(Math.min((a-o)/F,u)),F=(a-o)/C,I=o,S=a):A?(I=y?o:I,S=w?a:S,C=c-1,F=(S-I)/C):(C=(S-I)/F,wm(C,Math.round(C),F/1e3)?C=Math.round(C):C=Math.ceil(C));const L=Math.max(GS(F),GS(I));U=Math.pow(10,rn(l)?L:l),I=Math.round(I*U)/U,S=Math.round(S*U)/U;let k=0;for(y&&(g&&I!==o?(n.push({value:o}),I<o&&k++,wm(Math.round((I+k*F)*U)/U,o,U4(o,D,t))&&k++):I<o&&k++);k<C;++k){const P=Math.round((I+k*F)*U)/U;if(w&&P>a)break;n.push({value:P})}return w&&g&&S!==a?n.length&&wm(n[n.length-1].value,a,U4(a,D,t))?n[n.length-1].value=a:n.push({value:a}):(!w||S===a)&&n.push({value:S}),n}function U4(t,e,{horizontal:n,minRotation:r}){const i=Cc(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Qz extends Jh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return rn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Cl(i),c=Cl(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Yz(i,s);return e.bounds==="ticks"&&Z9(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return TT(e,this.chart.options.locale,this.options.ticks.format)}}class U2 extends Qz{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ss(e)?e:0,this.max=ss(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Cc(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Mt(U2,"id","linear"),Mt(U2,"defaults",{ticks:{callback:IT.formatters.numeric}});const x1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},di=Object.keys(x1);function $4(t,e){return t-e}function q4(t,e){if(rn(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),ss(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(w0(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function H4(t,e,n,r){const i=di.length;for(let s=di.indexOf(t);s<i-1;++s){const o=x1[di[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return di[s]}return di[i-1]}function Xz(t,e,n,r,i){for(let s=di.length-1;s>=di.indexOf(n);s--){const o=di[s];if(x1[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return di[n?di.indexOf(n):0]}function Jz(t){for(let e=di.indexOf(t)+1,n=di.length;e<n;++e)if(x1[di[e]].common)return di[e]}function W4(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=a_(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Zz(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function G4(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Zz(t,r,i,n)}class S0 extends Jh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new gB._date(e.adapters.date);i.init(n),gf(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:q4(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=ss(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=ss(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=oV(i,s,o);return this._unit=n.unit||(r.autoSkip?H4(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Xz(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Jz(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),G4(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Ps(n,0,o),r=Ps(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||H4(s.minUnit,n,r,this._getLabelCapacity(n)),a=Kt(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=w0(l)||l===!0,u={};let d=n,g,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(g=d,p=0;g<r;g=+e.add(g,a,o),p++)W4(u,g,_);return(g===r||i.bounds==="ticks"||p===1)&&W4(u,g,_),Object.keys(u).sort($4).map(x=>+x)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return gn(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],g=r[n],p=c&&d&&g&&g.major;return this._adapter.format(e,i||(p?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Cc(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,G4(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(q4(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return AT(e.sort($4))}}Mt(S0,"id","time"),Mt(S0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ug(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=M2(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=M2(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class K4 extends S0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ug(n,this.min),this._tableRange=Ug(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Ug(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Ug(this._table,r*this._tableRange+this._minPos,!0)}}Mt(K4,"id","timeseries"),Mt(K4,"defaults",S0.defaults);const rP="label";function Y4(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function eU(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function iP(t,e){t.labels=e}function sP(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rP;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function tU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rP;const n={labels:[],datasets:[]};return iP(n,t.labels),sP(n,t.datasets,e),n}function nU(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...g}=t,p=te.useRef(null),_=te.useRef(null),x=()=>{p.current&&(_.current=new b1(p.current,{type:o,data:tU(a,s),options:l&&{...l},plugins:c}),Y4(e,_.current))},N=()=>{Y4(e,null),_.current&&(_.current.destroy(),_.current=null)};return te.useEffect(()=>{!i&&_.current&&l&&eU(_.current,l)},[i,l]),te.useEffect(()=>{!i&&_.current&&iP(_.current.config.data,a.labels)},[i,a.labels]),te.useEffect(()=>{!i&&_.current&&a.datasets&&sP(_.current.config.data,a.datasets,s)},[i,a.datasets]),te.useEffect(()=>{_.current&&(i?(N(),setTimeout(x)):_.current.update(d))},[i,l,a.labels,a.datasets,d]),te.useEffect(()=>{_.current&&(N(),setTimeout(x))},[o]),te.useEffect(()=>(x(),()=>N()),[]),At.createElement("canvas",{ref:p,role:"img",height:n,width:r,...g},u)}const rU=te.forwardRef(nU);function iU(t,e){return b1.register(e),te.forwardRef((n,r)=>At.createElement(rU,{...n,ref:r,type:t}))}const oP=iU("bar",_m),aP=te.createContext(null),mo=()=>{const t=te.useContext(aP);if(!t)throw new Error("useApp must be used within an AppProvider");return t},sU=({children:t})=>{const{user:e}=ls(),[n,r]=te.useState(!0),[i,s]=te.useState("light"),[o,a]=te.useState([]),[l,c]=te.useState([]),[u,d]=te.useState([]),[g,p]=te.useState([]),[_,x]=te.useState([]),[N,y]=te.useState([]),w=async()=>{try{r(!0);const[z,q,J,re,he]=await Promise.all([Kd.getAllInterns(),Td.getAllTasks(),kg.getAllPerformances(),Tg.getAllAttendance(),Pg.getAllChats()]);if(z.success&&a(z.data),q.success&&c(q.data),J.success&&d(J.data),re.success&&p(re.data),he.success&&y(he.data),e){const ve=await FS.getSettings(e.uid);ve.success&&ve.data.theme&&s(ve.data.theme)}}catch(z){console.error("Error loading data:",z),Ke.error("Failed to load data")}finally{r(!1)}};te.useEffect(()=>{e?w():r(!1)},[e]),te.useEffect(()=>{i==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),e&&FS.updateSettings(e.uid,{theme:i})},[i,e]);const A=async()=>{await w()},D=async z=>{try{const q=await Kd.createIntern({...z,joinDate:new Date().toISOString().split("T")[0],status:"Active",password:"intern123"});q.success?(await A(),Ke.success(`Intern added successfully! Login credentials: ${z.email} / intern123`)):Ke.error(q.error||"Failed to add intern")}catch(q){console.error("Error adding intern:",q),Ke.error("Failed to add intern")}},F=async(z,q)=>{try{const J=await Kd.updateIntern(z,q);J.success?(await A(),Ke.success("Intern updated successfully!")):Ke.error(J.error||"Failed to update intern")}catch(J){console.error("Error updating intern:",J),Ke.error("Failed to update intern")}},U=async z=>{try{const q=await Kd.deleteIntern(z);q.success?(await A(),Ke.success("Intern deleted successfully!")):Ke.error(q.error||"Failed to delete intern")}catch(q){console.error("Error deleting intern:",q),Ke.error("Failed to delete intern")}},I=async z=>{try{const q=await Td.createTask(z);q.success?(await A(),Ke.success("Task added successfully!")):Ke.error(q.error||"Failed to add task")}catch(q){console.error("Error adding task:",q),Ke.error("Failed to add task")}},S=async(z,q)=>{try{const J=await Td.updateTask(z,q);J.success?(await A(),Ke.success("Task updated successfully!")):Ke.error(J.error||"Failed to update task")}catch(J){console.error("Error updating task:",J),Ke.error("Failed to update task")}},C=async z=>{try{const q=await Td.deleteTask(z);q.success?(await A(),Ke.success("Task deleted successfully!")):Ke.error(q.error||"Failed to delete task")}catch(q){console.error("Error deleting task:",q),Ke.error("Failed to delete task")}},L=async(z,q)=>{try{const J=await Td.updateTask(z,{status:q});J.success?(await A(),Ke.success("Task status updated!")):Ke.error(J.error||"Failed to update task status")}catch(J){console.error("Error updating task status:",J),Ke.error("Failed to update task status")}},k=async z=>{try{const q=await kg.createPerformance(z);q.success?(await A(),Ke.success("Performance review added successfully!")):Ke.error(q.error||"Failed to add performance review")}catch(q){console.error("Error adding performance review:",q),Ke.error("Failed to add performance review")}},P=async(z,q)=>{try{const J=await kg.updatePerformance(z,q);J.success?(await A(),Ke.success("Performance review updated successfully!")):Ke.error(J.error||"Failed to update performance review")}catch(J){console.error("Error updating performance review:",J),Ke.error("Failed to update performance review")}},j=async z=>{try{const q=await kg.deletePerformance(z);q.success?(await A(),Ke.success("Performance review deleted successfully!")):Ke.error(q.error||"Failed to delete performance review")}catch(q){console.error("Error deleting performance review:",q),Ke.error("Failed to delete performance review")}},Q=async z=>{try{const q=await Tg.createAttendance(z);q.success?(await A(),Ke.success("Attendance marked successfully!")):Ke.error(q.error||"Failed to mark attendance")}catch(q){console.error("Error marking attendance:",q),Ke.error("Failed to mark attendance")}},ae=async(z,q)=>{try{const J=await Tg.updateAttendance(z,q);J.success?(await A(),Ke.success("Attendance updated successfully!")):Ke.error(J.error||"Failed to update attendance")}catch(J){console.error("Error updating attendance:",J),Ke.error("Failed to update attendance")}},X=async z=>{try{const q=await Tg.deleteAttendance(z);q.success?(await A(),Ke.success("Attendance deleted successfully!")):Ke.error(q.error||"Failed to delete attendance")}catch(q){console.error("Error deleting attendance:",q),Ke.error("Failed to delete attendance")}},Z=z=>g.filter(q=>q.internId===z),Y=async(z,q,J,re)=>{try{const he=await v9.sendMessage({chatId:z,sender:re,senderId:J,content:q,timestamp:new Date,isOwn:!0});he.success?(await Pg.updateChat(z,{lastMessage:q,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),await A()):Ke.error(he.error||"Failed to send message")}catch(he){console.error("Error sending message:",he),Ke.error("Failed to send message")}},ee=async(z,q)=>{try{const J={participants:q,participantIds:z,name:q.find(he=>he!==(e==null?void 0:e.name))||q[0],lastMessage:"No messages yet",time:"Now",unread:z.reduce((he,ve)=>({...he,[ve]:0}),{})},re=await Pg.createChat(J);if(re.success)return await A(),re.id;throw new Error(re.error)}catch(J){return console.error("Error creating chat:",J),Ke.error("Failed to create chat"),""}},se=async(z,q)=>{try{const J=N.find(re=>re.id===z);if(J){const re={...J.unread,[q]:0};await Pg.updateChat(z,{unread:re}),await A()}}catch(J){console.error("Error marking messages as read:",J)}},me=z=>{s(z)},O=z=>o.find(q=>q.email.toLowerCase().trim()===z.toLowerCase().trim());return v.jsx(aP.Provider,{value:{interns:o,tasks:l,performances:u,attendance:g,messages:_,chats:N,theme:i,loading:n,addIntern:D,updateIntern:F,deleteIntern:U,addTask:I,updateTask:S,deleteTask:C,updateTaskStatus:L,addPerformanceReview:k,updatePerformanceReview:P,deletePerformanceReview:j,addAttendance:Q,updateAttendance:ae,deleteAttendance:X,getInternAttendance:Z,sendMessage:Y,createChat:ee,markMessagesAsRead:se,setTheme:me,getInternByEmail:O,refreshData:A},children:t})};b1.register(z2,U2,Sm,Oz,Hz,Dz);const oU=()=>{const{interns:t,tasks:e,performances:n}=mo(),r=t.filter(g=>g.status==="Active").length,i=e.filter(g=>g.status==="In Progress").length,s=t.length-n.length,o=n.filter(g=>g.rating>=4.5).length,a=[{title:"Total Interns",value:r.toString(),icon:v.jsx(sw,{className:"h-6 w-6"}),color:"bg-blue-500"},{title:"Active Tasks",value:i.toString(),icon:v.jsx(uh,{className:"h-6 w-6"}),color:"bg-green-500"},{title:"Pending Reviews",value:s.toString(),icon:v.jsx($f,{className:"h-6 w-6"}),color:"bg-yellow-500"},{title:"Top Performers",value:o.toString(),icon:v.jsx(s2,{className:"h-6 w-6"}),color:"bg-purple-500"}],c={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Tasks Completed",data:(()=>{const g=new Date;return Array.from({length:4},(_,x)=>{const N=new Date(g);return N.setDate(g.getDate()-x*7),N}).reverse().map((_,x)=>{const N=new Date(_);return N.setDate(_.getDate()+7),e.filter(y=>{const w=new Date(y.deadline);return w>=_&&w<N&&y.status==="Completed"}).length})})(),backgroundColor:"rgba(99, 102, 241, 0.5)",borderColor:"rgb(99, 102, 241)",borderWidth:1}]},u=()=>[...t.map(p=>({text:`New intern joined - ${p.name}`,time:p.joinDate,timestamp:new Date(p.joinDate).getTime()})),...e.filter(p=>p.status==="Completed").map(p=>({text:`Task completed - ${p.title}`,time:p.deadline,timestamp:new Date(p.deadline).getTime()})),...n.map(p=>{const _=t.find(x=>x.id===p.internId);return{text:`Performance review submitted for ${_==null?void 0:_.name}`,time:p.lastReview,timestamp:new Date(p.lastReview).getTime()}})].sort((p,_)=>_.timestamp-p.timestamp).slice(0,3).map(p=>({text:p.text,time:new Date(p.time).toLocaleDateString()})),d=()=>{const g=new Date;return e.filter(p=>p.status!=="Completed"&&new Date(p.deadline)>g).sort((p,_)=>new Date(p.deadline).getTime()-new Date(_.deadline).getTime()).slice(0,3).map(p=>({task:p.title,deadline:new Date(p.deadline).toLocaleDateString()}))};return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map((g,p)=>v.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:`${g.color} p-3 rounded-full text-white mr-4`,children:g.icon}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:g.title}),v.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:g.value})]})]})},p))}),v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Task Completion Trend"}),v.jsx(oP,{data:c})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activities"}),v.jsx("div",{className:"space-y-4",children:u().map((g,p)=>v.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[v.jsx("p",{className:"text-gray-600",children:g.text}),v.jsx("span",{className:"text-sm text-gray-400",children:g.time})]},p))})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upcoming Deadlines"}),v.jsx("div",{className:"space-y-4",children:d().map((g,p)=>v.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[v.jsx("p",{className:"text-gray-600",children:g.task}),v.jsx("span",{className:"text-sm text-red-500",children:g.deadline})]},p))})]})]})]})};var aU=Object.defineProperty,lU=(t,e,n)=>e in t?aU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gv=(t,e,n)=>(lU(t,typeof e!="symbol"?e+"":e,n),n);let cU=class{constructor(){Gv(this,"current",this.detect()),Gv(this,"handoffState","pending"),Gv(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Zo=new cU,as=(t,e)=>{Zo.isServer?te.useEffect(t,e):te.useLayoutEffect(t,e)};function ea(t){let e=te.useRef(t);return as(()=>{e.current=t},[t]),e}let _n=function(t){let e=ea(t);return At.useCallback((...n)=>e.current(...n),[e])};function S1(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function au(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return S1(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=au();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function v_(){let[t]=te.useState(au);return te.useEffect(()=>()=>t.dispose(),[t]),t}function uU(){let t=typeof document>"u";return"useSyncExternalStore"in vh?(e=>e.useSyncExternalStore)(vh)(()=>()=>{},()=>!1,()=>!t):!1}function Zh(){let t=uU(),[e,n]=te.useState(Zo.isHandoffComplete);return e&&Zo.isHandoffComplete===!1&&n(!1),te.useEffect(()=>{e!==!0&&n(!0)},[e]),te.useEffect(()=>Zo.handoff(),[]),t?!1:e}var Q4;let ed=(Q4=At.useId)!=null?Q4:function(){let t=Zh(),[e,n]=At.useState(t?()=>Zo.nextId():null);return as(()=>{e===null&&n(Zo.nextId())},[e]),e!=null?""+e:void 0};function Fr(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Fr),r}function lP(t){return Zo.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let $2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ec=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Ec||{}),cP=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(cP||{}),hU=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(hU||{});function dU(t=document.body){return t==null?[]:Array.from(t.querySelectorAll($2)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var uP=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(uP||{});function fU(t,e=0){var n;return t===((n=lP(t))==null?void 0:n.body)?!1:Fr(e,{0(){return t.matches($2)},1(){let r=t;for(;r!==null;){if(r.matches($2))return!0;r=r.parentElement}return!1}})}var pU=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(pU||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Fc(t){t==null||t.focus({preventScroll:!0})}let gU=["textarea","input"].join(",");function mU(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,gU))!=null?n:!1}function vU(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Am(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?vU(t):t:dU(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.includes(p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,d=o.length,g;do{if(u>=d||u+d<=0)return 0;let p=l+u;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}g=o[p],g==null||g.focus(c),u+=a}while(g!==s.activeElement);return e&6&&mU(g)&&g.select(),2}function hP(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function yU(){return/Android/gi.test(window.navigator.userAgent)}function wU(){return hP()||yU()}function $g(t,e,n){let r=ea(e);te.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function dP(t,e,n){let r=ea(e);te.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function _U(t,e,n=!0){let r=te.useRef(!1);te.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let u of c){if(u===null)continue;let d=u instanceof HTMLElement?u:u.current;if(d!=null&&d.contains(l)||o.composed&&o.composedPath().includes(d))return}return!fU(l,uP.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=te.useRef(null);$g("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),$g("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),$g("click",o=>{wU()||s.current&&(i(o,()=>s.current),s.current=null)},!0),$g("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),dP("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ip(...t){return te.useMemo(()=>lP(...t),[...t])}let fP=Symbol();function bU(t,e=!0){return Object.assign(t,{[fP]:e})}function Ds(...t){let e=te.useRef(t);te.useEffect(()=>{e.current=t},[t]);let n=_n(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[fP]))?void 0:n}function y_(t,e){let n=te.useRef([]),r=_n(t);te.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}function A0(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var E0=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(E0||{}),pl=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(pl||{});function cs({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??xU;let l=pP(e,t);if(s)return qg(l,n,r,o,a);let c=i??0;if(c&2){let{static:u=!1,...d}=l;if(u)return qg(d,n,r,o,a)}if(c&1){let{unmount:u=!0,...d}=l;return Fr(u?0:1,{0(){return null},1(){return qg({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return qg(l,n,r,o,a)}function qg(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Kv(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let d={};if(e){let g=!1,p=[];for(let[_,x]of Object.entries(e))typeof x=="boolean"&&(g=!0),x===!0&&p.push(_);g&&(d["data-headlessui-state"]=p.join(" "))}if(s===te.Fragment&&Object.keys(X4(l)).length>0){if(!te.isValidElement(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let g=u.props,p=typeof(g==null?void 0:g.className)=="function"?(...x)=>A0(g==null?void 0:g.className(...x),l.className):A0(g==null?void 0:g.className,l.className),_=p?{className:p}:{};return te.cloneElement(u,Object.assign({},pP(u.props,X4(Kv(l,["ref"]))),d,c,{ref:i(u.ref,c.ref)},_))}return te.createElement(s,Object.assign({},Kv(l,["ref"]),s!==te.Fragment&&c,s!==te.Fragment&&d),u)}function xU(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function pP(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Oi(t){var e;return Object.assign(te.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function X4(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Kv(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let SU="div";var N0=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(N0||{});function AU(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return cs({ourProps:s,theirProps:i,slot:{},defaultTag:SU,name:"Hidden"})}let q2=Oi(AU),w_=te.createContext(null);w_.displayName="OpenClosedContext";var Pi=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Pi||{});function __(){return te.useContext(w_)}function EU({value:t,children:e}){return At.createElement(w_.Provider,{value:t},e)}function NU(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let ol=[];NU(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&ol[0]!==e.target&&(ol.unshift(e.target),ol=ol.filter(n=>n!=null&&n.isConnected),ol.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function kU(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&TU(n)?!1:r}function TU(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var gP=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(gP||{});function mP(t,e,n,r){let i=ea(n);te.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function Cp(){let t=te.useRef(!1);return as(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function vP(t){let e=_n(t),n=te.useRef(!1);te.useEffect(()=>(n.current=!1,()=>{n.current=!0,S1(()=>{n.current&&e()})}),[e])}var Jd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Jd||{});function PU(){let t=te.useRef(0);return dP("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function yP(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let IU="div";var wP=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(wP||{});function CU(t,e){let n=te.useRef(null),r=Ds(n,e),{initialFocus:i,containers:s,features:o=30,...a}=t;Zh()||(o=1);let l=Ip(n);jU({ownerDocument:l},!!(o&16));let c=DU({ownerDocument:l,container:n,initialFocus:i},!!(o&2));MU({ownerDocument:l,container:n,containers:s,previousActiveElement:c},!!(o&8));let u=PU(),d=_n(x=>{let N=n.current;N&&(y=>y())(()=>{Fr(u.current,{[Jd.Forwards]:()=>{Am(N,Ec.First,{skipElements:[x.relatedTarget]})},[Jd.Backwards]:()=>{Am(N,Ec.Last,{skipElements:[x.relatedTarget]})}})})}),g=v_(),p=te.useRef(!1),_={ref:r,onKeyDown(x){x.key=="Tab"&&(p.current=!0,g.requestAnimationFrame(()=>{p.current=!1}))},onBlur(x){let N=yP(s);n.current instanceof HTMLElement&&N.add(n.current);let y=x.relatedTarget;y instanceof HTMLElement&&y.dataset.headlessuiFocusGuard!=="true"&&(_P(N,y)||(p.current?Am(n.current,Fr(u.current,{[Jd.Forwards]:()=>Ec.Next,[Jd.Backwards]:()=>Ec.Previous})|Ec.WrapAround,{relativeTo:x.target}):x.target instanceof HTMLElement&&Fc(x.target)))}};return At.createElement(At.Fragment,null,!!(o&4)&&At.createElement(q2,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:N0.Focusable}),cs({ourProps:_,theirProps:a,defaultTag:IU,name:"FocusTrap"}),!!(o&4)&&At.createElement(q2,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:N0.Focusable}))}let LU=Oi(CU),jd=Object.assign(LU,{features:wP});function RU(t=!0){let e=te.useRef(ol.slice());return y_(([n],[r])=>{r===!0&&n===!1&&S1(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=ol.slice())},[t,ol,e]),_n(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function jU({ownerDocument:t},e){let n=RU(e);y_(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Fc(n())},[e]),vP(()=>{e&&Fc(n())})}function DU({ownerDocument:t,container:e,initialFocus:n},r){let i=te.useRef(null),s=Cp();return y_(()=>{if(!r)return;let o=e.current;o&&S1(()=>{if(!s.current)return;let a=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){i.current=a;return}}else if(o.contains(a)){i.current=a;return}n!=null&&n.current?Fc(n.current):Am(o,Ec.First)===cP.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t==null?void 0:t.activeElement})},[r]),i}function MU({ownerDocument:t,container:e,containers:n,previousActiveElement:r},i){let s=Cp();mP(t==null?void 0:t.defaultView,"focus",o=>{if(!i||!s.current)return;let a=yP(n);e.current instanceof HTMLElement&&a.add(e.current);let l=r.current;if(!l)return;let c=o.target;c&&c instanceof HTMLElement?_P(a,c)?(r.current=c,Fc(c)):(o.preventDefault(),o.stopPropagation(),Fc(l)):Fc(r.current)},!0)}function _P(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let bP=te.createContext(!1);function OU(){return te.useContext(bP)}function H2(t){return At.createElement(bP.Provider,{value:t.force},t.children)}function FU(t){let e=OU(),n=te.useContext(xP),r=Ip(t),[i,s]=te.useState(()=>{if(!e&&n!==null||Zo.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return te.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),te.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),i}let VU=te.Fragment;function BU(t,e){let n=t,r=te.useRef(null),i=Ds(bU(u=>{r.current=u}),e),s=Ip(r),o=FU(r),[a]=te.useState(()=>{var u;return Zo.isServer?null:(u=s==null?void 0:s.createElement("div"))!=null?u:null}),l=te.useContext(W2),c=Zh();return as(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),as(()=>{if(a&&l)return l.register(a)},[l,a]),vP(()=>{var u;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((u=o.parentElement)==null||u.removeChild(o)))}),c?!o||!a?null:RE.createPortal(cs({ourProps:{ref:i},theirProps:n,defaultTag:VU,name:"Portal"}),a):null}let zU=te.Fragment,xP=te.createContext(null);function UU(t,e){let{target:n,...r}=t,i={ref:Ds(e)};return At.createElement(xP.Provider,{value:n},cs({ourProps:i,theirProps:r,defaultTag:zU,name:"Popover.Group"}))}let W2=te.createContext(null);function $U(){let t=te.useContext(W2),e=te.useRef([]),n=_n(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=_n(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=te.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,te.useMemo(()=>function({children:s}){return At.createElement(W2.Provider,{value:i},s)},[i])]}let qU=Oi(BU),HU=Oi(UU),G2=Object.assign(qU,{Group:HU});function WU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const GU=typeof Object.is=="function"?Object.is:WU,{useState:KU,useEffect:YU,useLayoutEffect:QU,useDebugValue:XU}=vh;function JU(t,e,n){const r=e(),[{inst:i},s]=KU({inst:{value:r,getSnapshot:e}});return QU(()=>{i.value=r,i.getSnapshot=e,Yv(i)&&s({inst:i})},[t,r,e]),YU(()=>(Yv(i)&&s({inst:i}),t(()=>{Yv(i)&&s({inst:i})})),[t]),XU(r),r}function Yv(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!GU(n,r)}catch{return!0}}function ZU(t,e,n){return e()}const e$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",t$=!e$,n$=t$?ZU:JU,r$="useSyncExternalStore"in vh?(t=>t.useSyncExternalStore)(vh):n$;function i$(t){return r$(t.subscribe,t.getSnapshot,t.getSnapshot)}function s$(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function o$(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,i=r.clientWidth-r.offsetWidth,s=t-i;n.style(r,"paddingRight",`${s}px`)}}}function a$(){return hP()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=au();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);u&&!r(u)&&(o=u)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function l$(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function c$(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Lc=s$(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:au(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:c$(n)},i=[a$(),o$(),l$()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Lc.subscribe(()=>{let t=Lc.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Lc.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Lc.dispatch("TEARDOWN",n)}});function u$(t,e,n){let r=i$(Lc),i=t?r.get(t):void 0,s=i?i.count>0:!1;return as(()=>{if(!(!t||!e))return Lc.dispatch("PUSH",t,n),()=>Lc.dispatch("POP",t,n)},[e,t]),s}let Qv=new Map,Dd=new Map;function J4(t,e=!0){as(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function i(){var o;if(!r)return;let a=(o=Dd.get(r))!=null?o:1;if(a===1?Dd.delete(r):Dd.set(r,a-1),a!==1)return;let l=Qv.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,Qv.delete(r))}let s=(n=Dd.get(r))!=null?n:0;return Dd.set(r,s+1),s!==0||(Qv.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[t,e])}function h$({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){var r;let i=te.useRef((r=n==null?void 0:n.current)!=null?r:null),s=Ip(i),o=_n(()=>{var a,l,c;let u=[];for(let d of t)d!==null&&(d instanceof HTMLElement?u.push(d):"current"in d&&d.current instanceof HTMLElement&&u.push(d.current));if(e!=null&&e.current)for(let d of e.current)u.push(d);for(let d of(a=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&d instanceof HTMLElement&&d.id!=="headlessui-portal-root"&&(d.contains(i.current)||d.contains((c=(l=i.current)==null?void 0:l.getRootNode())==null?void 0:c.host)||u.some(g=>d.contains(g))||u.push(d));return u});return{resolveContainers:o,contains:_n(a=>o().some(l=>l.contains(a))),mainTreeNodeRef:i,MainTreeNode:te.useMemo(()=>function(){return n!=null?null:At.createElement(q2,{features:N0.Hidden,ref:i})},[i,n])}}let b_=te.createContext(()=>{});b_.displayName="StackContext";var K2=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(K2||{});function d$(){return te.useContext(b_)}function f$({children:t,onUpdate:e,type:n,element:r,enabled:i}){let s=d$(),o=_n((...a)=>{e==null||e(...a),s(...a)});return as(()=>{let a=i===void 0||i===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,i]),At.createElement(b_.Provider,{value:o},t)}let SP=te.createContext(null);function AP(){let t=te.useContext(SP);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,AP),e}return t}function p$(){let[t,e]=te.useState([]);return[t.length>0?t.join(" "):void 0,te.useMemo(()=>function(n){let r=_n(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=te.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return At.createElement(SP.Provider,{value:i},n.children)},[e])]}let g$="p";function m$(t,e){let n=ed(),{id:r=`headlessui-description-${n}`,...i}=t,s=AP(),o=Ds(e);as(()=>s.register(r),[r,s.register]);let a={ref:o,...s.props,id:r};return cs({ourProps:a,theirProps:i,slot:s.slot||{},defaultTag:g$,name:s.name||"Description"})}let v$=Oi(m$),y$=Object.assign(v$,{});var w$=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(w$||{}),_$=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(_$||{});let b$={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},k0=te.createContext(null);k0.displayName="DialogContext";function Lp(t){let e=te.useContext(k0);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Lp),n}return e}function x$(t,e,n=()=>[document.body]){u$(t,e,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function S$(t,e){return Fr(e.type,b$,t,e)}let A$="div",E$=E0.RenderStrategy|E0.Static;function N$(t,e){let n=ed(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",__demoMode:l=!1,...c}=t,[u,d]=te.useState(0),g=te.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(g.current||(g.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=__();i===void 0&&p!==null&&(i=(p&Pi.Open)===Pi.Open);let _=te.useRef(null),x=Ds(_,e),N=Ip(_),y=t.hasOwnProperty("open")||p!==null,w=t.hasOwnProperty("onClose");if(!y&&!w)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!y)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!w)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let A=i?0:1,[D,F]=te.useReducer(S$,{titleId:null,descriptionId:null,panelRef:te.createRef()}),U=_n(()=>s(!1)),I=_n(Ee=>F({type:0,id:Ee})),S=Zh()?l?!1:A===0:!1,C=u>1,L=te.useContext(k0)!==null,[k,P]=$U(),j={get current(){var Ee;return(Ee=D.panelRef.current)!=null?Ee:_.current}},{resolveContainers:Q,mainTreeNodeRef:ae,MainTreeNode:X}=h$({portals:k,defaultContainers:[j]}),Z=C?"parent":"leaf",Y=p!==null?(p&Pi.Closing)===Pi.Closing:!1,ee=L||Y?!1:S,se=te.useCallback(()=>{var Ee,Fe;return(Fe=Array.from((Ee=N==null?void 0:N.querySelectorAll("body > *"))!=null?Ee:[]).find(Me=>Me.id==="headlessui-portal-root"?!1:Me.contains(ae.current)&&Me instanceof HTMLElement))!=null?Fe:null},[ae]);J4(se,ee);let me=C?!0:S,O=te.useCallback(()=>{var Ee,Fe;return(Fe=Array.from((Ee=N==null?void 0:N.querySelectorAll("[data-headlessui-portal]"))!=null?Ee:[]).find(Me=>Me.contains(ae.current)&&Me instanceof HTMLElement))!=null?Fe:null},[ae]);J4(O,me),_U(Q,Ee=>{Ee.preventDefault(),U()},!(!S||C));let q=!(C||A!==0);mP(N==null?void 0:N.defaultView,"keydown",Ee=>{q&&(Ee.defaultPrevented||Ee.key===gP.Escape&&(Ee.preventDefault(),Ee.stopPropagation(),U()))}),x$(N,!(Y||A!==0||L),Q),te.useEffect(()=>{if(A!==0||!_.current)return;let Ee=new ResizeObserver(Fe=>{for(let Me of Fe){let tt=Me.target.getBoundingClientRect();tt.x===0&&tt.y===0&&tt.width===0&&tt.height===0&&U()}});return Ee.observe(_.current),()=>Ee.disconnect()},[A,_,U]);let[re,he]=p$(),ve=te.useMemo(()=>[{dialogState:A,close:U,setTitleId:I},D],[A,D,U,I]),_e=te.useMemo(()=>({open:A===0}),[A]),Re={ref:x,id:r,role:a,"aria-modal":A===0?!0:void 0,"aria-labelledby":D.titleId,"aria-describedby":re};return At.createElement(f$,{type:"Dialog",enabled:A===0,element:_,onUpdate:_n((Ee,Fe)=>{Fe==="Dialog"&&Fr(Ee,{[K2.Add]:()=>d(Me=>Me+1),[K2.Remove]:()=>d(Me=>Me-1)})})},At.createElement(H2,{force:!0},At.createElement(G2,null,At.createElement(k0.Provider,{value:ve},At.createElement(G2.Group,{target:_},At.createElement(H2,{force:!1},At.createElement(he,{slot:_e,name:"Dialog.Description"},At.createElement(jd,{initialFocus:o,containers:Q,features:S?Fr(Z,{parent:jd.features.RestoreFocus,leaf:jd.features.All&~jd.features.FocusLock}):jd.features.None},At.createElement(P,null,cs({ourProps:Re,theirProps:c,slot:_e,defaultTag:A$,features:E$,visible:A===0,name:"Dialog"}))))))))),At.createElement(X,null))}let k$="div";function T$(t,e){let n=ed(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=t,[{dialogState:s,close:o}]=Lp("Dialog.Overlay"),a=Ds(e),l=_n(u=>{if(u.target===u.currentTarget){if(kU(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),o()}}),c=te.useMemo(()=>({open:s===0}),[s]);return cs({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:i,slot:c,defaultTag:k$,name:"Dialog.Overlay"})}let P$="div";function I$(t,e){let n=ed(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=t,[{dialogState:s},o]=Lp("Dialog.Backdrop"),a=Ds(e);te.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=te.useMemo(()=>({open:s===0}),[s]);return At.createElement(H2,{force:!0},At.createElement(G2,null,cs({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:i,slot:l,defaultTag:P$,name:"Dialog.Backdrop"})))}let C$="div";function L$(t,e){let n=ed(),{id:r=`headlessui-dialog-panel-${n}`,...i}=t,[{dialogState:s},o]=Lp("Dialog.Panel"),a=Ds(e,o.panelRef),l=te.useMemo(()=>({open:s===0}),[s]),c=_n(u=>{u.stopPropagation()});return cs({ourProps:{ref:a,id:r,onClick:c},theirProps:i,slot:l,defaultTag:C$,name:"Dialog.Panel"})}let R$="h2";function j$(t,e){let n=ed(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Lp("Dialog.Title"),a=Ds(e);te.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=te.useMemo(()=>({open:s===0}),[s]);return cs({ourProps:{ref:a,id:r},theirProps:i,slot:l,defaultTag:R$,name:"Dialog.Title"})}let D$=Oi(N$),M$=Oi(I$),O$=Oi(L$),F$=Oi(T$),V$=Oi(j$),Xi=Object.assign(D$,{Backdrop:M$,Panel:O$,Overlay:F$,Title:V$,Description:y$});function B$(t=0){let[e,n]=te.useState(t),r=Cp(),i=te.useCallback(l=>{r.current&&n(c=>c|l)},[e,r]),s=te.useCallback(l=>!!(e&l),[e]),o=te.useCallback(l=>{r.current&&n(c=>c&~l)},[n,r]),a=te.useCallback(l=>{r.current&&n(c=>c^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function z$(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function Xv(t,...e){t&&e.length>0&&t.classList.add(...e)}function Jv(t,...e){t&&e.length>0&&t.classList.remove(...e)}function U$(t,e){let n=au();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[c=0]=l.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,d)=>d-u);return c}),a=s+o;if(a!==0){n.group(c=>{c.setTimeout(()=>{e(),c.dispose()},a),c.addEventListener(t,"transitionrun",u=>{u.target===u.currentTarget&&c.dispose()})});let l=n.addEventListener(t,"transitionend",c=>{c.target===c.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function $$(t,e,n,r){let i=n?"enter":"leave",s=au(),o=r!==void 0?z$(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=Fr(i,{enter:()=>e.enter,leave:()=>e.leave}),l=Fr(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),c=Fr(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return Jv(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),Xv(t,...e.base,...a,...c),s.nextFrame(()=>{Jv(t,...e.base,...a,...c),Xv(t,...e.base,...a,...l),U$(t,()=>(Jv(t,...e.base,...a),Xv(t,...e.base,...e.entered),o()))}),s.dispose}function q$({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:s}){let o=Cp(),a=v_(),l=ea(n);as(()=>{t&&(l.current="enter")},[t]),as(()=>{let c=au();a.add(c.dispose);let u=e.current;if(u&&l.current!=="idle"&&o.current)return c.dispose(),i.current(l.current),c.add($$(u,r.current,l.current==="enter",()=>{c.dispose(),s.current(l.current)})),c.dispose},[n])}function Wa(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let A1=te.createContext(null);A1.displayName="TransitionContext";var H$=(t=>(t.Visible="visible",t.Hidden="hidden",t))(H$||{});function W$(){let t=te.useContext(A1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function G$(){let t=te.useContext(E1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let E1=te.createContext(null);E1.displayName="NestingContext";function N1(t){return"children"in t?N1(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function EP(t,e){let n=ea(t),r=te.useRef([]),i=Cp(),s=v_(),o=_n((p,_=pl.Hidden)=>{let x=r.current.findIndex(({el:N})=>N===p);x!==-1&&(Fr(_,{[pl.Unmount](){r.current.splice(x,1)},[pl.Hidden](){r.current[x].state="hidden"}}),s.microTask(()=>{var N;!N1(r)&&i.current&&((N=n.current)==null||N.call(n))}))}),a=_n(p=>{let _=r.current.find(({el:x})=>x===p);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,pl.Unmount)}),l=te.useRef([]),c=te.useRef(Promise.resolve()),u=te.useRef({enter:[],leave:[],idle:[]}),d=_n((p,_,x)=>{l.current.splice(0),e&&(e.chains.current[_]=e.chains.current[_].filter(([N])=>N!==p)),e==null||e.chains.current[_].push([p,new Promise(N=>{l.current.push(N)})]),e==null||e.chains.current[_].push([p,new Promise(N=>{Promise.all(u.current[_].map(([y,w])=>w)).then(()=>N())})]),_==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>x(_)):x(_)}),g=_n((p,_,x)=>{Promise.all(u.current[_].splice(0).map(([N,y])=>y)).then(()=>{var N;(N=l.current.shift())==null||N()}).then(()=>x(_))});return te.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:g,wait:c,chains:u}),[a,o,r,d,g,u,c])}function K$(){}let Y$=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Z4(t){var e;let n={};for(let r of Y$)n[r]=(e=t[r])!=null?e:K$;return n}function Q$(t){let e=te.useRef(Z4(t));return te.useEffect(()=>{e.current=Z4(t)},[t]),e}let X$="div",NP=E0.RenderStrategy;function J$(t,e){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a,enter:l,enterFrom:c,enterTo:u,entered:d,leave:g,leaveFrom:p,leaveTo:_,...x}=t,N=te.useRef(null),y=Ds(N,e),w=(n=x.unmount)==null||n?pl.Unmount:pl.Hidden,{show:A,appear:D,initial:F}=W$(),[U,I]=te.useState(A?"visible":"hidden"),S=G$(),{register:C,unregister:L}=S;te.useEffect(()=>C(N),[C,N]),te.useEffect(()=>{if(w===pl.Hidden&&N.current){if(A&&U!=="visible"){I("visible");return}return Fr(U,{hidden:()=>L(N),visible:()=>C(N)})}},[U,N,C,L,A,w]);let k=ea({base:Wa(x.className),enter:Wa(l),enterFrom:Wa(c),enterTo:Wa(u),entered:Wa(d),leave:Wa(g),leaveFrom:Wa(p),leaveTo:Wa(_)}),P=Q$({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a}),j=Zh();te.useEffect(()=>{if(j&&U==="visible"&&N.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[N,U,j]);let Q=F&&!D,ae=D&&A&&F,X=!j||Q?"idle":A?"enter":"leave",Z=B$(0),Y=_n(q=>Fr(q,{enter:()=>{Z.addFlag(Pi.Opening),P.current.beforeEnter()},leave:()=>{Z.addFlag(Pi.Closing),P.current.beforeLeave()},idle:()=>{}})),ee=_n(q=>Fr(q,{enter:()=>{Z.removeFlag(Pi.Opening),P.current.afterEnter()},leave:()=>{Z.removeFlag(Pi.Closing),P.current.afterLeave()},idle:()=>{}})),se=EP(()=>{I("hidden"),L(N)},S),me=te.useRef(!1);q$({immediate:ae,container:N,classes:k,direction:X,onStart:ea(q=>{me.current=!0,se.onStart(N,q,Y)}),onStop:ea(q=>{me.current=!1,se.onStop(N,q,ee),q==="leave"&&!N1(se)&&(I("hidden"),L(N))})});let O=x,z={ref:y};return ae?O={...O,className:A0(x.className,...k.current.enter,...k.current.enterFrom)}:me.current&&(O.className=A0(x.className,(r=N.current)==null?void 0:r.className),O.className===""&&delete O.className),At.createElement(E1.Provider,{value:se},At.createElement(EU,{value:Fr(U,{visible:Pi.Open,hidden:Pi.Closed})|Z.flags},cs({ourProps:z,theirProps:O,defaultTag:X$,features:NP,visible:U==="visible",name:"Transition.Child"})))}function Z$(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=te.useRef(null),a=Ds(o,e);Zh();let l=__();if(n===void 0&&l!==null&&(n=(l&Pi.Open)===Pi.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,u]=te.useState(n?"visible":"hidden"),d=EP(()=>{u("hidden")}),[g,p]=te.useState(!0),_=te.useRef([n]);as(()=>{g!==!1&&_.current[_.current.length-1]!==n&&(_.current.push(n),p(!1))},[_,n]);let x=te.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);te.useEffect(()=>{if(n)u("visible");else if(!N1(d))u("hidden");else{let A=o.current;if(!A)return;let D=A.getBoundingClientRect();D.x===0&&D.y===0&&D.width===0&&D.height===0&&u("hidden")}},[n,d]);let N={unmount:i},y=_n(()=>{var A;g&&p(!1),(A=t.beforeEnter)==null||A.call(t)}),w=_n(()=>{var A;g&&p(!1),(A=t.beforeLeave)==null||A.call(t)});return At.createElement(E1.Provider,{value:d},At.createElement(A1.Provider,{value:x},cs({ourProps:{...N,as:te.Fragment,children:At.createElement(kP,{ref:a,...N,...s,beforeEnter:y,beforeLeave:w})},theirProps:{},defaultTag:te.Fragment,features:NP,visible:c==="visible",name:"Transition"})))}function eq(t,e){let n=te.useContext(A1)!==null,r=__()!==null;return At.createElement(At.Fragment,null,!n&&r?At.createElement(Y2,{ref:e,...t}):At.createElement(kP,{ref:e,...t}))}let Y2=Oi(Z$),kP=Oi(J$),tq=Oi(eq),Ji=Object.assign(Y2,{Child:tq,Root:Y2});const nq=()=>{const{interns:t,addIntern:e,updateIntern:n,deleteIntern:r}=mo(),[i,s]=te.useState(!1),[o,a]=te.useState(!1),[l,c]=te.useState(null),[u,d]=te.useState(null),[g,p]=te.useState({name:"",email:"",phone:"",skills:"",role:""}),_=w=>{w.preventDefault();const A={...g,skills:g.skills.split(",").map(D=>D.trim())};u?(n(u.id,A),Ke.success("Intern updated successfully!")):(e(A),Ke.success("Intern added successfully!")),s(!1),d(null),p({name:"",email:"",phone:"",skills:"",role:""})},x=w=>{d(w),p({name:w.name,email:w.email,phone:w.phone,skills:w.skills.join(", "),role:w.role}),s(!0)},N=w=>{c(w),a(!0)},y=()=>{l&&(r(l.id),Ke.success("Intern deleted successfully!"),a(!1),c(null))};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interns"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your interns and their information"})]}),v.jsxs("button",{onClick:()=>{d(null),p({name:"",email:"",phone:"",skills:"",role:""}),s(!0)},className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors duration-200",children:[v.jsx(pp,{className:"h-5 w-5 mr-2"}),"Add Intern"]})]}),v.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-200",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Join Date"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(w=>v.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:v.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:v.jsx("span",{className:"text-indigo-700 font-medium text-sm",children:w.name.split(" ").map(A=>A[0]).join("")})})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.name}),v.jsx("div",{className:"text-sm text-gray-500",children:w.phone})]})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-900",children:w.role})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm text-gray-500",children:w.email})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:w.status})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(w.joinDate).toLocaleDateString()}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:v.jsxs("div",{className:"flex space-x-3",children:[v.jsx("button",{onClick:()=>x(w),className:"text-indigo-600 hover:text-indigo-900 transition-colors duration-200",children:v.jsx(JE,{className:"h-5 w-5"})}),v.jsx("button",{onClick:()=>N(w),className:"text-red-600 hover:text-red-900 transition-colors duration-200",children:v.jsx(nN,{className:"h-5 w-5"})})]})})]},w.id))})]})}),v.jsx(Ji,{appear:!0,show:i,as:te.Fragment,children:v.jsxs(Xi,{as:"div",className:"relative z-10",onClose:()=>{s(!1),d(null)},children:[v.jsx(Ji.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),v.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:v.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:v.jsx(Ji.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:v.jsxs(Xi.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[v.jsx(Xi.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:u?"Edit Intern":"Add New Intern"}),v.jsxs("form",{onSubmit:_,className:"mt-4 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),v.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:g.name,onChange:w=>p({...g,name:w.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),v.jsx("input",{type:"email",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:g.email,onChange:w=>p({...g,email:w.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),v.jsx("input",{type:"tel",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:g.phone,onChange:w=>p({...g,phone:w.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Skills (comma-separated)"}),v.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:g.skills,onChange:w=>p({...g,skills:w.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),v.jsxs("select",{required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:g.role,onChange:w=>p({...g,role:w.target.value}),children:[v.jsx("option",{value:"",children:"Select Role"}),v.jsx("option",{value:"Frontend Developer",children:"Frontend Developer"}),v.jsx("option",{value:"Backend Developer",children:"Backend Developer"}),v.jsx("option",{value:"Full Stack Developer",children:"Full Stack Developer"}),v.jsx("option",{value:"UI/UX Designer",children:"UI/UX Designer"})]})]}),v.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[v.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>{s(!1),d(null)},children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:u?"Update Intern":"Add Intern"})]})]})]})})})})]})}),v.jsx(Ji,{appear:!0,show:o,as:te.Fragment,children:v.jsxs(Xi,{as:"div",className:"relative z-10",onClose:()=>a(!1),children:[v.jsx(Ji.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),v.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:v.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:v.jsx(Ji.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:v.jsxs(Xi.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[v.jsx("div",{className:"flex items-center justify-center mb-4",children:v.jsx("div",{className:"bg-red-100 rounded-full p-3",children:v.jsx(ej,{className:"h-6 w-6 text-red-600"})})}),v.jsx(Xi.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900 text-center",children:"Delete Intern"}),v.jsx("div",{className:"mt-2",children:v.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Are you sure you want to delete ",l==null?void 0:l.name,"? This action cannot be undone and will also delete all related tasks and performance reviews."]})}),v.jsxs("div",{className:"mt-6 flex justify-center space-x-3",children:[v.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>a(!1),children:"Cancel"}),v.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",onClick:y,children:"Delete"})]})]})})})})]})})]})},rq=()=>{const{user:t}=ls(),{tasks:e,interns:n,addTask:r,updateTaskStatus:i}=mo(),[s,o]=te.useState(!1),[a,l]=te.useState({title:"",assignedTo:"",assignedToId:"",deadline:"",priority:"Medium",status:"To Do"}),c=(t==null?void 0:t.role)==="admin",u=y=>{if(y.preventDefault(),!c){Ke.error("Only admin can create tasks");return}const w=n.find(A=>A.id===a.assignedToId);w&&(r({...a,assignedTo:w.name}),o(!1),l({title:"",assignedTo:"",assignedToId:"",deadline:"",priority:"Medium",status:"To Do"}))},d=(y,w)=>{y.dataTransfer.setData("taskId",w)},g=(y,w)=>{y.preventDefault();const A=y.dataTransfer.getData("taskId");i(A,w)},p=y=>{y.preventDefault()},_=y=>{switch(y){case"Completed":return"bg-green-100 text-green-800";case"In Progress":return"bg-yellow-100 text-yellow-800";case"To Do":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},x=y=>{switch(y){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}},N=(t==null?void 0:t.role)==="admin"?e:e.filter(y=>y.assignedToId===(t==null?void 0:t.id));return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Task Management"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c?"Manage and assign tasks to interns":"View and update your assigned tasks"})]}),c&&v.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[v.jsx(pp,{className:"h-5 w-5 mr-2"}),"Add Task"]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["To Do","In Progress","Completed"].map(y=>v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",onDrop:w=>g(w,y),onDragOver:p,children:[v.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[y,v.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 text-sm px-2 py-1 rounded-full",children:N.filter(w=>w.status===y).length})]}),v.jsxs("div",{className:"space-y-4",children:[N.filter(w=>w.status===y).map(w=>v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 cursor-move hover:shadow-md transition-shadow duration-200",draggable:!0,onDragStart:A=>d(A,w.id),children:[v.jsxs("div",{className:"flex justify-between items-start mb-2",children:[v.jsx("h3",{className:"font-medium text-gray-900",children:w.title}),v.jsx("span",{className:`text-sm font-medium ${x(w.priority)}`,children:w.priority})]}),v.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:["Assigned to: ",w.assignedTo]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[v.jsx($f,{className:"h-4 w-4 mr-1"}),new Date(w.deadline).toLocaleDateString()]}),v.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(w.status)}`,children:w.status})]})]},w.id)),N.filter(w=>w.status===y).length===0&&v.jsx("div",{className:"text-center py-8 text-gray-400",children:v.jsxs("p",{children:["No tasks in ",y.toLowerCase()]})})]})]},y))}),c&&s&&v.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add New Task"}),v.jsxs("form",{onSubmit:u,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),v.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:a.title,onChange:y=>l({...a,title:y.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assign To"}),v.jsxs("select",{required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:a.assignedToId,onChange:y=>l({...a,assignedToId:y.target.value}),children:[v.jsx("option",{value:"",children:"Select Intern"}),n.map(y=>v.jsx("option",{value:y.id,children:y.name},y.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Deadline"}),v.jsx("input",{type:"date",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:a.deadline,onChange:y=>l({...a,deadline:y.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Priority"}),v.jsxs("select",{required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:a.priority,onChange:y=>l({...a,priority:y.target.value}),children:[v.jsx("option",{value:"High",children:"High"}),v.jsx("option",{value:"Medium",children:"Medium"}),v.jsx("option",{value:"Low",children:"Low"})]})]}),v.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[v.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Add Task"})]})]})]})})]})},iq=()=>{const{user:t}=ls(),{performances:e,interns:n,addPerformanceReview:r}=mo(),[i,s]=te.useState(!1),[o,a]=te.useState({internId:"",rating:5,tasksCompleted:0,feedback:""}),l=(t==null?void 0:t.role)==="admin",c=g=>{if(g.preventDefault(),!l){Ke.error("Only admin can add performance reviews");return}r({...o,lastReview:new Date().toISOString().split("T")[0]}),s(!1),a({internId:"",rating:5,tasksCompleted:0,feedback:""})},u=g=>[...Array(5)].map((p,_)=>v.jsx(fj,{className:`h-5 w-5 ${_<Math.floor(g)?"text-yellow-400 fill-current":_<g?"text-yellow-400 fill-current opacity-50":"text-gray-300"}`},_)),d=(t==null?void 0:t.role)==="admin"?e:e.filter(g=>g.internId===(t==null?void 0:t.id));return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Performance Reviews"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:l?"Manage intern performance reviews":"View your performance reviews"})]}),l&&v.jsxs("button",{onClick:()=>s(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[v.jsx(pp,{className:"h-5 w-5 mr-2"}),"Add Review"]})]}),v.jsx("div",{className:"grid gap-6",children:d.length>0?d.map(g=>{const p=n.find(_=>_.id===g.internId);return v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p==null?void 0:p.name}),v.jsx("p",{className:"text-gray-500",children:p==null?void 0:p.role})]}),v.jsxs("div",{className:"flex items-center",children:[u(g.rating),v.jsx("span",{className:"ml-2 text-gray-600",children:g.rating})]})]}),v.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center text-gray-600",children:[v.jsx(kh,{className:"h-5 w-5 mr-2"}),"Tasks Completed"]}),v.jsx("p",{className:"text-2xl font-semibold mt-1",children:g.tasksCompleted})]}),v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center text-gray-600",children:[v.jsx(e0,{className:"h-5 w-5 mr-2"}),"Last Review"]}),v.jsx("p",{className:"text-2xl font-semibold mt-1",children:new Date(g.lastReview).toLocaleDateString()})]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Feedback"}),v.jsx("p",{className:"mt-1 text-gray-600",children:g.feedback})]})]},g.id)}):v.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[v.jsx(kh,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Performance Reviews"}),v.jsx("p",{className:"text-gray-500",children:l?"Start by adding performance reviews for your interns.":"No performance reviews available yet."})]})}),l&&i&&v.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Add Performance Review"}),v.jsxs("form",{onSubmit:c,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Intern"}),v.jsxs("select",{required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:o.internId,onChange:g=>a({...o,internId:g.target.value}),children:[v.jsx("option",{value:"",children:"Select Intern"}),n.map(g=>v.jsx("option",{value:g.id,children:g.name},g.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rating (1-5)"}),v.jsx("input",{type:"number",required:!0,min:"1",max:"5",step:"0.1",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:o.rating,onChange:g=>a({...o,rating:parseFloat(g.target.value)})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tasks Completed"}),v.jsx("input",{type:"number",required:!0,min:"0",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:o.tasksCompleted,onChange:g=>a({...o,tasksCompleted:parseInt(g.target.value)})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Feedback"}),v.jsx("textarea",{required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:4,value:o.feedback,onChange:g=>a({...o,feedback:g.target.value})})]}),v.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[v.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Add Review"})]})]})]})})]})},sq="modulepreload",oq=function(t){return"/Intern-Management/"+t},e3={},Q2=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=oq(l),l in e3)return;e3[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":sq,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((g,p)=>{d.addEventListener("load",g),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Yt(t){"@babel/helpers - typeof";return Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(t)}var Mr=Uint8Array,Li=Uint16Array,x_=Int32Array,k1=new Mr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),T1=new Mr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),X2=new Mr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TP=function(t,e){for(var n=new Li(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new x_(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},PP=TP(k1,2),IP=PP.b,J2=PP.r;IP[28]=258,J2[258]=28;var CP=TP(T1,0),aq=CP.b,t3=CP.r,Z2=new Li(32768);for(var vn=0;vn<32768;++vn){var Ga=(vn&43690)>>1|(vn&21845)<<1;Ga=(Ga&52428)>>2|(Ga&13107)<<2,Ga=(Ga&61680)>>4|(Ga&3855)<<4,Z2[vn]=((Ga&65280)>>8|(Ga&255)<<8)>>1}var po=function(t,e,n){for(var r=t.length,i=0,s=new Li(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Li(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Li(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=o[t[i]-1]++<<u,g=d|(1<<u)-1;d<=g;++d)a[Z2[d]>>l]=c}else for(a=new Li(r),i=0;i<r;++i)t[i]&&(a[i]=Z2[o[t[i]-1]++]>>15-t[i]);return a},Bl=new Mr(288);for(var vn=0;vn<144;++vn)Bl[vn]=8;for(var vn=144;vn<256;++vn)Bl[vn]=9;for(var vn=256;vn<280;++vn)Bl[vn]=7;for(var vn=280;vn<288;++vn)Bl[vn]=8;var op=new Mr(32);for(var vn=0;vn<32;++vn)op[vn]=5;var lq=po(Bl,9,0),cq=po(Bl,9,1),uq=po(op,5,0),hq=po(op,5,1),Zv=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},xs=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},ey=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},S_=function(t){return(t+7)/8|0},LP=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Mr(t.subarray(e,n))},dq=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Es=function(t,e,n){var r=new Error(e||dq[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Es),!n)throw r;return r},fq=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Mr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Mr(i*3));var c=function(Ee){var Fe=n.length;if(Ee>Fe){var Me=new Mr(Math.max(Fe*2,Ee));Me.set(n),n=Me}},u=e.f||0,d=e.p||0,g=e.b||0,p=e.l,_=e.d,x=e.m,N=e.n,y=i*8;do{if(!p){u=xs(t,d,1);var w=xs(t,d+1,3);if(d+=3,w)if(w==1)p=cq,_=hq,x=9,N=5;else if(w==2){var U=xs(t,d,31)+257,I=xs(t,d+10,15)+4,S=U+xs(t,d+5,31)+1;d+=14;for(var C=new Mr(S),L=new Mr(19),k=0;k<I;++k)L[X2[k]]=xs(t,d+k*3,7);d+=I*3;for(var P=Zv(L),j=(1<<P)-1,Q=po(L,P,1),k=0;k<S;){var ae=Q[xs(t,d,j)];d+=ae&15;var A=ae>>4;if(A<16)C[k++]=A;else{var X=0,Z=0;for(A==16?(Z=3+xs(t,d,3),d+=2,X=C[k-1]):A==17?(Z=3+xs(t,d,7),d+=3):A==18&&(Z=11+xs(t,d,127),d+=7);Z--;)C[k++]=X}}var Y=C.subarray(0,U),ee=C.subarray(U);x=Zv(Y),N=Zv(ee),p=po(Y,x,1),_=po(ee,N,1)}else Es(1);else{var A=S_(d)+4,D=t[A-4]|t[A-3]<<8,F=A+D;if(F>i){l&&Es(0);break}a&&c(g+D),n.set(t.subarray(A,F),g),e.b=g+=D,e.p=d=F*8,e.f=u;continue}if(d>y){l&&Es(0);break}}a&&c(g+131072);for(var se=(1<<x)-1,me=(1<<N)-1,O=d;;O=d){var X=p[ey(t,d)&se],z=X>>4;if(d+=X&15,d>y){l&&Es(0);break}if(X||Es(2),z<256)n[g++]=z;else if(z==256){O=d,p=null;break}else{var q=z-254;if(z>264){var k=z-257,J=k1[k];q=xs(t,d,(1<<J)-1)+IP[k],d+=J}var re=_[ey(t,d)&me],he=re>>4;re||Es(3),d+=re&15;var ee=aq[he];if(he>3){var J=T1[he];ee+=ey(t,d)&(1<<J)-1,d+=J}if(d>y){l&&Es(0);break}a&&c(g+131072);var ve=g+q;if(g<ee){var _e=s-ee,Re=Math.min(ee,ve);for(_e+g<0&&Es(3);g<Re;++g)n[g]=r[_e+g]}for(;g<ve;++g)n[g]=n[g-ee]}}e.l=p,e.p=O,e.b=g,e.f=u,p&&(u=1,e.m=x,e.d=_,e.n=N)}while(!u);return g!=n.length&&o?LP(n,0,g):n.subarray(0,g)},Fo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Md=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},ty=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:jP,l:0};if(i==1){var o=new Mr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(F,U){return F.f-U.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var p=new Li(g+1),_=e5(n[u-1],p,0);if(_>e){var r=0,x=0,N=_-e,y=1<<N;for(s.sort(function(U,I){return p[I.s]-p[U.s]||U.f-I.f});r<i;++r){var w=s[r].s;if(p[w]>e)x+=y-(1<<_-p[w]),p[w]=e;else break}for(x>>=N;x>0;){var A=s[r].s;p[A]<e?x-=1<<e-p[A]++-1:++r}for(;r>=0&&x;--r){var D=s[r].s;p[D]==e&&(--p[D],++x)}_=e}return{t:new Mr(p),l:_}},e5=function(t,e,n){return t.s==-1?Math.max(e5(t.l,e,n+1),e5(t.r,e,n+1)):e[t.s]=n},n3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Li(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Od=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},RP=function(t,e,n){var r=n.length,i=S_(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},r3=function(t,e,n,r,i,s,o,a,l,c,u){Fo(e,u++,n),++i[256];for(var d=ty(i,15),g=d.t,p=d.l,_=ty(s,15),x=_.t,N=_.l,y=n3(g),w=y.c,A=y.n,D=n3(x),F=D.c,U=D.n,I=new Li(19),S=0;S<w.length;++S)++I[w[S]&31];for(var S=0;S<F.length;++S)++I[F[S]&31];for(var C=ty(I,7),L=C.t,k=C.l,P=19;P>4&&!L[X2[P-1]];--P);var j=c+5<<3,Q=Od(i,Bl)+Od(s,op)+o,ae=Od(i,g)+Od(s,x)+o+14+3*P+Od(I,L)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&j<=Q&&j<=ae)return RP(e,u,t.subarray(l,l+c));var X,Z,Y,ee;if(Fo(e,u,1+(ae<Q)),u+=2,ae<Q){X=po(g,p,0),Z=g,Y=po(x,N,0),ee=x;var se=po(L,k,0);Fo(e,u,A-257),Fo(e,u+5,U-1),Fo(e,u+10,P-4),u+=14;for(var S=0;S<P;++S)Fo(e,u+3*S,L[X2[S]]);u+=3*P;for(var me=[w,F],O=0;O<2;++O)for(var z=me[O],S=0;S<z.length;++S){var q=z[S]&31;Fo(e,u,se[q]),u+=L[q],q>15&&(Fo(e,u,z[S]>>5&127),u+=z[S]>>12)}}else X=lq,Z=Bl,Y=uq,ee=op;for(var S=0;S<a;++S){var J=r[S];if(J>255){var q=J>>18&31;Md(e,u,X[q+257]),u+=Z[q+257],q>7&&(Fo(e,u,J>>23&31),u+=k1[q]);var re=J&31;Md(e,u,Y[re]),u+=ee[re],re>3&&(Md(e,u,J>>5&8191),u+=T1[re])}else Md(e,u,X[J]),u+=Z[J]}return Md(e,u,X[256]),u+Z[256]},pq=new x_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jP=new Mr(0),gq=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Mr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var d=pq[e-1],g=d>>13,p=d&8191,_=(1<<n)-1,x=s.p||new Li(32768),N=s.h||new Li(_+1),y=Math.ceil(n/3),w=2*y,A=function(tt){return(t[tt]^t[tt+1]<<y^t[tt+2]<<w)&_},D=new x_(25e3),F=new Li(288),U=new Li(32),I=0,S=0,C=s.i||0,L=0,k=s.w||0,P=0;C+2<o;++C){var j=A(C),Q=C&32767,ae=N[j];if(x[Q]=ae,N[j]=Q,k<=C){var X=o-C;if((I>7e3||L>24576)&&(X>423||!c)){u=r3(t,l,0,D,F,U,S,L,P,C-P,u),L=I=S=0,P=C;for(var Z=0;Z<286;++Z)F[Z]=0;for(var Z=0;Z<30;++Z)U[Z]=0}var Y=2,ee=0,se=p,me=Q-ae&32767;if(X>2&&j==A(C-me))for(var O=Math.min(g,X)-1,z=Math.min(32767,C),q=Math.min(258,X);me<=z&&--se&&Q!=ae;){if(t[C+Y]==t[C+Y-me]){for(var J=0;J<q&&t[C+J]==t[C+J-me];++J);if(J>Y){if(Y=J,ee=me,J>O)break;for(var re=Math.min(me,J-2),he=0,Z=0;Z<re;++Z){var ve=C-me+Z&32767,_e=x[ve],Re=ve-_e&32767;Re>he&&(he=Re,ae=ve)}}}Q=ae,ae=x[Q],me+=Q-ae&32767}if(ee){D[L++]=268435456|J2[Y]<<18|t3[ee];var Ee=J2[Y]&31,Fe=t3[ee]&31;S+=k1[Ee]+T1[Fe],++F[257+Ee],++U[Fe],k=C+Y,++I}else D[L++]=t[C],++F[t[C]]}}for(C=Math.max(C,k);C<o;++C)D[L++]=t[C],++F[t[C]];u=r3(t,l,c,D,F,U,S,L,P,C-P,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=N,s.p=x,s.i=C,s.w=k)}else{for(var C=s.w||0;C<o+c;C+=65535){var Me=C+65535;Me>=o&&(l[u/8|0]=c,Me=o),u=RP(l,u+1,t.subarray(C,Me))}s.i=o}return LP(a,0,r+S_(u)+i)},DP=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},mq=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Mr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return gq(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},MP=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},vq=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=DP();i.p(e.dictionary),MP(t,2,i.d())}},yq=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Es(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Es(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function t5(t,e){e||(e={});var n=DP();n.p(t);var r=mq(t,e,e.dictionary?6:2,4);return vq(r,e),MP(r,r.length-4,n.d()),r}function wq(t,e){return fq(t.subarray(yq(t,e),-4),{i:2},e,e)}var _q=typeof TextDecoder<"u"&&new TextDecoder,bq=0;try{_q.decode(jP,{stream:!0}),bq=1}catch{}var ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ny(){ct.console&&typeof ct.console.log=="function"&&ct.console.log.apply(ct.console,arguments)}var tn={log:ny,warn:function(t){ct.console&&(typeof ct.console.warn=="function"?ct.console.warn.apply(ct.console,arguments):ny.call(null,arguments))},error:function(t){ct.console&&(typeof ct.console.error=="function"?ct.console.error.apply(ct.console,arguments):ny(t))}};function ry(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Ac(r.response,e,n)},r.onerror=function(){tn.error("could not download file")},r.send()}function i3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Hg(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wf,n5,Ac=ct.saveAs||((typeof window>"u"?"undefined":Yt(window))!=="object"||window!==ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=ct.URL||ct.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?i3(i.href)?ry(t,e,n):Hg(i,i.target="_blank"):Hg(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Hg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(i3(t))ry(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Hg(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Yt(s)!=="object"&&(tn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return ry(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(ct.HTMLElement)||ct.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Yt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=ct.URL||ct.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OP(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iy(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Tr(n,r,i,s,e[0],7,-680876936),s=Tr(s,n,r,i,e[1],12,-389564586),i=Tr(i,s,n,r,e[2],17,606105819),r=Tr(r,i,s,n,e[3],22,-1044525330),n=Tr(n,r,i,s,e[4],7,-176418897),s=Tr(s,n,r,i,e[5],12,1200080426),i=Tr(i,s,n,r,e[6],17,-1473231341),r=Tr(r,i,s,n,e[7],22,-45705983),n=Tr(n,r,i,s,e[8],7,1770035416),s=Tr(s,n,r,i,e[9],12,-1958414417),i=Tr(i,s,n,r,e[10],17,-42063),r=Tr(r,i,s,n,e[11],22,-1990404162),n=Tr(n,r,i,s,e[12],7,1804603682),s=Tr(s,n,r,i,e[13],12,-40341101),i=Tr(i,s,n,r,e[14],17,-1502002290),n=Pr(n,r=Tr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Pr(s,n,r,i,e[6],9,-1069501632),i=Pr(i,s,n,r,e[11],14,643717713),r=Pr(r,i,s,n,e[0],20,-373897302),n=Pr(n,r,i,s,e[5],5,-701558691),s=Pr(s,n,r,i,e[10],9,38016083),i=Pr(i,s,n,r,e[15],14,-660478335),r=Pr(r,i,s,n,e[4],20,-405537848),n=Pr(n,r,i,s,e[9],5,568446438),s=Pr(s,n,r,i,e[14],9,-1019803690),i=Pr(i,s,n,r,e[3],14,-187363961),r=Pr(r,i,s,n,e[8],20,1163531501),n=Pr(n,r,i,s,e[13],5,-1444681467),s=Pr(s,n,r,i,e[2],9,-51403784),i=Pr(i,s,n,r,e[7],14,1735328473),n=Ir(n,r=Pr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ir(s,n,r,i,e[8],11,-2022574463),i=Ir(i,s,n,r,e[11],16,1839030562),r=Ir(r,i,s,n,e[14],23,-35309556),n=Ir(n,r,i,s,e[1],4,-1530992060),s=Ir(s,n,r,i,e[4],11,1272893353),i=Ir(i,s,n,r,e[7],16,-155497632),r=Ir(r,i,s,n,e[10],23,-1094730640),n=Ir(n,r,i,s,e[13],4,681279174),s=Ir(s,n,r,i,e[0],11,-358537222),i=Ir(i,s,n,r,e[3],16,-722521979),r=Ir(r,i,s,n,e[6],23,76029189),n=Ir(n,r,i,s,e[9],4,-640364487),s=Ir(s,n,r,i,e[12],11,-421815835),i=Ir(i,s,n,r,e[15],16,530742520),n=Cr(n,r=Ir(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Cr(s,n,r,i,e[7],10,1126891415),i=Cr(i,s,n,r,e[14],15,-1416354905),r=Cr(r,i,s,n,e[5],21,-57434055),n=Cr(n,r,i,s,e[12],6,1700485571),s=Cr(s,n,r,i,e[3],10,-1894986606),i=Cr(i,s,n,r,e[10],15,-1051523),r=Cr(r,i,s,n,e[1],21,-2054922799),n=Cr(n,r,i,s,e[8],6,1873313359),s=Cr(s,n,r,i,e[15],10,-30611744),i=Cr(i,s,n,r,e[6],15,-1560198380),r=Cr(r,i,s,n,e[13],21,1309151649),n=Cr(n,r,i,s,e[4],6,-145523070),s=Cr(s,n,r,i,e[11],10,-1120210379),i=Cr(i,s,n,r,e[2],15,718787259),r=Cr(r,i,s,n,e[9],21,-343485551),t[0]=gl(n,t[0]),t[1]=gl(r,t[1]),t[2]=gl(i,t[2]),t[3]=gl(s,t[3])}function P1(t,e,n,r,i,s){return e=gl(gl(e,t),gl(r,s)),gl(e<<i|e>>>32-i,n)}function Tr(t,e,n,r,i,s,o){return P1(e&n|~e&r,t,e,i,s,o)}function Pr(t,e,n,r,i,s,o){return P1(e&r|n&~r,t,e,i,s,o)}function Ir(t,e,n,r,i,s,o){return P1(e^n^r,t,e,i,s,o)}function Cr(t,e,n,r,i,s,o){return P1(n^(e|~r),t,e,i,s,o)}function FP(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)iy(r,xq(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(iy(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,iy(r,i),r}function xq(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}wf=ct.atob.bind(ct),n5=ct.btoa.bind(ct);var s3="0123456789abcdef".split("");function Sq(t){for(var e="",n=0;n<4;n++)e+=s3[t>>8*n+4&15]+s3[t>>8*n&15];return e}function Aq(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function r5(t){return FP(t).map(Aq).join("")}var Eq=function(t){for(var e=0;e<t.length;e++)t[e]=Sq(t[e]);return t.join("")}(FP("hello"))!="5d41402abc4b2a76b9719d911017c592";function gl(t,e){if(Eq){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function i5(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var d=e.length,g=0,p=0,_="";for(l=0;l<d;l++)p=(p+(u=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=u,o=a[(a[g]+a[p])%256],_+=String.fromCharCode(e.charCodeAt(l)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var o3={print:4,modify:8,copy:16,"annot-forms":32};function zu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(o3.perm!==void 0)throw new Error("Invalid permission: "+a);i+=o3[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=r5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=i5(this.encryptionKey,this.padding)}function Uu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function a3(t){if(Yt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){ct.console&&tn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ap(t){if(!(this instanceof ap))return new ap(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function VP(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function al(t,e,n,r,i){if(!(this instanceof al))return new al(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,VP.call(this,r,i)}function Rc(t,e,n,r,i){if(!(this instanceof Rc))return new Rc(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,VP.call(this,r,i)}function ot(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;Yt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=a3;var _="1.3",x=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(b){_=b};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return N};var y=p.__private__.getPageFormat=function(b){return N[b]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},A=w.COMPAT;function D(){this.saveGraphicsState(),oe(new Ye(He,0,0,-He,0,Ar()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),c="n",A=w.ADVANCED}function F(){this.restoreGraphicsState(),c="S",A=w.COMPAT}var U=p.__private__.combineFontStyleAndFontWeight=function(b,V){if(b=="bold"&&V=="normal"||b=="bold"&&V==400||b=="normal"&&V=="italic"||b=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(b=V==400||V==="normal"?b==="italic"?"italic":"normal":V!=700&&V!=="bold"||b!=="normal"?(V==700?"bold":V)+""+b:"bold"),b};p.advancedAPI=function(b){var V=A===w.COMPAT;return V&&D.call(this),typeof b!="function"||(b(this),V&&F.call(this)),this},p.compatAPI=function(b){var V=A===w.ADVANCED;return V&&F.call(this),typeof b!="function"||(b(this),V&&D.call(this)),this},p.isAdvancedAPI=function(){return A===w.ADVANCED};var I,S=function(b){if(A!==w.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=p.roundToPrecision=p.__private__.roundToPrecision=function(b,V){var ie=e||V;if(isNaN(b)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(ie).replace(/0+$/,"")};I=p.hpf=p.__private__.hpf=typeof l=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return C(b,l)}:l==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return C(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return C(b,16)};var L=p.f2=p.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return C(b,2)},k=p.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return C(b,3)},P=p.scale=p.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return A===w.COMPAT?b*He:A===w.ADVANCED?b:void 0},j=function(b){return A===w.COMPAT?Ar()-b:A===w.ADVANCED?b:void 0},Q=function(b){return P(j(b))};p.__private__.setPrecision=p.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(e=parseInt(b,10))};var ae,X="00000000000000000000000000000000",Z=p.__private__.getFileId=function(){return X},Y=p.__private__.setFileId=function(b){return X=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(fn=new zu(u.userPermissions,u.userPassword,u.ownerPassword,X)),X};p.setFileId=function(b){return Y(b),this},p.getFileId=function(){return Z()};var ee=p.__private__.convertDateToPDFDate=function(b){var V=b.getTimezoneOffset(),ie=V<0?"+":"-",le=Math.floor(Math.abs(V/60)),pe=Math.abs(V%60),Se=[ie,q(le),"'",q(pe),"'"].join("");return["D:",b.getFullYear(),q(b.getMonth()+1),q(b.getDate()),q(b.getHours()),q(b.getMinutes()),q(b.getSeconds()),Se].join("")},se=p.__private__.convertPDFDateToDate=function(b){var V=parseInt(b.substr(2,4),10),ie=parseInt(b.substr(6,2),10)-1,le=parseInt(b.substr(8,2),10),pe=parseInt(b.substr(10,2),10),Se=parseInt(b.substr(12,2),10),Ce=parseInt(b.substr(14,2),10);return new Date(V,ie,le,pe,Se,Ce,0)},me=p.__private__.setCreationDate=function(b){var V;if(b===void 0&&(b=new Date),b instanceof Date)V=ee(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=b}return ae=V},O=p.__private__.getCreationDate=function(b){var V=ae;return b==="jsDate"&&(V=se(ae)),V};p.setCreationDate=function(b){return me(b),this},p.getCreationDate=function(b){return O(b)};var z,q=p.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},J=p.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},re=0,he=[],ve=[],_e=0,Re=[],Ee=[],Fe=!1,Me=ve,tt=function(){re=0,_e=0,ve=[],he=[],Re=[],us=kn(),Sr=kn()};p.__private__.setCustomOutputDestination=function(b){Fe=!0,Me=b};var Ae=function(b){Fe||(Me=b)};p.__private__.resetCustomOutputDestination=function(){Fe=!1,Me=ve};var oe=p.__private__.out=function(b){return b=b.toString(),_e+=b.length+1,Me.push(b),Me},pt=p.__private__.write=function(b){return oe(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},Je=p.__private__.getArrayBuffer=function(b){for(var V=b.length,ie=new ArrayBuffer(V),le=new Uint8Array(ie);V--;)le[V]=b.charCodeAt(V);return ie},De=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return De};var Ve=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(b){return Ve=A===w.ADVANCED?b/He:b,this};var qe,Ue=p.__private__.getFontSize=p.getFontSize=function(){return A===w.COMPAT?Ve:Ve*He},et=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(b){return et=b,this},p.__private__.getR2L=p.getR2L=function(){return et};var ut,gt=p.__private__.setZoomMode=function(b){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))qe=b;else if(isNaN(b)){if(V.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');qe=b}else qe=parseInt(b,10)};p.__private__.getZoomMode=function(){return qe};var nt,lt=p.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');ut=b};p.__private__.getPageMode=function(){return ut};var Rt=p.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');nt=b};p.__private__.getLayoutMode=function(){return nt},p.__private__.setDisplayMode=p.setDisplayMode=function(b,V,ie){return gt(b),Rt(V),lt(ie),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(b){if(Object.keys(at).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[b]},p.__private__.getDocumentProperties=function(){return at},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(b){for(var V in at)at.hasOwnProperty(V)&&b[V]&&(at[V]=b[V]);return this},p.__private__.setDocumentProperty=function(b,V){if(Object.keys(at).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[b]=V};var xt,He,Nn,Pt,ti,Bt={},sn={},Fi=[],Ct={},Fs={},hn={},cr={},wi=null,on=0,it=[],jt=new a3(p),Vi=t.hotfixes||[],Un={},br={},_i=[],Ye=function b(V,ie,le,pe,Se,Ce){if(!(this instanceof b))return new b(V,ie,le,pe,Se,Ce);isNaN(V)&&(V=1),isNaN(ie)&&(ie=0),isNaN(le)&&(le=0),isNaN(pe)&&(pe=1),isNaN(Se)&&(Se=0),isNaN(Ce)&&(Ce=0),this._matrix=[V,ie,le,pe,Se,Ce]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(b)},Ye.prototype.multiply=function(b){var V=b.sx*this.sx+b.shy*this.shx,ie=b.sx*this.shy+b.shy*this.sy,le=b.shx*this.sx+b.sy*this.shx,pe=b.shx*this.shy+b.sy*this.sy,Se=b.tx*this.sx+b.ty*this.shx+this.tx,Ce=b.tx*this.shy+b.ty*this.sy+this.ty;return new Ye(V,ie,le,pe,Se,Ce)},Ye.prototype.decompose=function(){var b=this.sx,V=this.shy,ie=this.shx,le=this.sy,pe=this.tx,Se=this.ty,Ce=Math.sqrt(b*b+V*V),ze=(b/=Ce)*ie+(V/=Ce)*le;ie-=b*ze,le-=V*ze;var f=Math.sqrt(ie*ie+le*le);return ze/=f,b*(le/=f)<V*(ie/=f)&&(b=-b,V=-V,ze=-ze,Ce=-Ce),{scale:new Ye(Ce,0,0,f,0,0),translate:new Ye(1,0,0,1,pe,Se),rotate:new Ye(b,V,-V,b,0,0),skew:new Ye(1,0,ze,1,0,0)}},Ye.prototype.toString=function(b){return this.join(" ")},Ye.prototype.inversed=function(){var b=this.sx,V=this.shy,ie=this.shx,le=this.sy,pe=this.tx,Se=this.ty,Ce=1/(b*le-V*ie),ze=le*Ce,f=-V*Ce,T=-ie*Ce,M=b*Ce;return new Ye(ze,f,T,M,-ze*pe-T*Se,-f*pe-M*Se)},Ye.prototype.applyToPoint=function(b){var V=b.x*this.sx+b.y*this.shx+this.tx,ie=b.x*this.shy+b.y*this.sy+this.ty;return new ko(V,ie)},Ye.prototype.applyToRectangle=function(b){var V=this.applyToPoint(b),ie=this.applyToPoint(new ko(b.x+b.w,b.y+b.h));return new Pa(V.x,V.y,ie.x-V.x,ie.y-V.y)},Ye.prototype.clone=function(){var b=this.sx,V=this.shy,ie=this.shx,le=this.sy,pe=this.tx,Se=this.ty;return new Ye(b,V,ie,le,pe,Se)},p.Matrix=Ye;var ni=p.matrixMult=function(b,V){return V.multiply(b)},xr=new Ye(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=xr;var $n=function(b,V){if(!Fs[b]){var ie=(V instanceof al?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);V.id=ie,Fs[b]=ie,Ct[ie]=V,jt.publish("addPattern",V)}};p.ShadingPattern=al,p.TilingPattern=Rc,p.addShadingPattern=function(b,V){return S("addShadingPattern()"),$n(b,V),this},p.beginTilingPattern=function(b){S("beginTilingPattern()"),Ia(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},p.endTilingPattern=function(b,V){S("endTilingPattern()"),V.stream=Ee[z].join(`
`),$n(b,V),jt.publish("endTilingPattern",V),_i.pop().restore()};var Ln=p.__private__.newObject=function(){var b=kn();return qn(b,!0),b},kn=p.__private__.newObjectDeferred=function(){return re++,he[re]=function(){return _e},re},qn=function(b,V){return V=typeof V=="boolean"&&V,he[b]=_e,V&&oe(b+" 0 obj"),b},ga=p.__private__.newAdditionalObject=function(){var b={objId:kn(),content:""};return Re.push(b),b},us=kn(),Sr=kn(),ri=p.__private__.decodeColorString=function(b){var V=b.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ie=parseFloat(V[0]);V=[ie,ie,ie,"r"]}for(var le="#",pe=0;pe<3;pe++)le+=("0"+Math.floor(255*parseFloat(V[pe])).toString(16)).slice(-2);return le},$r=p.__private__.encodeColorString=function(b){var V;typeof b=="string"&&(b={ch1:b});var ie=b.ch1,le=b.ch2,pe=b.ch3,Se=b.ch4,Ce=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var ze=new OP(ie);if(ze.ok)ie=ze.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var f=parseInt(ie.substr(1),16);ie=f>>16&255,le=f>>8&255,pe=255&f}if(le===void 0||Se===void 0&&ie===le&&le===pe)if(typeof ie=="string")V=ie+" "+Ce[0];else switch(b.precision){case 2:V=L(ie/255)+" "+Ce[0];break;case 3:default:V=k(ie/255)+" "+Ce[0]}else if(Se===void 0||Yt(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return V=["1.","1.","1.",Ce[1]].join(" ");if(typeof ie=="string")V=[ie,le,pe,Ce[1]].join(" ");else switch(b.precision){case 2:V=[L(ie/255),L(le/255),L(pe/255),Ce[1]].join(" ");break;default:case 3:V=[k(ie/255),k(le/255),k(pe/255),Ce[1]].join(" ")}}else if(typeof ie=="string")V=[ie,le,pe,Se,Ce[2]].join(" ");else switch(b.precision){case 2:V=[L(ie),L(le),L(pe),L(Se),Ce[2]].join(" ");break;case 3:default:V=[k(ie),k(le),k(pe),k(Se),Ce[2]].join(" ")}return V},qr=p.__private__.getFilters=function(){return o},Rn=p.__private__.putStream=function(b){var V=(b=b||{}).data||"",ie=b.filters||qr(),le=b.alreadyAppliedFilters||[],pe=b.addLength1||!1,Se=V.length,Ce=b.objectId,ze=function(mt){return mt};if(u!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ze=fn.encryptor(Ce,0));var f={};ie===!0&&(ie=["FlateEncode"]);var T=b.additionalKeyValues||[],M=(f=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(V,ie):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(f.data.length!==0&&(T.push({key:"Length",value:f.data.length}),pe===!0&&T.push({key:"Length1",value:Se})),M.length!=0)if(M.split("/").length-1==1)T.push({key:"Filter",value:M});else{T.push({key:"Filter",value:"["+M+"]"});for(var W=0;W<T.length;W+=1)if(T[W].key==="DecodeParms"){for(var fe=[],be=0;be<f.reverseChain.split("/").length-1;be+=1)fe.push("null");fe.push(T[W].value),T[W].value="["+fe.join(" ")+"]"}}oe("<<");for(var Le=0;Le<T.length;Le++)oe("/"+T[Le].key+" "+T[Le].value);oe(">>"),f.data.length!==0&&(oe("stream"),oe(ze(f.data)),oe("endstream"))},bi=p.__private__.putPage=function(b){var V=b.number,ie=b.data,le=b.objId,pe=b.contentsObjId;qn(le,!0),oe("<</Type /Page"),oe("/Parent "+b.rootDictionaryObjId+" 0 R"),oe("/Resources "+b.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(I(b.mediaBox.bottomLeftX))+" "+parseFloat(I(b.mediaBox.bottomLeftY))+" "+I(b.mediaBox.topRightX)+" "+I(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&oe("/CropBox ["+I(b.cropBox.bottomLeftX)+" "+I(b.cropBox.bottomLeftY)+" "+I(b.cropBox.topRightX)+" "+I(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&oe("/BleedBox ["+I(b.bleedBox.bottomLeftX)+" "+I(b.bleedBox.bottomLeftY)+" "+I(b.bleedBox.topRightX)+" "+I(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&oe("/TrimBox ["+I(b.trimBox.bottomLeftX)+" "+I(b.trimBox.bottomLeftY)+" "+I(b.trimBox.topRightX)+" "+I(b.trimBox.topRightY)+"]"),b.artBox!==null&&oe("/ArtBox ["+I(b.artBox.bottomLeftX)+" "+I(b.artBox.bottomLeftY)+" "+I(b.artBox.topRightX)+" "+I(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&oe("/UserUnit "+b.userUnit),jt.publish("putPage",{objId:le,pageContext:it[V],pageNumber:V,page:ie}),oe("/Contents "+pe+" 0 R"),oe(">>"),oe("endobj");var Se=ie.join(`
`);return A===w.ADVANCED&&(Se+=`
Q`),qn(pe,!0),Rn({data:Se,filters:qr(),objectId:pe}),oe("endobj"),le},Vs=p.__private__.putPages=function(){var b,V,ie=[];for(b=1;b<=on;b++)it[b].objId=kn(),it[b].contentsObjId=kn();for(b=1;b<=on;b++)ie.push(bi({number:b,data:Ee[b],objId:it[b].objId,contentsObjId:it[b].contentsObjId,mediaBox:it[b].mediaBox,cropBox:it[b].cropBox,bleedBox:it[b].bleedBox,trimBox:it[b].trimBox,artBox:it[b].artBox,userUnit:it[b].userUnit,rootDictionaryObjId:us,resourceDictionaryObjId:Sr}));qn(us,!0),oe("<</Type /Pages");var le="/Kids [";for(V=0;V<on;V++)le+=ie[V]+" 0 R ";oe(le+"]"),oe("/Count "+on),oe(">>"),oe("endobj"),jt.publish("postPutPages")},Bs=function(b){jt.publish("putFont",{font:b,out:oe,newObject:Ln,putStream:Rn}),b.isAlreadyPutted!==!0&&(b.objectNumber=Ln(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Uu(b.postScriptName)),oe("/Subtype /Type1"),typeof b.encoding=="string"&&oe("/Encoding /"+b.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},zs=function(){for(var b in Bt)Bt.hasOwnProperty(b)&&(d===!1||d===!0&&g.hasOwnProperty(b))&&Bs(Bt[b])},yo=function(b){b.objectNumber=Ln();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[I(b.x),I(b.y),I(b.x+b.width),I(b.y+b.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var ie=b.pages[1].join(`
`);Rn({data:ie,additionalKeyValues:V,objectId:b.objectNumber}),oe("endobj")},wo=function(){for(var b in Un)Un.hasOwnProperty(b)&&yo(Un[b])},cu=function(b,V){var ie,le=[],pe=1/(V-1);for(ie=0;ie<1;ie+=pe)le.push(ie);if(le.push(1),b[0].offset!=0){var Se={offset:0,color:b[0].color};b.unshift(Se)}if(b[b.length-1].offset!=1){var Ce={offset:1,color:b[b.length-1].color};b.push(Ce)}for(var ze="",f=0,T=0;T<le.length;T++){for(ie=le[T];ie>b[f+1].offset;)f++;var M=b[f].offset,W=(ie-M)/(b[f+1].offset-M),fe=b[f].color,be=b[f+1].color;ze+=J(Math.round((1-W)*fe[0]+W*be[0]).toString(16))+J(Math.round((1-W)*fe[1]+W*be[1]).toString(16))+J(Math.round((1-W)*fe[2]+W*be[2]).toString(16))}return ze.trim()},ma=function(b,V){V||(V=21);var ie=Ln(),le=cu(b.colors,V),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+V+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Rn({data:le,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),oe("endobj"),b.objectNumber=Ln(),oe("<< /ShadingType "+b.type),oe("/ColorSpace /DeviceRGB");var Se="/Coords ["+I(parseFloat(b.coords[0]))+" "+I(parseFloat(b.coords[1]))+" ";b.type===2?Se+=I(parseFloat(b.coords[2]))+" "+I(parseFloat(b.coords[3])):Se+=I(parseFloat(b.coords[2]))+" "+I(parseFloat(b.coords[3]))+" "+I(parseFloat(b.coords[4]))+" "+I(parseFloat(b.coords[5])),oe(Se+="]"),b.matrix&&oe("/Matrix ["+b.matrix.toString()+"]"),oe("/Function "+ie+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},uu=function(b,V){var ie=kn(),le=Ln();V.push({resourcesOid:ie,objectOid:le}),b.objectNumber=le;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+b.boundingBox.map(I).join(" ")+"]"}),pe.push({key:"XStep",value:I(b.xStep)}),pe.push({key:"YStep",value:I(b.yStep)}),pe.push({key:"Resources",value:ie+" 0 R"}),b.matrix&&pe.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),Rn({data:b.stream,additionalKeyValues:pe,objectId:b.objectNumber}),oe("endobj")},Us=function(b){var V;for(V in Ct)Ct.hasOwnProperty(V)&&(Ct[V]instanceof al?ma(Ct[V]):Ct[V]instanceof Rc&&uu(Ct[V],b))},$s=function(b){for(var V in b.objectNumber=Ln(),oe("<<"),b)switch(V){case"opacity":oe("/ca "+L(b[V]));break;case"stroke-opacity":oe("/CA "+L(b[V]))}oe(">>"),oe("endobj")},hs=function(){var b;for(b in hn)hn.hasOwnProperty(b)&&$s(hn[b])},_o=function(){for(var b in oe("/XObject <<"),Un)Un.hasOwnProperty(b)&&Un[b].objectNumber>=0&&oe("/"+b+" "+Un[b].objectNumber+" 0 R");jt.publish("putXobjectDict"),oe(">>")},td=function(){fn.oid=Ln(),oe("<<"),oe("/Filter /Standard"),oe("/V "+fn.v),oe("/R "+fn.r),oe("/U <"+fn.toHexString(fn.U)+">"),oe("/O <"+fn.toHexString(fn.O)+">"),oe("/P "+fn.P),oe(">>"),oe("endobj")},Ql=function(){for(var b in oe("/Font <<"),Bt)Bt.hasOwnProperty(b)&&(d===!1||d===!0&&g.hasOwnProperty(b))&&oe("/"+b+" "+Bt[b].objectNumber+" 0 R");oe(">>")},hu=function(){if(Object.keys(Ct).length>0){for(var b in oe("/Shading <<"),Ct)Ct.hasOwnProperty(b)&&Ct[b]instanceof al&&Ct[b].objectNumber>=0&&oe("/"+b+" "+Ct[b].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),oe(">>")}},bo=function(b){if(Object.keys(Ct).length>0){for(var V in oe("/Pattern <<"),Ct)Ct.hasOwnProperty(V)&&Ct[V]instanceof p.TilingPattern&&Ct[V].objectNumber>=0&&Ct[V].objectNumber<b&&oe("/"+V+" "+Ct[V].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),oe(">>")}},Xl=function(){if(Object.keys(hn).length>0){var b;for(b in oe("/ExtGState <<"),hn)hn.hasOwnProperty(b)&&hn[b].objectNumber>=0&&oe("/"+b+" "+hn[b].objectNumber+" 0 R");jt.publish("putGStateDict"),oe(">>")}},dn=function(b){qn(b.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ql(),hu(),bo(b.objectOid),Xl(),_o(),oe(">>"),oe("endobj")},Jl=function(){var b=[];zs(),hs(),wo(),Us(b),jt.publish("putResources"),b.forEach(dn),dn({resourcesOid:Sr,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},Zl=function(){jt.publish("putAdditionalObjects");for(var b=0;b<Re.length;b++){var V=Re[b];qn(V.objId,!0),oe(V.content),oe("endobj")}jt.publish("postPutAdditionalObjects")},du=function(b){sn[b.fontName]=sn[b.fontName]||{},sn[b.fontName][b.fontStyle]=b.id},ec=function(b,V,ie,le,pe){var Se={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:b,fontName:V,fontStyle:ie,encoding:le,isStandardFont:pe||!1,metadata:{}};return jt.publish("addFont",{font:Se,instance:this}),Bt[Se.id]=Se,du(Se),Se.id},fu=function(b){for(var V=0,ie=De.length;V<ie;V++){var le=ec.call(this,b[V][0],b[V][1],b[V][2],De[V][3],!0);d===!1&&(g[le]=!0);var pe=b[V][0].split("-");du({id:le,fontName:pe[0],fontStyle:pe[1]||""})}jt.publish("addFonts",{fonts:Bt,dictionary:sn})},ii=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(le){var V=le.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var ie="Error in function "+V.split(`
`)[0].split("<")[0]+": "+le.message;if(!ct.console)throw new Error(ie);ct.console.error(ie,le),ct.alert&&alert(ie)}},b.foo.bar=b,b.foo},va=function(b,V){var ie,le,pe,Se,Ce,ze,f,T,M;if(pe=(V=V||{}).sourceEncoding||"Unicode",Ce=V.outputEncoding,(V.autoencode||Ce)&&Bt[xt].metadata&&Bt[xt].metadata[pe]&&Bt[xt].metadata[pe].encoding&&(Se=Bt[xt].metadata[pe].encoding,!Ce&&Bt[xt].encoding&&(Ce=Bt[xt].encoding),!Ce&&Se.codePages&&(Ce=Se.codePages[0]),typeof Ce=="string"&&(Ce=Se[Ce]),Ce)){for(f=!1,ze=[],ie=0,le=b.length;ie<le;ie++)(T=Ce[b.charCodeAt(ie)])?ze.push(String.fromCharCode(T)):ze.push(b[ie]),ze[ie].charCodeAt(0)>>8&&(f=!0);b=ze.join("")}for(ie=b.length;f===void 0&&ie!==0;)b.charCodeAt(ie-1)>>8&&(f=!0),ie--;if(!f)return b;for(ze=V.noBOM?[]:[254,255],ie=0,le=b.length;ie<le;ie++){if((M=(T=b.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ze.push(M),ze.push(T-(M<<8))}return String.fromCharCode.apply(void 0,ze)},Tn=p.__private__.pdfEscape=p.pdfEscape=function(b,V){return va(b,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Hr=p.__private__.beginPage=function(b){Ee[++on]=[],it[on]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},tc(on),Ae(Ee[z])},xo=function(b,V){var ie,le,pe;switch(n=V||n,typeof b=="string"&&(ie=y(b.toLowerCase()),Array.isArray(ie)&&(le=ie[0],pe=ie[1])),Array.isArray(b)&&(le=b[0]*He,pe=b[1]*He),isNaN(le)&&(le=i[0],pe=i[1]),(le>14400||pe>14400)&&(tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),pe=Math.min(14400,pe)),i=[le,pe],n.substr(0,1)){case"l":pe>le&&(i=[pe,le]);break;case"p":le>pe&&(i=[pe,le])}Hr(i),oc(sc),oe(ur),cc!==0&&oe(cc+" J"),Ta!==0&&oe(Ta+" j"),jt.publish("addPage",{pageNumber:on})},ya=function(b){b>0&&b<=on&&(Ee.splice(b,1),it.splice(b,1),on--,z>on&&(z=on),this.setPage(z))},tc=function(b){b>0&&b<=on&&(z=b)},qt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ee.length-1},So=function(b,V,ie){var le,pe=void 0;return ie=ie||{},b=b!==void 0?b:Bt[xt].fontName,V=V!==void 0?V:Bt[xt].fontStyle,le=b.toLowerCase(),sn[le]!==void 0&&sn[le][V]!==void 0?pe=sn[le][V]:sn[b]!==void 0&&sn[b][V]!==void 0?pe=sn[b][V]:ie.disableWarning===!1&&tn.warn("Unable to look up font label for font '"+b+"', '"+V+"'. Refer to getFontList() for available fonts."),pe||ie.noFallback||(pe=sn.times[V])==null&&(pe=sn.times.normal),pe},Ao=p.__private__.putInfo=function(){var b=Ln(),V=function(le){return le};for(var ie in u!==null&&(V=fn.encryptor(b,0)),oe("<<"),oe("/Producer ("+Tn(V("jsPDF "+ot.version))+")"),at)at.hasOwnProperty(ie)&&at[ie]&&oe("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+Tn(V(at[ie]))+")");oe("/CreationDate ("+Tn(V(ae))+")"),oe(">>"),oe("endobj")},ds=p.__private__.putCatalog=function(b){var V=(b=b||{}).rootDictionaryObjId||us;switch(Ln(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+V+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+qe;ie.substr(ie.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+L(qe)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}ut&&oe("/PageMode /"+ut),jt.publish("putCatalog"),oe(">>"),oe("endobj")},nd=p.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(re+1)),oe("/Root "+re+" 0 R"),oe("/Info "+(re-1)+" 0 R"),u!==null&&oe("/Encrypt "+fn.oid+" 0 R"),oe("/ID [ <"+X+"> <"+X+"> ]"),oe(">>")},pu=p.__private__.putHeader=function(){oe("%PDF-"+_),oe("%")},rd=p.__private__.putXRef=function(){var b="0000000000";oe("xref"),oe("0 "+(re+1)),oe("0000000000 65535 f ");for(var V=1;V<=re;V++)typeof he[V]=="function"?oe((b+he[V]()).slice(-10)+" 00000 n "):he[V]!==void 0?oe((b+he[V]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},fs=p.__private__.buildDocument=function(){tt(),Ae(ve),jt.publish("buildDocument"),pu(),Vs(),Zl(),Jl(),u!==null&&td(),Ao(),ds();var b=_e;return rd(),nd(),oe("startxref"),oe(""+b),oe("%%EOF"),Ae(Ee[z]),ve.join(`
`)},wa=p.__private__.getBlob=function(b){return new Blob([Je(b)],{type:"application/pdf"})},_a=p.output=p.__private__.output=ii(function(b,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",b){case void 0:return fs();case"save":p.save(V.filename);break;case"arraybuffer":return Je(fs());case"blob":return wa(fs());case"bloburi":case"bloburl":if(ct.URL!==void 0&&typeof ct.URL.createObjectURL=="function")return ct.URL&&ct.URL.createObjectURL(wa(fs()))||void 0;tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",le=fs();try{ie=n5(le)}catch{ie=n5(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+V.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(pe=V.pdfObjectUrl,Se="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ze=ct.open();return ze!==null&&ze.document.write(Ce),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',T=ct.open();if(T!==null){T.document.write(f);var M=this;T.document.documentElement.querySelector("#pdfViewer").onload=function(){T.document.title=V.filename,T.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(M.output("bloburl"))}}return T}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var W='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',fe=ct.open();if(fe!==null&&(fe.document.write(W),fe.document.title=V.filename),fe||typeof safari>"u")return fe;break;case"datauri":case"dataurl":return ct.document.location.href=this.output("datauristring",V);default:return null}}),qs=function(b){return Array.isArray(Vi)===!0&&Vi.indexOf(b)>-1};switch(r){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=qs("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);He=r}var fn=null;me(),Y();var gu=function(b){return u!==null?fn.encryptor(b,0):function(V){return V}},nc=p.__private__.getPageInfo=p.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[b].objId,pageNumber:b,pageContext:it[b]}},ht=p.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in it)if(it[V].objId===b)break;return nc(V)},Hs=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:it[z].objId,pageNumber:z,pageContext:it[z]}};p.addPage=function(){return xo.apply(this,arguments),this},p.setPage=function(){return tc.apply(this,arguments),Ae.call(this,Ee[z]),this},p.insertPage=function(b){return this.addPage(),this.movePage(z,b),this},p.movePage=function(b,V){var ie,le;if(b>V){ie=Ee[b],le=it[b];for(var pe=b;pe>V;pe--)Ee[pe]=Ee[pe-1],it[pe]=it[pe-1];Ee[V]=ie,it[V]=le,this.setPage(V)}else if(b<V){ie=Ee[b],le=it[b];for(var Se=b;Se<V;Se++)Ee[Se]=Ee[Se+1],it[Se]=it[Se+1];Ee[V]=ie,it[V]=le,this.setPage(V)}return this},p.deletePage=function(){return ya.apply(this,arguments),this},p.__private__.text=p.text=function(b,V,ie,le,pe){var Se,Ce,ze,f,T,M,W,fe,be,Le=(le=le||{}).scope||this;if(typeof b=="number"&&typeof V=="number"&&(typeof ie=="string"||Array.isArray(ie))){var mt=ie;ie=V,V=b,b=mt}if(arguments[3]instanceof Ye?(S("The transform parameter of text() with a Matrix value"),be=pe):(ze=arguments[4],f=arguments[5],Yt(W=arguments[3])==="object"&&W!==null||(typeof ze=="string"&&(f=ze,ze=null),typeof W=="string"&&(f=W,W=null),typeof W=="number"&&(ze=W,W=null),le={flags:W,angle:ze,align:f})),isNaN(V)||isNaN(ie)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return Le;var Nt="",vt=!1,$t=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:Ut,Zt=Le.internal.scaleFactor;function ys(an){return an=an.split("	").join(Array(le.TabLen||9).join(" ")),Tn(an,W)}function hr(an){for(var ln,Dn=an.concat(),Jn=[],Lo=Dn.length;Lo--;)typeof(ln=Dn.shift())=="string"?Jn.push(ln):Array.isArray(an)&&(ln.length===1||ln[1]===void 0&&ln[2]===void 0)?Jn.push(ln[0]):Jn.push([ln[0],ln[1],ln[2]]);return Jn}function Ys(an,ln){var Dn;if(typeof an=="string")Dn=ln(an)[0];else if(Array.isArray(an)){for(var Jn,Lo,dd=an.concat(),Tu=[],Op=dd.length;Op--;)typeof(Jn=dd.shift())=="string"?Tu.push(ln(Jn)[0]):Array.isArray(Jn)&&typeof Jn[0]=="string"&&(Lo=ln(Jn[0],Jn[1],Jn[2]),Tu.push([Lo[0],Lo[1],Lo[2]]));Dn=Tu}return Dn}var Qs=!1,sd=!0;if(typeof b=="string")Qs=!0;else if(Array.isArray(b)){var od=b.concat();Ce=[];for(var _u,dr=od.length;dr--;)(typeof(_u=od.shift())!="string"||Array.isArray(_u)&&typeof _u[0]!="string")&&(sd=!1);Qs=sd}if(Qs===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var bu=Ve/Le.internal.scaleFactor,xu=bu*($t-1);switch(le.baseline){case"bottom":ie-=xu;break;case"top":ie+=bu-xu;break;case"hanging":ie+=bu-2*xu;break;case"middle":ie+=bu/2-xu}if((M=le.maxWidth||0)>0&&(typeof b=="string"?b=Le.splitTextToSize(b,M):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(an,ln){return an.concat(Le.splitTextToSize(ln,M))},[]))),Se={text:b,x:V,y:ie,options:le,mutex:{pdfEscape:Tn,activeFontKey:xt,fonts:Bt,activeFontSize:Ve}},jt.publish("preProcessText",Se),b=Se.text,ze=(le=Se.options).angle,!(be instanceof Ye)&&ze&&typeof ze=="number"){ze*=Math.PI/180,le.rotationDirection===0&&(ze=-ze),A===w.ADVANCED&&(ze=-ze);var Su=Math.cos(ze),ad=Math.sin(ze);be=new Ye(Su,ad,-ad,Su,0,0)}else ze&&ze instanceof Ye&&(be=ze);A!==w.ADVANCED||be||(be=xr),(T=le.charSpace||No)!==void 0&&(Nt+=I(P(T))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fe=le.horizontalScale)!==void 0&&(Nt+=I(100*fe)+` Tz
`),le.lang;var si=-1,I1=le.renderingMode!==void 0?le.renderingMode:le.stroke,ld=Le.internal.getCurrentPageInfo().pageContext;switch(I1){case 0:case!1:case"fill":si=0;break;case 1:case!0:case"stroke":si=1;break;case 2:case"fillThenStroke":si=2;break;case 3:case"invisible":si=3;break;case 4:case"fillAndAddForClipping":si=4;break;case 5:case"strokeAndAddPathForClipping":si=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":si=6;break;case 7:case"addToPathForClipping":si=7}var Rp=ld.usedRenderingMode!==void 0?ld.usedRenderingMode:-1;si!==-1?Nt+=si+` Tr
`:Rp!==-1&&(Nt+=`0 Tr
`),si!==-1&&(ld.usedRenderingMode=si),f=le.align||"left";var zi,Au=Ve*$t,jp=Le.internal.pageSize.getWidth(),Dp=Bt[xt];T=le.charSpace||No,M=le.maxWidth||0,W=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Ra=[],uc=function(an){return Le.getStringUnitWidth(an,{font:Dp,charSpace:T,fontSize:Ve,doKerning:!1})*Ve/Zt};if(Object.prototype.toString.call(b)==="[object Array]"){var oi;Ce=hr(b),f!=="left"&&(zi=Ce.map(uc));var Wr,ja=0;if(f==="right"){V-=zi[0],b=[],dr=Ce.length;for(var Po=0;Po<dr;Po++)Po===0?(Wr=Ai(V),oi=Xn(ie)):(Wr=P(ja-zi[Po]),oi=-Au),b.push([Ce[Po],Wr,oi]),ja=zi[Po]}else if(f==="center"){V-=zi[0]/2,b=[],dr=Ce.length;for(var Io=0;Io<dr;Io++)Io===0?(Wr=Ai(V),oi=Xn(ie)):(Wr=P((ja-zi[Io])/2),oi=-Au),b.push([Ce[Io],Wr,oi]),ja=zi[Io]}else if(f==="left"){b=[],dr=Ce.length;for(var Eu=0;Eu<dr;Eu++)b.push(Ce[Eu])}else if(f==="justify"&&Dp.encoding==="Identity-H"){b=[],dr=Ce.length,M=M!==0?M:jp;for(var Co=0,jn=0;jn<dr;jn++)if(oi=jn===0?Xn(ie):-Au,Wr=jn===0?Ai(V):Co,jn<dr-1){var cd=P((M-zi[jn])/(Ce[jn].split(" ").length-1)),Gr=Ce[jn].split(" ");b.push([Gr[0]+" ",Wr,oi]),Co=0;for(var Ui=1;Ui<Gr.length;Ui++){var Nu=(uc(Gr[Ui-1]+" "+Gr[Ui])-uc(Gr[Ui]))*Zt+cd;Ui==Gr.length-1?b.push([Gr[Ui],Nu,0]):b.push([Gr[Ui]+" ",Nu,0]),Co-=Nu}}else b.push([Ce[jn],Wr,oi]);b.push(["",Co,0])}else{if(f!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],dr=Ce.length,M=M!==0?M:jp,jn=0;jn<dr;jn++)oi=jn===0?Xn(ie):-Au,Wr=jn===0?Ai(V):0,jn<dr-1?Ra.push(I(P((M-zi[jn])/(Ce[jn].split(" ").length-1)))):Ra.push(0),b.push([Ce[jn],Wr,oi])}}var Mp=typeof le.R2L=="boolean"?le.R2L:et;Mp===!0&&(b=Ys(b,function(an,ln,Dn){return[an.split("").reverse().join(""),ln,Dn]})),Se={text:b,x:V,y:ie,options:le,mutex:{pdfEscape:Tn,activeFontKey:xt,fonts:Bt,activeFontSize:Ve}},jt.publish("postProcessText",Se),b=Se.text,vt=Se.mutex.isHex||!1;var ud=Bt[xt].encoding;ud!=="WinAnsiEncoding"&&ud!=="StandardEncoding"||(b=Ys(b,function(an,ln,Dn){return[ys(an),ln,Dn]})),Ce=hr(b),b=[];for(var hc,dc,Da,fc=0,ku=1,pc=Array.isArray(Ce[0])?ku:fc,Ma="",hd=function(an,ln,Dn){var Jn="";return Dn instanceof Ye?(Dn=typeof le.angle=="number"?ni(Dn,new Ye(1,0,0,1,an,ln)):ni(new Ye(1,0,0,1,an,ln),Dn),A===w.ADVANCED&&(Dn=ni(new Ye(1,0,0,-1,0,0),Dn)),Jn=Dn.join(" ")+` Tm
`):Jn=I(an)+" "+I(ln)+` Td
`,Jn},$i=0;$i<Ce.length;$i++){switch(Ma="",pc){case ku:Da=(vt?"<":"(")+Ce[$i][0]+(vt?">":")"),hc=parseFloat(Ce[$i][1]),dc=parseFloat(Ce[$i][2]);break;case fc:Da=(vt?"<":"(")+Ce[$i]+(vt?">":")"),hc=Ai(V),dc=Xn(ie)}Ra!==void 0&&Ra[$i]!==void 0&&(Ma=Ra[$i]+` Tw
`),$i===0?b.push(Ma+hd(hc,dc,be)+Da):pc===fc?b.push(Ma+Da):pc===ku&&b.push(Ma+hd(hc,dc,be)+Da)}b=pc===fc?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var qi=`BT
/`;return qi+=xt+" "+Ve+` Tf
`,qi+=I(Ve*$t)+` TL
`,qi+=ms+`
`,qi+=Nt,qi+=b,oe(qi+="ET"),g[xt]=!0,Le};var id=p.__private__.clip=p.clip=function(b){return oe(b==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return id("evenodd")},p.__private__.discardPath=p.discardPath=function(){return oe("n"),this};var Bi=p.__private__.isValidStyle=function(b){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(b){return Bi(b)&&(c=b),this};var mu=p.__private__.getStyle=p.getStyle=function(b){var V=c;switch(b){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=b}return V},xi=p.close=function(){return oe("h"),this};p.stroke=function(){return oe("S"),this},p.fill=function(b){return ba("f",b),this},p.fillEvenOdd=function(b){return ba("f*",b),this},p.fillStroke=function(b){return ba("B",b),this},p.fillStrokeEvenOdd=function(b){return ba("B*",b),this};var ba=function(b,V){Yt(V)==="object"?Sa(V,b):oe(b)},rc=function(b){b===null||A===w.ADVANCED&&b===void 0||(b=mu(b),oe(b))};function xa(b,V,ie,le,pe){var Se=new Rc(V||this.boundingBox,ie||this.xStep,le||this.yStep,this.gState,pe||this.matrix);Se.stream=this.stream;var Ce=b+"$$"+this.cloneIndex+++"$$";return $n(Ce,Se),Se}var Sa=function(b,V){var ie=Fs[b.key],le=Ct[ie];if(le instanceof al)oe("q"),oe(vu(V)),le.gState&&p.setGState(le.gState),oe(b.matrix.toString()+" cm"),oe("/"+ie+" sh"),oe("Q");else if(le instanceof Rc){var pe=new Ye(1,0,0,-1,0,Ar());b.matrix&&(pe=pe.multiply(b.matrix||xr),ie=xa.call(le,b.key,b.boundingBox,b.xStep,b.yStep,pe).id),oe("q"),oe("/Pattern cs"),oe("/"+ie+" scn"),le.gState&&p.setGState(le.gState),oe(V),oe("Q")}},vu=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ps=p.moveTo=function(b,V){return oe(I(P(b))+" "+I(Q(V))+" m"),this},Si=p.lineTo=function(b,V){return oe(I(P(b))+" "+I(Q(V))+" l"),this},gs=p.curveTo=function(b,V,ie,le,pe,Se){return oe([I(P(b)),I(Q(V)),I(P(ie)),I(Q(le)),I(P(pe)),I(Q(Se)),"c"].join(" ")),this};p.__private__.line=p.line=function(b,V,ie,le,pe){if(isNaN(b)||isNaN(V)||isNaN(ie)||isNaN(le)||!Bi(pe))throw new Error("Invalid arguments passed to jsPDF.line");return A===w.COMPAT?this.lines([[ie-b,le-V]],b,V,[1,1],pe||"S"):this.lines([[ie-b,le-V]],b,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(b,V,ie,le,pe,Se){var Ce,ze,f,T,M,W,fe,be,Le,mt,Nt,vt;if(typeof b=="number"&&(vt=ie,ie=V,V=b,b=vt),le=le||[1,1],Se=Se||!1,isNaN(V)||isNaN(ie)||!Array.isArray(b)||!Array.isArray(le)||!Bi(pe)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ps(V,ie),Ce=le[0],ze=le[1],T=b.length,mt=V,Nt=ie,f=0;f<T;f++)(M=b[f]).length===2?(mt=M[0]*Ce+mt,Nt=M[1]*ze+Nt,Si(mt,Nt)):(W=M[0]*Ce+mt,fe=M[1]*ze+Nt,be=M[2]*Ce+mt,Le=M[3]*ze+Nt,mt=M[4]*Ce+mt,Nt=M[5]*ze+Nt,gs(W,fe,be,Le,mt,Nt));return Se&&xi(),rc(pe),this},p.path=function(b){for(var V=0;V<b.length;V++){var ie=b[V],le=ie.c;switch(ie.op){case"m":ps(le[0],le[1]);break;case"l":Si(le[0],le[1]);break;case"c":gs.apply(this,le);break;case"h":xi()}}return this},p.__private__.rect=p.rect=function(b,V,ie,le,pe){if(isNaN(b)||isNaN(V)||isNaN(ie)||isNaN(le)||!Bi(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return A===w.COMPAT&&(le=-le),oe([I(P(b)),I(Q(V)),I(P(ie)),I(P(le)),"re"].join(" ")),rc(pe),this},p.__private__.triangle=p.triangle=function(b,V,ie,le,pe,Se,Ce){if(isNaN(b)||isNaN(V)||isNaN(ie)||isNaN(le)||isNaN(pe)||isNaN(Se)||!Bi(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-b,le-V],[pe-ie,Se-le],[b-pe,V-Se]],b,V,[1,1],Ce,!0),this},p.__private__.roundedRect=p.roundedRect=function(b,V,ie,le,pe,Se,Ce){if(isNaN(b)||isNaN(V)||isNaN(ie)||isNaN(le)||isNaN(pe)||isNaN(Se)||!Bi(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*ie),Se=Math.min(Se,.5*le),this.lines([[ie-2*pe,0],[pe*ze,0,pe,Se-Se*ze,pe,Se],[0,le-2*Se],[0,Se*ze,-pe*ze,Se,-pe,Se],[2*pe-ie,0],[-pe*ze,0,-pe,-Se*ze,-pe,-Se],[0,2*Se-le],[0,-Se*ze,pe*ze,-Se,pe,-Se]],b+pe,V,[1,1],Ce,!0),this},p.__private__.ellipse=p.ellipse=function(b,V,ie,le,pe){if(isNaN(b)||isNaN(V)||isNaN(ie)||isNaN(le)||!Bi(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*ie,Ce=4/3*(Math.SQRT2-1)*le;return ps(b+ie,V),gs(b+ie,V-Ce,b+Se,V-le,b,V-le),gs(b-Se,V-le,b-ie,V-Ce,b-ie,V),gs(b-ie,V+Ce,b-Se,V+le,b,V+le),gs(b+Se,V+le,b+ie,V+Ce,b+ie,V),rc(pe),this},p.__private__.circle=p.circle=function(b,V,ie,le){if(isNaN(b)||isNaN(V)||isNaN(ie)||!Bi(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,V,ie,ie,le)},p.setFont=function(b,V,ie){return ie&&(V=U(V,ie)),xt=So(b,V,{disableWarning:!1}),this};var ic=p.__private__.getFont=p.getFont=function(){return Bt[So.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var b,V,ie={};for(b in sn)if(sn.hasOwnProperty(b))for(V in ie[b]=[],sn[b])sn[b].hasOwnProperty(V)&&ie[b].push(V);return ie},p.addFont=function(b,V,ie,le,pe){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(ie=U(ie,le)),pe=pe||"Identity-H",ec.call(this,b,V,ie,pe)};var Ut,sc=t.lineWidth||.200025,Aa=p.__private__.getLineWidth=p.getLineWidth=function(){return sc},oc=p.__private__.setLineWidth=p.setLineWidth=function(b){return sc=b,oe(I(P(b))+" w"),this};p.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(b,V){if(b=b||[],V=V||0,isNaN(V)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(ie){return I(P(ie))}).join(" "),V=I(P(V)),oe("["+b+"] "+V+" d"),this};var ac=p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*Ut};p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*Ut};var lc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(Ut=b),this},Eo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ut};lc(t.lineHeight);var Ai=p.__private__.getHorizontalCoordinate=function(b){return P(b)},Xn=p.__private__.getVerticalCoordinate=function(b){return A===w.ADVANCED?b:it[z].mediaBox.topRightY-it[z].mediaBox.bottomLeftY-P(b)},yu=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(b){return I(Ai(b))},Ws=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(b){return I(Xn(b))},ur=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ri(ur)},p.__private__.setStrokeColor=p.setDrawColor=function(b,V,ie,le){return ur=$r({ch1:b,ch2:V,ch3:ie,ch4:le,pdfColorType:"draw",precision:2}),oe(ur),this};var Ea=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ri(Ea)},p.__private__.setFillColor=p.setFillColor=function(b,V,ie,le){return Ea=$r({ch1:b,ch2:V,ch3:ie,ch4:le,pdfColorType:"fill",precision:2}),oe(Ea),this};var ms=t.textColor||"0 g",Na=p.__private__.getTextColor=p.getTextColor=function(){return ri(ms)};p.__private__.setTextColor=p.setTextColor=function(b,V,ie,le){return ms=$r({ch1:b,ch2:V,ch3:ie,ch4:le,pdfColorType:"text",precision:3}),this};var No=t.charSpace,ka=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(No||0)};p.__private__.setCharSpace=p.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return No=b,this};var cc=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(b){var V=p.CapJoinStyles[b];if(V===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cc=V,oe(V+" J"),this};var Ta=0;p.__private__.setLineJoin=p.setLineJoin=function(b){var V=p.CapJoinStyles[b];if(V===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ta=V,oe(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(I(P(b))+" M"),this},p.GState=ap,p.setGState=function(b){(b=typeof b=="string"?hn[cr[b]]:Gs(null,b)).equals(wi)||(oe("/"+b.id+" gs"),wi=b)};var Gs=function(b,V){if(!b||!cr[b]){var ie=!1;for(var le in hn)if(hn.hasOwnProperty(le)&&hn[le].equals(V)){ie=!0;break}if(ie)V=hn[le];else{var pe="GS"+(Object.keys(hn).length+1).toString(10);hn[pe]=V,V.id=pe}return b&&(cr[b]=V.id),jt.publish("addGState",V),V}};p.addGState=function(b,V){return Gs(b,V),this},p.saveGraphicsState=function(){return oe("q"),Fi.push({key:xt,size:Ve,color:ms}),this},p.restoreGraphicsState=function(){oe("Q");var b=Fi.pop();return xt=b.key,Ve=b.size,ms=b.color,wi=null,this},p.setCurrentTransformationMatrix=function(b){return oe(b.toString()+" cm"),this},p.comment=function(b){return oe("#"+b),this};var ko=function(b,V){var ie=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(Se){isNaN(Se)||(ie=parseFloat(Se))}});var le=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Se){isNaN(Se)||(le=parseFloat(Se))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(Se){pe=Se.toString()}}),this},Pa=function(b,V,ie,le){ko.call(this,b,V),this.type="rect";var pe=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Ce){isNaN(Ce)||(pe=parseFloat(Ce))}});var Se=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Ce){isNaN(Ce)||(Se=parseFloat(Ce))}}),this},To=function(){this.page=on,this.currentPage=z,this.pages=Ee.slice(0),this.pagesContext=it.slice(0),this.x=Nn,this.y=Pt,this.matrix=ti,this.width=Ks(z),this.height=Ar(z),this.outputDestination=Me,this.id="",this.objectNumber=-1};To.prototype.restore=function(){on=this.page,z=this.currentPage,it=this.pagesContext,Ee=this.pages,Nn=this.x,Pt=this.y,ti=this.matrix,Ca(z,this.width),La(z,this.height),Me=this.outputDestination};var Ia=function(b,V,ie,le,pe){_i.push(new To),on=z=0,Ee=[],Nn=b,Pt=V,ti=pe,Hr([ie,le])},wu=function(b){if(br[b])_i.pop().restore();else{var V=new To,ie="Xo"+(Object.keys(Un).length+1).toString(10);V.id=ie,br[b]=ie,Un[ie]=V,jt.publish("addFormObject",V),_i.pop().restore()}};for(var vs in p.beginFormObject=function(b,V,ie,le,pe){return Ia(b,V,ie,le,pe),this},p.endFormObject=function(b){return wu(b),this},p.doFormObject=function(b,V){var ie=Un[br[b]];return oe("q"),oe(V.toString()+" cm"),oe("/"+ie.id+" Do"),oe("Q"),this},p.getFormObject=function(b){var V=Un[br[b]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(b,V){return b=b||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Ac(wa(fs()),b),typeof Ac.unload=="function"&&ct.setTimeout&&setTimeout(Ac.unload,911),this):new Promise(function(ie,le){try{var pe=Ac(wa(fs()),b);typeof Ac.unload=="function"&&ct.setTimeout&&setTimeout(Ac.unload,911),ie(pe)}catch(Se){le(Se.message)}})},ot.API)ot.API.hasOwnProperty(vs)&&(vs==="events"&&ot.API.events.length?function(b,V){var ie,le,pe;for(pe=V.length-1;pe!==-1;pe--)ie=V[pe][0],le=V[pe][1],b.subscribe.apply(b,[ie].concat(typeof le=="function"?[le]:le))}(jt,ot.API.events):p[vs]=ot.API[vs]);var Ks=p.getPageWidth=function(b){return(it[b=b||z].mediaBox.topRightX-it[b].mediaBox.bottomLeftX)/He},Ca=p.setPageWidth=function(b,V){it[b].mediaBox.topRightX=V*He+it[b].mediaBox.bottomLeftX},Ar=p.getPageHeight=function(b){return(it[b=b||z].mediaBox.topRightY-it[b].mediaBox.bottomLeftY)/He},La=p.setPageHeight=function(b,V){it[b].mediaBox.topRightY=V*He+it[b].mediaBox.bottomLeftY};return p.internal={pdfEscape:Tn,getStyle:mu,getFont:ic,getFontSize:Ue,getCharSpace:ka,getTextColor:Na,getLineHeight:ac,getLineHeightFactor:Eo,getLineWidth:Aa,write:pt,getHorizontalCoordinate:Ai,getVerticalCoordinate:Xn,getCoordinateString:yu,getVerticalCoordinateString:Ws,collections:{},newObject:Ln,newAdditionalObject:ga,newObjectDeferred:kn,newObjectDeferredBegin:qn,getFilters:qr,putStream:Rn,events:jt,scaleFactor:He,pageSize:{getWidth:function(){return Ks(z)},setWidth:function(b){Ca(z,b)},getHeight:function(){return Ar(z)},setHeight:function(b){La(z,b)}},encryptionOptions:u,encryption:fn,getEncryptor:gu,output:_a,getNumberOfPages:qt,pages:Ee,out:oe,f2:L,f3:k,getPageInfo:nc,getPageInfoByObjId:ht,getCurrentPageInfo:Hs,getPDFVersion:x,Point:ko,Rectangle:Pa,Matrix:Ye,hasHotfix:qs},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ks(z)},set:function(b){Ca(z,b)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ar(z)},set:function(b){La(z,b)},enumerable:!0,configurable:!0}),fu.call(p,De),xt="F1",xo(i,n),jt.publish("initialized"),p}zu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},zu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},zu.prototype.processOwnerPassword=function(t,e){return i5(r5(e).substr(0,5),t)},zu.prototype.encryptor=function(t,e){var n=r5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return i5(n,r)}},ap.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Yt(t)!==Yt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ot.API={events:[]},ot.version="2.5.2";var In=ot.API,A_=1,lu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Du=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},yt=function(t){return t.toFixed(2)},Ka=function(t){return t.toFixed(5)};In.__acroform__={};var yi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},l3=function(t){return t*A_},to=function(t){var e=new zP,n=Xe.internal.getHeight(t)||0,r=Xe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(yt(r)),Number(yt(n))],e},Nq=In.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},kq=In.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Tq=In.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Fn=In.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Tq(t,e-1)},Vn=In.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Nq(t,e-1)},Bn=In.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kq(t,e-1)},Pq=In.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(yt(l.lowerLeft_X)),Number(yt(l.lowerLeft_Y)),Number(yt(l.upperRight_X)),Number(yt(l.upperRight_Y))]},Iq=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=s5(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+yt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=to(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},s5=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(k){return k.split(`
`)}):i.map(function(k){return[k]});var s=n,o=Xe.internal.getHeight(t)||0;o=o<0?-o:o;var a=Xe.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(k,P,j){if(k+1<i.length){var Q=P+" "+i[k+1][0];return Wg(Q,t,j).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,d=Wg("3",t,s).height,g=t.multiline?o-s:(o-d)/2,p=g+=2,_=0,x=0,N=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Wg(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",w=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var D=!1;if(i[A].length!==1&&N!==i[A].length-1){if((d+2)*(w+2)+2>o)continue e;y+=i[A][N],D=!0,x=A,A--}else{y=(y+=i[A][N]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var F=parseInt(A),U=l(F,y,s),I=A>=i.length-1;if(U&&!I){y+=" ",N=0;continue}if(U||I){if(I)x=F;else if(t.multiline&&(d+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(w+2)+2>o)continue e;x=F}}for(var S="",C=_;C<=x;C++){var L=i[C];if(t.multiline){if(C===x){S+=L[N]+" ",N=(N+1)%L.length;continue}if(C===_){S+=L[L.length-1]+" ";continue}}S+=L[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=Wg(S,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;case"left":default:c=2}e+=yt(c)+" "+yt(p)+` Td
`,e+="("+lu(S)+`) Tj
`,e+=-yt(c)+` 0 Td
`,p=-(s+2),u=0,_=D?x:x+1,w++,y=""}break}return r.text=e,r.fontSize=s,r},Wg=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Cq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Lq=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Rq=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Yt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},jq=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ms.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Cq)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");A_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new UP,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Lq(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Pq(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Xe.createDefaultAppearanceStream(a),Yt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=Iq(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var _=p[o];typeof _=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&Rq(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},BP=In.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Yt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+lu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sy=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+lu(r(t))+")"},oo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};oo.prototype.toString=function(){return this.objId+" 0 R"},oo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},oo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:BP(i,this.objId,this.scope)}):i instanceof oo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var zP=function(){oo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};yi(zP,oo);var UP=function(){oo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+lu(n(t))+")"}},set:function(n){t=n}})};yi(UP,oo);var Ms=function t(){oo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fn(e,3)},set:function(y){y?this.F=Vn(e,3):this.F=Bn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof T0)return;s="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+lu(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/A_:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof T0||this instanceof Ll))return sy(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof er?g:sy(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof er?y:y.substr(0,1)==="("?Du(y.substr(1,y.length-2)):Du(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof er?Du(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof er?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof er?p:sy(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof er?y:y.substr(0,1)==="("?Du(y.substr(1,y.length-2)):Du(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof er?Du(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof er?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(y){y=!!y,x=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(y){_=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,1)},set:function(y){y?this.Ff=Vn(this.Ff,1):this.Ff=Bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,2)},set:function(y){y?this.Ff=Vn(this.Ff,2):this.Ff=Bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,3)},set:function(y){y?this.Ff=Vn(this.Ff,3):this.Ff=Bn(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');N=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(N){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};yi(Ms,oo);var Vc=function(){Ms.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BP(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,18)},set:function(n){n?this.Ff=Vn(this.Ff,18):this.Ff=Bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Vn(this.Ff,19):this.Ff=Bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,20)},set:function(n){n?(this.Ff=Vn(this.Ff,20),e.sort()):this.Ff=Bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,22)},set:function(n){n?this.Ff=Vn(this.Ff,22):this.Ff=Bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(n){n?this.Ff=Vn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,27)},set:function(n){n?this.Ff=Vn(this.Ff,27):this.Ff=Bn(this.Ff,27)}}),this.hasAppearanceStream=!1};yi(Vc,Ms);var Bc=function(){Vc.call(this),this.fontName="helvetica",this.combo=!1};yi(Bc,Vc);var zc=function(){Bc.call(this),this.combo=!0};yi(zc,Bc);var _f=function(){zc.call(this),this.edit=!0};yi(_f,zc);var er=function(){Ms.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,15)},set:function(n){n?this.Ff=Vn(this.Ff,15):this.Ff=Bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,16)},set:function(n){n?this.Ff=Vn(this.Ff,16):this.Ff=Bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,17)},set:function(n){n?this.Ff=Vn(this.Ff,17):this.Ff=Bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(n){n?this.Ff=Vn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+lu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Yt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};yi(er,Ms);var bf=function(){er.call(this),this.pushButton=!0};yi(bf,er);var Uc=function(){er.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};yi(Uc,er);var T0=function(){var t,e;Ms.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+lu(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Yt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yi(T0,Ms),Uc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Uc.prototype.createOption=function(t){var e=new T0;return e.Parent=this,e.optionName=t,this.Kids.push(e),Dq.call(this.scope,e),e};var xf=function(){er.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};yi(xf,er);var Ll=function(){Ms.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,13)},set:function(e){e?this.Ff=Vn(this.Ff,13):this.Ff=Bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,21)},set:function(e){e?this.Ff=Vn(this.Ff,21):this.Ff=Bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(e){e?this.Ff=Vn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,24)},set:function(e){e?this.Ff=Vn(this.Ff,24):this.Ff=Bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,25)},set:function(e){e?this.Ff=Vn(this.Ff,25):this.Ff=Bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(e){e?this.Ff=Vn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yi(Ll,Ms);var Sf=function(){Ll.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,14)},set:function(t){t?this.Ff=Vn(this.Ff,14):this.Ff=Bn(this.Ff,14)}}),this.password=!0};yi(Sf,Ll);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=s5(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+yt(Xe.internal.getWidth(t))+" "+yt(Xe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+yt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=to(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Xe.internal.getHeight(t),o=Xe.internal.getWidth(t),a=s5(t,t.caption);return i.push("1 g"),i.push("0 0 "+yt(o)+" "+yt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+yt(o-1)+" "+yt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+yt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(Xe.internal.getWidth(t))+" "+yt(Xe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Circle.YesNormal,e.D[t]=Xe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=to(t);e.scope=t.scope;var n=[],r=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Xe.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ka(Xe.internal.getWidth(t)/2)+" "+Ka(Xe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[],r=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xe.internal.Bezier_C).toFixed(5)),o=Number((r*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ka(Xe.internal.getWidth(t)/2)+" "+Ka(Xe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ka(Xe.internal.getWidth(t)/2)+" "+Ka(Xe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[],r=Xe.internal.getWidth(t)<=Xe.internal.getHeight(t)?Xe.internal.getWidth(t)/4:Xe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Xe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ka(Xe.internal.getWidth(t)/2)+" "+Ka(Xe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Xe.RadioButton.Cross.YesNormal,e.D[t]=Xe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=to(t);e.scope=t.scope;var n=[],r=Xe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+yt(Xe.internal.getWidth(t)-2)+" "+yt(Xe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(yt(r.x1.x)+" "+yt(r.x1.y)+" m"),n.push(yt(r.x2.x)+" "+yt(r.x2.y)+" l"),n.push(yt(r.x4.x)+" "+yt(r.x4.y)+" m"),n.push(yt(r.x3.x)+" "+yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=to(t);e.scope=t.scope;var n=Xe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+yt(Xe.internal.getWidth(t))+" "+yt(Xe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+yt(Xe.internal.getWidth(t)-2)+" "+yt(Xe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(yt(n.x1.x)+" "+yt(n.x1.y)+" m"),r.push(yt(n.x2.x)+" "+yt(n.x2.y)+" l"),r.push(yt(n.x4.x)+" "+yt(n.x4.y)+" m"),r.push(yt(n.x3.x)+" "+yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=to(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+yt(Xe.internal.getWidth(t))+" "+yt(Xe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Xe.internal.getWidth(t),n=Xe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Xe.internal.getWidth=function(t){var e=0;return Yt(t)==="object"&&(e=l3(t.Rect[2])),e},Xe.internal.getHeight=function(t){var e=0;return Yt(t)==="object"&&(e=l3(t.Rect[3])),e};var Dq=In.addField=function(t){if(jq(this,t),!(t instanceof Ms))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};In.AcroFormChoiceField=Vc,In.AcroFormListBox=Bc,In.AcroFormComboBox=zc,In.AcroFormEditBox=_f,In.AcroFormButton=er,In.AcroFormPushButton=bf,In.AcroFormRadioButton=Uc,In.AcroFormCheckBox=xf,In.AcroFormTextField=Ll,In.AcroFormPasswordField=Sf,In.AcroFormAppearance=Xe,In.AcroForm={ChoiceField:Vc,ListBox:Bc,ComboBox:zc,EditBox:_f,Button:er,PushButton:bf,RadioButton:Uc,CheckBox:xf,TextField:Ll,PasswordField:Sf,Appearance:Xe},ot.AcroForm={ChoiceField:Vc,ListBox:Bc,ComboBox:zc,EditBox:_f,Button:er,PushButton:bf,RadioButton:Uc,CheckBox:xf,TextField:Ll,PasswordField:Sf,Appearance:Xe};var Mq=ot.AcroForm;function $P(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(k,P){var j,Q,ae,X,Z,Y=e;if((P=P||e)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(U(k))for(Z in n)for(ae=n[Z],j=0;j<ae.length;j+=1){for(X=!0,Q=0;Q<ae[j].length;Q+=1)if(ae[j][Q]!==void 0&&ae[j][Q]!==k[Q]){X=!1;break}if(X===!0){Y=Z;break}}else for(Z in n)for(ae=n[Z],j=0;j<ae.length;j+=1){for(X=!0,Q=0;Q<ae[j].length;Q+=1)if(ae[j][Q]!==void 0&&ae[j][Q]!==k.charCodeAt(Q)){X=!1;break}if(X===!0){Y=Z;break}}return Y===e&&P!==e&&(Y=P),Y},i=function k(P){for(var j=this.internal.write,Q=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:P.width}),X.push({key:"Height",value:P.height}),P.colorSpace===N.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===N.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var Z="",Y=0,ee=P.transparency.length;Y<ee;Y++)Z+=P.transparency[Y]+" "+P.transparency[Y]+" ";X.push({key:"Mask",value:"["+Z+"]"})}P.sMask!==void 0&&X.push({key:"SMask",value:P.objectId+1+" 0 R"});var se=P.filter!==void 0?["/"+P.filter]:void 0;if(Q({data:P.data,additionalKeyValues:X,alreadyAppliedFilters:se,objectId:P.objectId}),j("endobj"),"sMask"in P&&P.sMask!==void 0){var me="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,O={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:me,data:P.sMask};"filter"in P&&(O.filter=P.filter),k.call(this,O)}if(P.colorSpace===N.INDEXED){var z=this.internal.newObject();Q({data:S(new Uint8Array(P.palette)),objectId:z}),j("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var P in k)i.call(this,k[P])},o=function(){var k,P=this.internal.collections.addImage_images,j=this.internal.write;for(var Q in P)j("/I"+(k=P[Q]).index,k.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var k=this.internal.collections.addImage_images;return a.call(this),k},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(k){return typeof t["process"+k.toUpperCase()]=="function"},d=function(k){return Yt(k)==="object"&&k.nodeType===1},g=function(k,P){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var j=""+k.getAttribute("src");if(j.indexOf("data:image/")===0)return wf(unescape(j).split("base64,").pop());var Q=t.loadFile(j,!0);if(Q!==void 0)return Q}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ae;switch(P){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return wf(k.toDataURL(ae,1).split("base64,").pop())}},p=function(k){var P=this.internal.collections.addImage_images;if(P){for(var j in P)if(k===P[j].alias)return P[j]}},_=function(k,P,j){return k||P||(k=-96,P=-96),k<0&&(k=-1*j.width*72/k/this.internal.scaleFactor),P<0&&(P=-1*j.height*72/P/this.internal.scaleFactor),k===0&&(k=P*j.width/j.height),P===0&&(P=k*j.height/j.width),[k,P]},x=function(k,P,j,Q,ae,X){var Z=_.call(this,j,Q,ae),Y=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,se=l.call(this);if(j=Z[0],Q=Z[1],se[ae.index]=ae,X){X*=Math.PI/180;var me=Math.cos(X),O=Math.sin(X),z=function(J){return J.toFixed(4)},q=[z(me),z(O),z(-1*O),z(me),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,Y(k),ee(P+Q),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([Y(j),"0","0",Y(Q),"0","0","cm"].join(" "))):this.internal.write([Y(j),"0","0",Y(Q),Y(k),ee(P+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(k){var P,j,Q=0;if(typeof k=="string")for(j=k.length,P=0;P<j;P++)Q=(Q<<5)-Q+k.charCodeAt(P),Q|=0;else if(U(k))for(j=k.byteLength/2,P=0;P<j;P++)Q=(Q<<5)-Q+k[P],Q|=0;return Q},A=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var P=!0;return k.length===0&&(P=!1),k.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(P=!1),P},D=t.__addimage__.extractImageFromDataUrl=function(k){var P=(k=k||"").split("base64,"),j=null;if(P.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(Q)&&(j={mimeType:Q[1],charset:Q[2],data:P[1]})}return j},F=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(k){return F()&&k instanceof ArrayBuffer};var U=t.__addimage__.isArrayBufferView=function(k){return F()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(k){for(var P=k.length,j=new Uint8Array(P),Q=0;Q<P;Q++)j[Q]=k.charCodeAt(Q);return j},S=t.__addimage__.arrayBufferToBinaryString=function(k){for(var P="",j=U(k)?k:new Uint8Array(k),Q=0;Q<j.length;Q+=8192)P+=String.fromCharCode.apply(null,j.subarray(Q,Q+8192));return P};t.addImage=function(){var k,P,j,Q,ae,X,Z,Y,ee;if(typeof arguments[1]=="number"?(P=e,j=arguments[1],Q=arguments[2],ae=arguments[3],X=arguments[4],Z=arguments[5],Y=arguments[6],ee=arguments[7]):(P=arguments[1],j=arguments[2],Q=arguments[3],ae=arguments[4],X=arguments[5],Z=arguments[6],Y=arguments[7],ee=arguments[8]),Yt(k=arguments[0])==="object"&&!d(k)&&"imageData"in k){var se=k;k=se.imageData,P=se.format||P||e,j=se.x||j||0,Q=se.y||Q||0,ae=se.w||se.width||ae,X=se.h||se.height||X,Z=se.alias||Z,Y=se.compression||Y,ee=se.rotation||se.angle||ee}var me=this.internal.getFilters();if(Y===void 0&&me.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(j)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var O=C.call(this,k,P,Z,Y);return x.call(this,j,Q,ae,X,O,ee),this};var C=function(k,P,j,Q){var ae,X,Z;if(typeof k=="string"&&r(k)===e){k=unescape(k);var Y=L(k,!1);(Y!==""||(Y=t.loadFile(k,!0))!==void 0)&&(k=Y)}if(d(k)&&(k=g(k,P)),P=r(k,P),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((Z=j)==null||Z.length===0)&&(j=function(ee){return typeof ee=="string"||U(ee)?w(ee):U(ee.data)?w(ee.data):null}(k)),(ae=p.call(this,j))||(F()&&(k instanceof Uint8Array||P==="RGBA"||(X=k,k=I(k))),ae=this["process"+P.toUpperCase()](k,c.call(this),j,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:y.NONE}(Q),X)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},L=t.__addimage__.convertBase64ToBinaryString=function(k,P){var j;P=typeof P!="boolean"||P;var Q,ae="";if(typeof k=="string"){Q=(j=D(k))!==null?j.data:k;try{ae=wf(Q)}catch(X){if(P)throw A(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};t.getImageProperties=function(k){var P,j,Q="";if(d(k)&&(k=g(k)),typeof k=="string"&&r(k)===e&&((Q=L(k,!1))===""&&(Q=t.loadFile(k)||""),k=Q),j=r(k),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!F()||k instanceof Uint8Array||(k=I(k)),!(P=this["process"+j.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=j,P}})(ot.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(x.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(y(r.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(y(w))+") >>",x.content=s;var A=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(x.objId,"0 R",N.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var D=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var U=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+U+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},a=t.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&e[x.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(x){var N=0,y=n,w="",A=0;for(N=0;N<x.length;N+=1)y[x.charCodeAt(N)]!==void 0?(A++,typeof(y=y[x.charCodeAt(N)])=="number"&&(w+=String.fromCharCode(y),y=n,A=0),N===x.length-1&&(y=n,w+=x.charAt(N-(A-1)),N-=A-1,A=0)):(y=n,w+=x.charAt(N-A),N-=A,A=0);return w};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(x,N,y){return o(x)?s(x)===!1?-1:!c(x)||!o(N)&&!o(y)||!o(y)&&a(N)||a(x)&&!o(N)||a(x)&&l(N)||a(x)&&a(N)?0:u(x)&&o(N)&&!a(N)&&o(y)&&c(y)?3:a(x)||!o(y)?1:2:-1},p=function(x){var N=0,y=0,w=0,A="",D="",F="",U=(x=x||"").split("\\s+"),I=[];for(N=0;N<U.length;N+=1){for(I.push(""),y=0;y<U[N].length;y+=1)A=U[N][y],D=U[N][y-1],F=U[N][y+1],o(A)?(w=g(A,D,F),I[N]+=w!==-1?String.fromCharCode(e[A.charCodeAt(0)][w]):A):I[N]+=A;I[N]=d(I[N])}return I.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var x,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(N)){var w=0;for(y=[],w=0;w<N.length;w+=1)Array.isArray(N[w])?y.push([p(N[w][0]),N[w][1],N[w][2]]):y.push([p(N[w])]);x=y}else x=p(N);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",_])}(ot.API),ot.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(x){_=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,p=0,_=0,x=0,N=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,D){return A.concat(N.splitTextToSize(D,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(x=this.getStringUnitWidth(l[w],{font:d})*u)&&(p=x);return p!==0&&(_=l.length),{w:p/=g,h:Math.max((_*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,g){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,_,x,N,y=[],w=[],A=[],D={},F={},U=[],I=[],S=(g=g||{}).autoSize||!1,C=g.printHeaders!==!1,L=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,k=g.margins||Object.assign({width:this.getPageWidth()},e),P=typeof g.padding=="number"?g.padding:3,j=g.headerBackgroundColor||"#c8c8c8",Q=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=Q,this.setFontSize(L),d==null)w=y=Object.keys(u[0]),A=y.map(function(){return"left"});else if(Array.isArray(d)&&Yt(d[0])==="object")for(y=d.map(function(se){return se.name}),w=d.map(function(se){return se.prompt||se.name||""}),A=d.map(function(se){return se.align||"left"}),p=0;p<d.length;p+=1)F[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=y=d,A=y.map(function(){return"left"}));if(S||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<y.length;p+=1){for(D[N=y[p]]=u.map(function(se){return se[N]}),this.setFont(void 0,"bold"),U.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=D[N],this.setFont(void 0,"normal"),x=0;x<_.length;x+=1)U.push(this.getTextDimensions(_[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[N]=Math.max.apply(null,U)+P+P,U=[]}if(C){var ae={};for(p=0;p<y.length;p+=1)ae[y[p]]={},ae[y[p]].text=w[p],ae[y[p]].align=A[p];var X=a.call(this,ae,F);I=y.map(function(se){return new s(l,c,F[se],X,ae[se].text,void 0,ae[se].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var Z=d.reduce(function(se,me){return se[me.name]=me.align,se},{});for(p=0;p<u.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:u[p]},this);var Y=a.call(this,u[p],F);for(x=0;x<y.length;x+=1){var ee=u[p][y[x]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:x,data:ee},this),o.call(this,new s(l,c,F[y[x]],Y,ee,p+2,Z[y[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var _=l[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/g+u+u},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(_)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(ot.API);var qP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},HP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],o5=$P(HP),WP=[100,200,300,400,500,600,700,800,900],Oq=$P(WP);function a5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return qP[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof o5[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function c3(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Fq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},u3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function h3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Vq(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Fq,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=a5(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+h3(s)+"' and default family '"+r+"'.");if(o=function(l,c){if(c[l])return c[l];var u=o5[l],d=u<=o5.normal?-1:1,g=c3(c,HP,u,d);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=qP[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=Oq[l],d=c3(c,WP,u,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+h3(s)+"'.");return o}function d3(t){return t.trimLeft()}function Bq(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function zq(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Gg,f3,p3,oy=["times"];(function(t){var e,n,r,i,s,o,a,l,c,u=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new l,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=O;Object.defineProperty(this,"pdf",{get:function(){return z}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ae){q=!!Ae}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(Ae){J=!!Ae}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(Ae){isNaN(Ae)||(re=Ae)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Ae){isNaN(Ae)||(he=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ae){var oe;typeof Ae=="number"?oe=[Ae,Ae,Ae,Ae]:((oe=new Array(4))[0]=Ae[0],oe[1]=Ae.length>=2?Ae[1]:oe[0],oe[2]=Ae.length>=3?Ae[2]:oe[0],oe[3]=Ae.length>=4?Ae[3]:oe[1]),c.margin=oe}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(Ae){ve=Ae}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(Ae){_e=Ae}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(Ae){Re=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ae){Ae instanceof u&&(c=Ae)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ae){c.path=Ae}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Ae){Ee=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var oe;oe=g(Ae),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var oe=g(Ae);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Fe=null;function Me(Ae,oe){if(Fe===null){var pt=function(Je){var De=[];return Object.keys(Je).forEach(function(Ve){Je[Ve].forEach(function(qe){var Ue=null;switch(qe){case"bold":Ue={family:Ve,weight:"bold"};break;case"italic":Ue={family:Ve,style:"italic"};break;case"bolditalic":Ue={family:Ve,weight:"bold",style:"italic"};break;case"":case"normal":Ue={family:Ve}}Ue!==null&&(Ue.ref={name:Ve,style:qe},De.push(Ue))})}),De}(Ae.getFontList());Fe=function(Je){for(var De={},Ve=0;Ve<Je.length;++Ve){var qe=a5(Je[Ve]),Ue=qe.family,et=qe.stretch,ut=qe.style,gt=qe.weight;De[Ue]=De[Ue]||{},De[Ue][et]=De[Ue][et]||{},De[Ue][et][ut]=De[Ue][et][ut]||{},De[Ue][et][ut][gt]=qe}return De}(pt.concat(oe))}return Fe}var tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return tt},set:function(Ae){Fe=null,tt=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var oe;if(this.ctx.font=Ae,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var pt=oe[1],Je=(oe[2],oe[3]),De=oe[4],Ve=(oe[5],oe[6]),qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(qe==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var Ue=function(at){var xt,He,Nn=[],Pt=at.trim();if(Pt==="")return oy;if(Pt in u3)return[u3[Pt]];for(;Pt!=="";){switch(He=null,xt=(Pt=d3(Pt)).charAt(0)){case'"':case"'":He=Bq(Pt.substring(1),xt);break;default:He=zq(Pt)}if(He===null||(Nn.push(He[0]),(Pt=d3(He[1]))!==""&&Pt.charAt(0)!==","))return oy;Pt=Pt.replace(/^,/,"")}return Nn}(Ve);if(this.fontFaces){var et=Vq(Me(this.pdf,this.fontFaces),Ue.map(function(at){return{family:at,stretch:"normal",weight:Je,style:pt}}));this.pdf.setFont(et.ref.name,et.ref.style)}else{var ut="";(Je==="bold"||parseInt(Je,10)>=700||pt==="bold")&&(ut="bold"),pt==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var gt="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<Ue.length;lt++){if(this.pdf.internal.getFont(Ue[lt],ut,{noFallback:!0,disableWarning:!0})!==void 0){gt=Ue[lt];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(Ue[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gt=Ue[lt],ut="bold";else if(this.pdf.internal.getFont(Ue[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gt=Ue[lt],ut="normal";break}}if(gt===""){for(var Rt=0;Rt<Ue.length;Rt++)if(nt[Ue[Rt]]){gt=nt[Ue[Rt]];break}}gt=gt===""?"Times":gt,this.pdf.setFont(gt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};d.prototype.setLineDash=function(O){this.lineDash=O},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){D.call(this,"fill",!1)},d.prototype.stroke=function(){D.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(O,z){if(isNaN(O)||isNaN(z))throw tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(O,z));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(O,z)},d.prototype.closePath=function(){var O=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Yt(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){O=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},d.prototype.lineTo=function(O,z){if(isNaN(O)||isNaN(z))throw tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(O,z));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},d.prototype.quadraticCurveTo=function(O,z,q,J){if(isNaN(q)||isNaN(J)||isNaN(O)||isNaN(z))throw tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new o(q,J)),he=this.ctx.transform.applyToPoint(new o(O,z));this.path.push({type:"qct",x1:he.x,y1:he.y,x:re.x,y:re.y}),this.ctx.lastPoint=new o(re.x,re.y)},d.prototype.bezierCurveTo=function(O,z,q,J,re,he){if(isNaN(re)||isNaN(he)||isNaN(O)||isNaN(z)||isNaN(q)||isNaN(J))throw tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(re,he)),_e=this.ctx.transform.applyToPoint(new o(O,z)),Re=this.ctx.transform.applyToPoint(new o(q,J));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Re.x,y2:Re.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},d.prototype.arc=function(O,z,q,J,re,he){if(isNaN(O)||isNaN(z)||isNaN(q)||isNaN(J)||isNaN(re))throw tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(O,z));O=ve.x,z=ve.y;var _e=this.ctx.transform.applyToPoint(new o(0,q)),Re=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(_e.x-Re.x,2)+Math.pow(_e.y-Re.y,2))}Math.abs(re-J)>=2*Math.PI&&(J=0,re=2*Math.PI),this.path.push({type:"arc",x:O,y:z,radius:q,startAngle:J,endAngle:re,counterclockwise:he})},d.prototype.arcTo=function(O,z,q,J,re){throw new Error("arcTo not implemented.")},d.prototype.rect=function(O,z,q,J){if(isNaN(O)||isNaN(z)||isNaN(q)||isNaN(J))throw tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,z),this.lineTo(O+q,z),this.lineTo(O+q,z+J),this.lineTo(O,z+J),this.lineTo(O,z),this.lineTo(O+q,z),this.lineTo(O,z)},d.prototype.fillRect=function(O,z,q,J){if(isNaN(O)||isNaN(z)||isNaN(q)||isNaN(J))throw tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,z,q,J),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},d.prototype.strokeRect=function(O,z,q,J){if(isNaN(O)||isNaN(z)||isNaN(q)||isNaN(J))throw tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(O,z,q,J),this.stroke())},d.prototype.clearRect=function(O,z,q,J){if(isNaN(O)||isNaN(z)||isNaN(q)||isNaN(J))throw tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,z,q,J))},d.prototype.save=function(O){O=typeof O!="boolean"||O;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},d.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(O){var z,q,J,re;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))z=0,q=0,J=0,re=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(he!==null)z=parseInt(he[1]),q=parseInt(he[2]),J=parseInt(he[3]),re=1;else if((he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)z=parseInt(he[1]),q=parseInt(he[2]),J=parseInt(he[3]),re=parseFloat(he[4]);else{if(re=1,typeof O=="string"&&O.charAt(0)!=="#"){var ve=new OP(O);O=ve.ok?ve.toHex():"#000000"}O.length===4?(z=O.substring(1,2),z+=z,q=O.substring(2,3),q+=q,J=O.substring(3,4),J+=J):(z=O.substring(1,3),q=O.substring(3,5),J=O.substring(5,7)),z=parseInt(z,16),q=parseInt(q,16),J=parseInt(J,16)}}return{r:z,g:q,b:J,a:re,style:O}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(O,z,q,J){if(isNaN(z)||isNaN(q)||typeof O!="string")throw tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!p.call(this)){var re=Y(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;P.call(this,{text:O,x:z,y:q,scale:he,angle:re,align:this.textAlign,maxWidth:J})}},d.prototype.strokeText=function(O,z,q,J){if(isNaN(z)||isNaN(q)||typeof O!="string")throw tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){J=isNaN(J)?void 0:J;var re=Y(this.ctx.transform.rotation),he=this.ctx.transform.scaleX;P.call(this,{text:O,x:z,y:q,scale:he,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:J})}},d.prototype.measureText=function(O){if(typeof O!="string")throw tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,q=this.pdf.internal.scaleFactor,J=z.internal.getFontSize(),re=z.getStringUnitWidth(O)*J/z.internal.scaleFactor,he=function(ve){var _e=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this};return new he({width:re*=Math.round(96*q/72*1e4)/1e4})},d.prototype.scale=function(O,z){if(isNaN(O)||isNaN(z))throw tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(O,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.rotate=function(O){if(isNaN(O))throw tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},d.prototype.translate=function(O,z){if(isNaN(O)||isNaN(z))throw tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,O,z);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.transform=function(O,z,q,J,re,he){if(isNaN(O)||isNaN(z)||isNaN(q)||isNaN(J)||isNaN(re)||isNaN(he))throw tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new l(O,z,q,J,re,he);this.ctx.transform=this.ctx.transform.multiply(ve)},d.prototype.setTransform=function(O,z,q,J,re,he){O=isNaN(O)?1:O,z=isNaN(z)?0:z,q=isNaN(q)?0:q,J=isNaN(J)?1:J,re=isNaN(re)?0:re,he=isNaN(he)?0:he,this.ctx.transform=new l(O,z,q,J,re,he)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(O,z,q,J,re,he,ve,_e,Re){var Ee=this.pdf.getImageProperties(O),Fe=1,Me=1,tt=1,Ae=1;J!==void 0&&_e!==void 0&&(tt=_e/J,Ae=Re/re,Fe=Ee.width/J*_e/J,Me=Ee.height/re*Re/re),he===void 0&&(he=z,ve=q,z=0,q=0),J!==void 0&&_e===void 0&&(_e=J,Re=re),J===void 0&&_e===void 0&&(_e=Ee.width,Re=Ee.height);for(var oe,pt=this.ctx.transform.decompose(),Je=Y(pt.rotate.shx),De=new l,Ve=(De=(De=(De=De.multiply(pt.translate)).multiply(pt.skew)).multiply(pt.scale)).applyToRectangle(new a(he-z*tt,ve-q*Ae,J*Fe,re*Me)),qe=N.call(this,Ve),Ue=[],et=0;et<qe.length;et+=1)Ue.indexOf(qe[et])===-1&&Ue.push(qe[et]);if(A(Ue),this.autoPaging)for(var ut=Ue[0],gt=Ue[Ue.length-1],nt=ut;nt<gt+1;nt++){this.pdf.setPage(nt);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=nt===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=nt===1?0:at+(nt-2)*xt;if(this.ctx.clip_path.length!==0){var Nn=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(oe,this.posX+this.margin[3],-He+Rt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Nn}var Pt=JSON.parse(JSON.stringify(Ve));Pt=w([Pt],this.posX+this.margin[3],-He+Rt+this.ctx.prevPageLastElemOffset)[0];var ti=(nt>ut||nt<gt)&&x.call(this);ti&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,xt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,Je),ti&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,Je)};var N=function(O,z,q){var J=[];z=z||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":J.push(Math.floor((O.y+re)/q)+1);break;case"arc":J.push(Math.floor((O.y+re-O.radius)/q)+1),J.push(Math.floor((O.y+re+O.radius)/q)+1);break;case"qct":var he=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);J.push(Math.floor((he.y+re)/q)+1),J.push(Math.floor((he.y+he.h+re)/q)+1);break;case"bct":var ve=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);J.push(Math.floor((ve.y+re)/q)+1),J.push(Math.floor((ve.y+ve.h+re)/q)+1);break;case"rect":J.push(Math.floor((O.y+re)/q)+1),J.push(Math.floor((O.y+O.h+re)/q)+1)}for(var _e=0;_e<J.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<J[_e];)y.call(this);return J},y=function(){var O=this.fillStyle,z=this.strokeStyle,q=this.font,J=this.lineCap,re=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=z,this.font=q,this.lineCap=J,this.lineWidth=re,this.lineJoin=he},w=function(O,z,q){for(var J=0;J<O.length;J++)switch(O[J].type){case"bct":O[J].x2+=z,O[J].y2+=q;case"qct":O[J].x1+=z,O[J].y1+=q;case"mt":case"lt":case"arc":default:O[J].x+=z,O[J].y+=q}return O},A=function(O){return O.sort(function(z,q){return z-q})},D=function(O,z){for(var q,J,re=this.fillStyle,he=this.strokeStyle,ve=this.lineCap,_e=this.lineWidth,Re=Math.abs(_e*this.ctx.transform.scaleX),Ee=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),tt=[],Ae=0;Ae<Me.length;Ae++)if(Me[Ae].x!==void 0)for(var oe=N.call(this,Me[Ae]),pt=0;pt<oe.length;pt+=1)tt.indexOf(oe[pt])===-1&&tt.push(oe[pt]);for(var Je=0;Je<tt.length;Je++)for(;this.pdf.internal.getNumberOfPages()<tt[Je];)y.call(this);if(A(tt),this.autoPaging)for(var De=tt[0],Ve=tt[tt.length-1],qe=De;qe<Ve+1;qe++){this.pdf.setPage(qe),this.fillStyle=re,this.strokeStyle=he,this.lineCap=ve,this.lineWidth=Re,this.lineJoin=Ee;var Ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=qe===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=qe===1?0:ut+(qe-2)*gt;if(this.ctx.clip_path.length!==0){var lt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(q,this.posX+this.margin[3],-nt+et+this.ctx.prevPageLastElemOffset),F.call(this,O,!0),this.path=lt}if(J=JSON.parse(JSON.stringify(Fe)),this.path=w(J,this.posX+this.margin[3],-nt+et+this.ctx.prevPageLastElemOffset),z===!1||qe===0){var Rt=(qe>De||qe<Ve)&&x.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,gt,null).clip().discardPath()),F.call(this,O,z),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}else this.lineWidth=Re,F.call(this,O,z),this.lineWidth=_e;this.path=Fe},F=function(O,z){if((O!=="stroke"||z||!_.call(this))&&(O==="stroke"||z||!p.call(this))){for(var q,J,re=[],he=this.path,ve=0;ve<he.length;ve++){var _e=he[ve];switch(_e.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:_e,deltas:[],abs:[]});break;case"lt":var Re=re.length;if(he[ve-1]&&!isNaN(he[ve-1].x)&&(q=[_e.x-he[ve-1].x,_e.y-he[ve-1].y],Re>0)){for(;Re>=0;Re--)if(re[Re-1].close!==!0&&re[Re-1].begin!==!0){re[Re-1].deltas.push(q),re[Re-1].abs.push(_e);break}}break;case"bct":q=[_e.x1-he[ve-1].x,_e.y1-he[ve-1].y,_e.x2-he[ve-1].x,_e.y2-he[ve-1].y,_e.x-he[ve-1].x,_e.y-he[ve-1].y],re[re.length-1].deltas.push(q);break;case"qct":var Ee=he[ve-1].x+2/3*(_e.x1-he[ve-1].x),Fe=he[ve-1].y+2/3*(_e.y1-he[ve-1].y),Me=_e.x+2/3*(_e.x1-_e.x),tt=_e.y+2/3*(_e.y1-_e.y),Ae=_e.x,oe=_e.y;q=[Ee-he[ve-1].x,Fe-he[ve-1].y,Me-he[ve-1].x,tt-he[ve-1].y,Ae-he[ve-1].x,oe-he[ve-1].y],re[re.length-1].deltas.push(q);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(_e)}}J=z?null:O==="stroke"?"stroke":"fill";for(var pt=!1,Je=0;Je<re.length;Je++)if(re[Je].arc)for(var De=re[Je].abs,Ve=0;Ve<De.length;Ve++){var qe=De[Ve];qe.type==="arc"?S.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,z,!pt):j.call(this,qe.x,qe.y),pt=!0}else if(re[Je].close===!0)this.pdf.internal.out("h"),pt=!1;else if(re[Je].begin!==!0){var Ue=re[Je].start.x,et=re[Je].start.y;Q.call(this,re[Je].deltas,Ue,et),pt=!0}J&&C.call(this,J),z&&L.call(this)}},U=function(O){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-q;case"top":return O+z-q;case"hanging":return O+z-2*q;case"middle":return O+z/2-q;case"ideographic":return O;case"alphabetic":default:return O}},I=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(z,q){this.colorStops.push([z,q])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(O,z,q,J,re,he,ve,_e,Re){for(var Ee=X.call(this,q,J,re,he),Fe=0;Fe<Ee.length;Fe++){var Me=Ee[Fe];Fe===0&&(Re?k.call(this,Me.x1+O,Me.y1+z):j.call(this,Me.x1+O,Me.y1+z)),ae.call(this,O,z,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}_e?L.call(this):C.call(this,ve)},C=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(O,z){this.pdf.internal.out(n(O)+" "+r(z)+" m")},P=function(O){var z;switch(O.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var q=this.pdf.getTextDimensions(O.text),J=U.call(this,O.y),re=I.call(this,J)-q.h,he=this.ctx.transform.applyToPoint(new o(O.x,J)),ve=this.ctx.transform.decompose(),_e=new l;_e=(_e=(_e=_e.multiply(ve.translate)).multiply(ve.skew)).multiply(ve.scale);for(var Re,Ee,Fe,Me=this.ctx.transform.applyToRectangle(new a(O.x,J,q.w,q.h)),tt=_e.applyToRectangle(new a(O.x,re,q.w,q.h)),Ae=N.call(this,tt),oe=[],pt=0;pt<Ae.length;pt+=1)oe.indexOf(Ae[pt])===-1&&oe.push(Ae[pt]);if(A(oe),this.autoPaging)for(var Je=oe[0],De=oe[oe.length-1],Ve=Je;Ve<De+1;Ve++){this.pdf.setPage(Ve);var qe=Ve===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],ut=et-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],nt=gt-this.margin[3],lt=Ve===1?0:Ue+(Ve-2)*ut;if(this.ctx.clip_path.length!==0){var Rt=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Re,this.posX+this.margin[3],-1*lt+qe),F.call(this,"fill",!0),this.path=Rt}var at=w([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-lt+qe+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*O.scale),Fe=this.lineWidth,this.lineWidth=Fe*O.scale);var xt=this.autoPaging!=="text";if(xt||at.y+at.h<=et){if(xt||at.y>=qe&&at.x<=gt){var He=xt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||gt-at.x)[0],Nn=w([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-lt+qe+this.ctx.prevPageLastElemOffset)[0],Pt=xt&&(Ve>Je||Ve<De)&&x.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,ut,null).clip().discardPath()),this.pdf.text(He,Nn.x,Nn.y,{angle:O.angle,align:z,renderingMode:O.renderingMode}),Pt&&this.pdf.restoreGraphicsState()}}else at.y<et&&(this.ctx.prevPageLastElemOffset+=et-at.y);O.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Fe)}else O.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*O.scale),Fe=this.lineWidth,this.lineWidth=Fe*O.scale),this.pdf.text(O.text,he.x+this.posX,he.y+this.posY,{angle:O.angle,align:z,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=Fe)},j=function(O,z,q,J){q=q||0,J=J||0,this.pdf.internal.out(n(O+q)+" "+r(z+J)+" l")},Q=function(O,z,q){return this.pdf.lines(O,z,q,null,null)},ae=function(O,z,q,J,re,he,ve,_e){this.pdf.internal.out([e(i(q+O)),e(s(J+z)),e(i(re+O)),e(s(he+z)),e(i(ve+O)),e(s(_e+z)),"c"].join(" "))},X=function(O,z,q,J){for(var re=2*Math.PI,he=Math.PI/2;z>q;)z-=re;var ve=Math.abs(q-z);ve<re&&J&&(ve=re-ve);for(var _e=[],Re=J?-1:1,Ee=z;ve>1e-5;){var Fe=Ee+Re*Math.min(ve,he);_e.push(Z.call(this,O,Ee,Fe)),ve-=Math.abs(Fe-Ee),Ee=Fe}return _e},Z=function(O,z,q){var J=(q-z)/2,re=O*Math.cos(J),he=O*Math.sin(J),ve=re,_e=-he,Re=ve*ve+_e*_e,Ee=Re+ve*re+_e*he,Fe=4/3*(Math.sqrt(2*Re*Ee)-Ee)/(ve*he-_e*re),Me=ve-Fe*_e,tt=_e+Fe*ve,Ae=Me,oe=-tt,pt=J+z,Je=Math.cos(pt),De=Math.sin(pt);return{x1:O*Math.cos(z),y1:O*Math.sin(z),x2:Me*Je-tt*De,y2:Me*De+tt*Je,x3:Ae*Je-oe*De,y3:Ae*De+oe*Je,x4:O*Math.cos(q),y4:O*Math.sin(q)}},Y=function(O){return 180*O/Math.PI},ee=function(O,z,q,J,re,he){var ve=O+.5*(q-O),_e=z+.5*(J-z),Re=re+.5*(q-re),Ee=he+.5*(J-he),Fe=Math.min(O,re,ve,Re),Me=Math.max(O,re,ve,Re),tt=Math.min(z,he,_e,Ee),Ae=Math.max(z,he,_e,Ee);return new a(Fe,tt,Me-Fe,Ae-tt)},se=function(O,z,q,J,re,he,ve,_e){var Re,Ee,Fe,Me,tt,Ae,oe,pt,Je,De,Ve,qe,Ue,et,ut=q-O,gt=J-z,nt=re-q,lt=he-J,Rt=ve-re,at=_e-he;for(Ee=0;Ee<41;Ee++)Je=(oe=(Fe=O+(Re=Ee/40)*ut)+Re*((tt=q+Re*nt)-Fe))+Re*(tt+Re*(re+Re*Rt-tt)-oe),De=(pt=(Me=z+Re*gt)+Re*((Ae=J+Re*lt)-Me))+Re*(Ae+Re*(he+Re*at-Ae)-pt),Ee==0?(Ve=Je,qe=De,Ue=Je,et=De):(Ve=Math.min(Ve,Je),qe=Math.min(qe,De),Ue=Math.max(Ue,Je),et=Math.max(et,De));return new a(Math.round(Ve),Math.round(qe),Math.round(Ue-Ve),Math.round(et-qe))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,z,q=(O=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:z}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(ot.API),function(t){var e=function(s){var o,a,l,c,u,d,g,p,_,x;for(a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(u=((u=((u=((u=(u-(x=u%85))/85)-(_=u%85))/85)-(p=u%85))/85)-(g=u%85))/85)%85,a.push(d+33,g+33,p+33,_+33,x+33)):a.push(122);return function(N,y){for(var w=y;w>0;w--)N.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,c,u,d=String,g="length",p=255,_="charCodeAt",x="slice",N="replace";for(s[x](-2),s=s[x](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[x](s[g]%5||5))[g];u>c;c+=5)a=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(y,w){for(var A=w;A>0;A--)y.pop()}(l,o[g]),d.fromCharCode.apply(d,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=t5(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ot.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,g=0,p=function(_){var x=_.length,N=[],y=String.fromCharCode;for(g=0;g<x;g+=1)N.push(y(255&_.charCodeAt(g)));return N.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(p(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return p(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ot.API),function(t){function e(){return(ct.html2canvas?Promise.resolve(ct.html2canvas):Q2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(ct.DOMPurify?Promise.resolve(ct.DOMPurify):Q2(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=Yt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)u!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var p=c[g],_=p.src.find(function(x){return x.format==="truetype"});_&&l.addFont(_.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ot.getPageSize=function(o,a,l){if(Yt(o)==="object"){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var p,_=0,x=0;if(g.hasOwnProperty(d))_=g[d][1]/u,x=g[d][0]/u;else try{_=l[1],x=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",x>_&&(p=x,x=_,_=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",_>x&&(p=x,x=_,_=p)}return{width:x,height:_,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(a5):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ot.API),ot.API.addJS=function(t){return p3=t,this.internal.events.subscribe("postPutResources",function(){Gg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),f3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+p3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Gg!==void 0&&f3!==void 0&&this.internal.out("/Names <</JavaScript "+Gg+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var g,p=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,x={width:0,height:0,numcomponents:1},N=4;N<_;N+=2){if(N+=p,e.indexOf(d.charCodeAt(N+1))!==-1){g=256*d.charCodeAt(N+5)+d.charCodeAt(N+6),x={width:256*d.charCodeAt(N+7)+d.charCodeAt(N+8),height:g,numcomponents:d.charCodeAt(N+9)};break}p=256*d.charCodeAt(N+2)+d.charCodeAt(N+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(ot.API);var Mu,Kg,g3,m3,v3,Uq=function(){var t,e,n;function r(s){var o,a,l,c,u,d,g,p,_,x,N,y,w,A;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),_=(function(){var D,F;for(F=[],D=0;D<4;++D)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,o-=4),s=(d!=null?d.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((x=l-this.transparency.indexed.length)>0)for(w=0;0<=x?w<x:w>x;0<=x?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(N=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,N.slice(0,g)),this.text[p]=String.fromCharCode.apply(String,N.slice(g+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,g,p,_){var x,N,y,w,A,D,F,U,I,S,C,L,k,P,j,Q,ae,X,Z,Y,ee,se=Math.ceil((c.width-d)/p),me=Math.ceil((c.height-g)/_),O=c.width==se&&c.height==me;for(P=o*se,L=O?a:new Uint8Array(P*me),D=s.length,k=0,N=0;k<me&&l<D;){switch(s[l++]){case 0:for(w=ae=0;ae<P;w=ae+=1)L[N++]=s[l++];break;case 1:for(w=X=0;X<P;w=X+=1)x=s[l++],A=w<o?0:L[N-o],L[N++]=(x+A)%256;break;case 2:for(w=Z=0;Z<P;w=Z+=1)x=s[l++],y=(w-w%o)/o,j=k&&L[(k-1)*P+y*o+w%o],L[N++]=(j+x)%256;break;case 3:for(w=Y=0;Y<P;w=Y+=1)x=s[l++],y=(w-w%o)/o,A=w<o?0:L[N-o],j=k&&L[(k-1)*P+y*o+w%o],L[N++]=(x+Math.floor((A+j)/2))%256;break;case 4:for(w=ee=0;ee<P;w=ee+=1)x=s[l++],y=(w-w%o)/o,A=w<o?0:L[N-o],k===0?j=Q=0:(j=L[(k-1)*P+y*o+w%o],Q=y&&L[(k-1)*P+(y-1)*o+w%o]),F=A+j-Q,U=Math.abs(F-A),S=Math.abs(F-j),C=Math.abs(F-Q),I=U<=S&&U<=C?A:S<=C?j:Q,L[N++]=(x+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!O){var z=((g+k*_)*c.width+d)*o,q=k*P;for(w=0;w<se;w+=1){for(var J=0;J<o;J+=1)a[z++]=L[q++];z+=(p-1)*o}}k++}}return s=wq(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,c,u,d,g,p;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=d=0,g=a.length;d<g;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=(p=u[s++])!=null?p:255;return c},r.prototype.copyToImageData=function(s,o){var a,l,c,u,d,g,p,_,x,N,y;if(l=this.colors,x=null,a=this.hasAlphaChannel,this.palette.length&&(x=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),_=(c=s.data||s).length,d=x||o,u=g=0,l===1)for(;u<_;)p=x?4*o[u/4]:g,N=d[p++],c[u++]=N,c[u++]=N,c[u++]=N,c[u++]=a?d[p++]:255,g=p;else for(;u<_;)p=x?4*o[u/4]:g,c[u++]=d[p++],c[u++]=d[p++],c[u++]=d[p++],c[u++]=a?d[p++]:255,g=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(ct)==="[object Window]"){try{e=ct.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,c,u,d,g,p;if(this.animation){for(p=[],a=u=0,d=(g=this.animation.frames).length;u<d;a=++u)o=g[a],l=s.createImageData(o.width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,c,u,d,g=this;return a=0,d=this.animation,c=d.numFrames,l=d.frames,u=d.numPlays,(o=function(){var p,_;if(p=a++%c,_=l[p],g.renderFrame(s,p),c>1&&a/c<u)return g.animation._timeout=setTimeout(o,_.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $q(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],d=0,g=null,p=0,_=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],!(1&x)&&(g=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var N=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,D=t[e++],F=D>>6&1,U=1<<(7&D)+1,I=a,S=l,C=!1;D>>7&&(C=!0,I=e,S=U,e+=3*U);var L=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}u.push({x:N,y,width:w,height:A,has_local_palette:C,palette_offset:I,palette_size:S,data_offset:L,data_length:e-L,transparent_index:g,interlaced:!!F,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return _},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,j){var Q=this.frameInfo(P),ae=Q.width*Q.height,X=new Uint8Array(ae);y3(t,Q.data_offset,X,ae);var Z=Q.palette_offset,Y=Q.transparent_index;Y===null&&(Y=256);var ee=Q.width,se=n-ee,me=ee,O=4*(Q.y*n+Q.x),z=4*((Q.y+Q.height)*n+Q.x),q=O,J=4*se;Q.interlaced===!0&&(J+=4*n*7);for(var re=8,he=0,ve=X.length;he<ve;++he){var _e=X[he];if(me===0&&(me=ee,(q+=J)>=z&&(J=4*se+4*n*(re-1),q=O+(ee+se)*(re<<1),re>>=1)),_e===Y)q+=4;else{var Re=t[Z+3*_e],Ee=t[Z+3*_e+1],Fe=t[Z+3*_e+2];j[q++]=Fe,j[q++]=Ee,j[q++]=Re,j[q++]=255}--me}},this.decodeAndBlitFrameRGBA=function(P,j){var Q=this.frameInfo(P),ae=Q.width*Q.height,X=new Uint8Array(ae);y3(t,Q.data_offset,X,ae);var Z=Q.palette_offset,Y=Q.transparent_index;Y===null&&(Y=256);var ee=Q.width,se=n-ee,me=ee,O=4*(Q.y*n+Q.x),z=4*((Q.y+Q.height)*n+Q.x),q=O,J=4*se;Q.interlaced===!0&&(J+=4*n*7);for(var re=8,he=0,ve=X.length;he<ve;++he){var _e=X[he];if(me===0&&(me=ee,(q+=J)>=z&&(J=4*se+4*n*(re-1),q=O+(ee+se)*(re<<1),re>>=1)),_e===Y)q+=4;else{var Re=t[Z+3*_e],Ee=t[Z+3*_e+1],Fe=t[Z+3*_e+2];j[q++]=Re,j[q++]=Ee,j[q++]=Fe,j[q++]=255}--me}}}function y3(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,d=0,g=0,p=t[e++],_=new Int32Array(4096),x=null;;){for(;u<16&&p!==0;)d|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var N=d&c;if(d>>=l,u-=l,N!==s){if(N===o)break;for(var y=N<a?N:x,w=0,A=y;A>s;)A=_[A]>>8,++w;var D=A;if(g+w+(y!==N?1:0)>r)return void tn.log("Warning, gif stream longer than expected.");n[g++]=D;var F=g+=w;for(y!==N&&(n[g++]=D),A=y;w--;)A=_[A],n[--F]=255&A,A>>=8;x!==null&&a<4096&&(_[a++]=x<<8|D,a>=c+1&&l<12&&(++l,c=c<<1|1)),x=N}else a=o+1,c=(1<<(l=i+1))-1,x=null}return g!==r&&tn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ay(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),g=new Array(65535),p=new Array(64),_=new Array(64),x=[],N=0,y=7,w=new Array(64),A=new Array(64),D=new Array(64),F=new Array(256),U=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(O,z){for(var q=0,J=0,re=new Array,he=1;he<=16;he++){for(var ve=1;ve<=O[he];ve++)re[z[J]]=[],re[z[J]][0]=q,re[z[J]][1]=he,J++,q++;q*=2}return re}function Z(O){for(var z=O[0],q=O[1]-1;q>=0;)z&1<<q&&(N|=1<<y),q--,--y<0&&(N==255?(Y(255),Y(0)):Y(N),y=7,N=0)}function Y(O){x.push(O)}function ee(O){Y(O>>8&255),Y(255&O)}function se(O,z,q,J,re){for(var he,ve=re[0],_e=re[240],Re=function(De,Ve){var qe,Ue,et,ut,gt,nt,lt,Rt,at,xt,He=0;for(at=0;at<8;++at){qe=De[He],Ue=De[He+1],et=De[He+2],ut=De[He+3],gt=De[He+4],nt=De[He+5],lt=De[He+6];var Nn=qe+(Rt=De[He+7]),Pt=qe-Rt,ti=Ue+lt,Bt=Ue-lt,sn=et+nt,Fi=et-nt,Ct=ut+gt,Fs=ut-gt,hn=Nn+Ct,cr=Nn-Ct,wi=ti+sn,on=ti-sn;De[He]=hn+wi,De[He+4]=hn-wi;var it=.707106781*(on+cr);De[He+2]=cr+it,De[He+6]=cr-it;var jt=.382683433*((hn=Fs+Fi)-(on=Bt+Pt)),Vi=.5411961*hn+jt,Un=1.306562965*on+jt,br=.707106781*(wi=Fi+Bt),_i=Pt+br,Ye=Pt-br;De[He+5]=Ye+Vi,De[He+3]=Ye-Vi,De[He+1]=_i+Un,De[He+7]=_i-Un,He+=8}for(He=0,at=0;at<8;++at){qe=De[He],Ue=De[He+8],et=De[He+16],ut=De[He+24],gt=De[He+32],nt=De[He+40],lt=De[He+48];var ni=qe+(Rt=De[He+56]),xr=qe-Rt,$n=Ue+lt,Ln=Ue-lt,kn=et+nt,qn=et-nt,ga=ut+gt,us=ut-gt,Sr=ni+ga,ri=ni-ga,$r=$n+kn,qr=$n-kn;De[He]=Sr+$r,De[He+32]=Sr-$r;var Rn=.707106781*(qr+ri);De[He+16]=ri+Rn,De[He+48]=ri-Rn;var bi=.382683433*((Sr=us+qn)-(qr=Ln+xr)),Vs=.5411961*Sr+bi,Bs=1.306562965*qr+bi,zs=.707106781*($r=qn+Ln),yo=xr+zs,wo=xr-zs;De[He+40]=wo+Vs,De[He+24]=wo-Vs,De[He+8]=yo+Bs,De[He+56]=yo-Bs,He++}for(at=0;at<64;++at)xt=De[at]*Ve[at],p[at]=xt>0?xt+.5|0:xt-.5|0;return p}(O,z),Ee=0;Ee<64;++Ee)_[I[Ee]]=Re[Ee];var Fe=_[0]-q;q=_[0],Fe==0?Z(J[0]):(Z(J[g[he=32767+Fe]]),Z(d[he]));for(var Me=63;Me>0&&_[Me]==0;)Me--;if(Me==0)return Z(ve),q;for(var tt,Ae=1;Ae<=Me;){for(var oe=Ae;_[Ae]==0&&Ae<=Me;)++Ae;var pt=Ae-oe;if(pt>=16){tt=pt>>4;for(var Je=1;Je<=tt;++Je)Z(_e);pt&=15}he=32767+_[Ae],Z(re[(pt<<4)+g[he]]),Z(d[he]),Ae++}return Me!=63&&Z(ve),q}function me(O){O=Math.min(Math.max(O,1),100),s!=O&&(function(z){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var re=o((q[J]*z+50)/100);re=Math.min(Math.max(re,1),255),a[I[J]]=re}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var _e=o((he[ve]*z+50)/100);_e=Math.min(Math.max(_e,1),255),l[I[ve]]=_e}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,Fe=0;Fe<8;Fe++)for(var Me=0;Me<8;Me++)c[Ee]=1/(a[I[Ee]]*Re[Fe]*Re[Me]*8),u[Ee]=1/(l[I[Ee]]*Re[Fe]*Re[Me]*8),Ee++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),s=O)}this.encode=function(O,z){z&&me(z),x=new Array,N=0,y=7,ee(65496),ee(65504),ee(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),ee(1),ee(1),Y(0),Y(0),function(){ee(65499),ee(132),Y(0);for(var Ue=0;Ue<64;Ue++)Y(a[Ue]);Y(1);for(var et=0;et<64;et++)Y(l[et])}(),function(Ue,et){ee(65472),ee(17),Y(8),ee(et),ee(Ue),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(O.width,O.height),function(){ee(65476),ee(418),Y(0);for(var Ue=0;Ue<16;Ue++)Y(S[Ue+1]);for(var et=0;et<=11;et++)Y(C[et]);Y(16);for(var ut=0;ut<16;ut++)Y(L[ut+1]);for(var gt=0;gt<=161;gt++)Y(k[gt]);Y(1);for(var nt=0;nt<16;nt++)Y(P[nt+1]);for(var lt=0;lt<=11;lt++)Y(j[lt]);Y(17);for(var Rt=0;Rt<16;Rt++)Y(Q[Rt+1]);for(var at=0;at<=161;at++)Y(ae[at])}(),ee(65498),ee(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var q=0,J=0,re=0;N=0,y=7,this.encode.displayName="_encode_";for(var he,ve,_e,Re,Ee,Fe,Me,tt,Ae,oe=O.data,pt=O.width,Je=O.height,De=4*pt,Ve=0;Ve<Je;){for(he=0;he<De;){for(Ee=De*Ve+he,Me=-1,tt=0,Ae=0;Ae<64;Ae++)Fe=Ee+(tt=Ae>>3)*De+(Me=4*(7&Ae)),Ve+tt>=Je&&(Fe-=De*(Ve+1+tt-Je)),he+Me>=De&&(Fe-=he+Me-De+4),ve=oe[Fe++],_e=oe[Fe++],Re=oe[Fe++],w[Ae]=(U[ve]+U[_e+256>>0]+U[Re+512>>0]>>16)-128,A[Ae]=(U[ve+768>>0]+U[_e+1024>>0]+U[Re+1280>>0]>>16)-128,D[Ae]=(U[ve+1280>>0]+U[_e+1536>>0]+U[Re+1792>>0]>>16)-128;q=se(w,c,q,e,r),J=se(A,u,J,n,i),re=se(D,u,re,n,i),he+=32}Ve+=8}if(y>=0){var qe=[];qe[1]=y+1,qe[0]=(1<<y+1)-1,Z(qe)}return ee(65497),new Uint8Array(x)},t=t||50,function(){for(var O=String.fromCharCode,z=0;z<256;z++)F[z]=O(z)}(),e=X(S,C),n=X(P,j),r=X(L,k),i=X(Q,ae),function(){for(var O=1,z=2,q=1;q<=15;q++){for(var J=O;J<z;J++)g[32767+J]=q,d[32767+J]=[],d[32767+J][1]=q,d[32767+J][0]=J;for(var re=-(z-1);re<=-O;re++)g[32767+re]=q,d[32767+re]=[],d[32767+re][1]=q,d[32767+re][0]=z-1+re;O<<=1,z<<=1}}(),function(){for(var O=0;O<256;O++)U[O]=19595*O,U[O+256>>0]=38470*O,U[O+512>>0]=7471*O+32768,U[O+768>>0]=-11059*O,U[O+1024>>0]=-21709*O,U[O+1280>>0]=32768*O+8421375,U[O+1536>>0]=-27439*O,U[O+1792>>0]=-5329*O}(),me(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ss(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function w3(t){function e(S){if(!S)throw Error("assert :P")}function n(S,C,L){for(var k=0;4>k;k++)if(S[C+k]!=L.charCodeAt(k))return!0;return!1}function r(S,C,L,k,P){for(var j=0;j<P;j++)S[C+j]=L[k+j]}function i(S,C,L,k){for(var P=0;P<k;P++)S[C+P]=L}function s(S){return new Int32Array(S)}function o(S,C){for(var L=[],k=0;k<S;k++)L.push(new C);return L}function a(S,C){var L=[];return function k(P,j,Q){for(var ae=Q[j],X=0;X<ae&&(P.push(Q.length>j+1?[]:new C),!(Q.length<j+1));X++)k(P[X],j+1,Q)}(L,0,S),L}var l=function(){var S=this;function C(h,m){for(var E=1<<m-1>>>0;h&E;)E>>>=1;return E?(h&E-1)+E:h}function L(h,m,E,R,B){e(!(R%E));do h[m+(R-=E)]=B;while(0<R)}function k(h,m,E,R,B){if(e(2328>=B),512>=B)var $=s(512);else if(($=s(B))==null)return 0;return function(H,G,K,ne,ce,ye){var we,ge,Te=G,xe=1<<K,ue=s(16),de=s(16);for(e(ce!=0),e(ne!=null),e(H!=null),e(0<K),ge=0;ge<ce;++ge){if(15<ne[ge])return 0;++ue[ne[ge]]}if(ue[0]==ce)return 0;for(de[1]=0,we=1;15>we;++we){if(ue[we]>1<<we)return 0;de[we+1]=de[we]+ue[we]}for(ge=0;ge<ce;++ge)we=ne[ge],0<ne[ge]&&(ye[de[we]++]=ge);if(de[15]==1)return(ne=new P).g=0,ne.value=ye[0],L(H,Te,1,xe,ne),xe;var Ne,Ie=-1,ke=xe-1,We=0,Be=1,st=1,$e=1<<K;for(ge=0,we=1,ce=2;we<=K;++we,ce<<=1){if(Be+=st<<=1,0>(st-=ue[we]))return 0;for(;0<ue[we];--ue[we])(ne=new P).g=we,ne.value=ye[ge++],L(H,Te+We,ce,$e,ne),We=C(We,we)}for(we=K+1,ce=2;15>=we;++we,ce<<=1){if(Be+=st<<=1,0>(st-=ue[we]))return 0;for(;0<ue[we];--ue[we]){if(ne=new P,(We&ke)!=Ie){for(Te+=$e,Ne=1<<(Ie=we)-K;15>Ie&&!(0>=(Ne-=ue[Ie]));)++Ie,Ne<<=1;xe+=$e=1<<(Ne=Ie-K),H[G+(Ie=We&ke)].g=Ne+K,H[G+Ie].value=Te-G-Ie}ne.g=we-K,ne.value=ye[ge++],L(H,Te+(We>>K),ce,$e,ne),We=C(We,we)}}return Be!=2*de[15]-1?0:xe}(h,m,E,R,B,$)}function P(){this.value=this.g=0}function j(){this.value=this.g=0}function Q(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(dr,j)}function ae(h,m,E,R){e(h!=null),e(m!=null),e(2147483648>R),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=E,h.Jd=m,h.Yc=E+R,h.Zc=4<=R?E+R-4+1:E,he(h)}function X(h,m){for(var E=0;0<m--;)E|=_e(h,128)<<m;return E}function Z(h,m){var E=X(h,m);return ve(h)?-E:E}function Y(h,m,E,R){var B,$=0;for(e(h!=null),e(m!=null),e(4294967288>R),h.Sb=R,h.Ra=0,h.u=0,h.h=0,4<R&&(R=4),B=0;B<R;++B)$+=m[E+B]<<8*B;h.Ra=$,h.bb=R,h.oa=m,h.pa=E}function ee(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Su-8>>>0,++h.bb,h.u-=8;q(h)&&(h.h=1,h.u=0)}function se(h,m){if(e(0<=m),!h.h&&m<=xu){var E=z(h)&bu[m];return h.u+=m,ee(h),E}return h.h=1,h.u=0}function me(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(h){return h.Ra>>>(h.u&Su-1)>>>0}function q(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Su}function J(h,m){h.u=m,h.h=q(h)}function re(h){h.u>=ad&&(e(h.u>=ad),ee(h))}function he(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ve(h){return X(h,1)}function _e(h,m){var E=h.Ca;0>h.b&&he(h);var R=h.b,B=E*m>>>8,$=(h.I>>>R>B)+0;for($?(E-=B,h.I-=B+1<<R>>>0):E=B+1,R=E,B=0;256<=R;)B+=8,R>>=8;return R=7^B+si[R],h.b-=R,h.Ca=(E<<R)-1,$}function Re(h,m,E){h[m+0]=E>>24&255,h[m+1]=E>>16&255,h[m+2]=E>>8&255,h[m+3]=E>>0&255}function Ee(h,m){return h[m+0]<<0|h[m+1]<<8}function Fe(h,m){return Ee(h,m)|h[m+2]<<16}function Me(h,m){return Ee(h,m)|Ee(h,m+2)<<16}function tt(h,m){var E=1<<m;return e(h!=null),e(0<m),h.X=s(E),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function Ae(h,m){e(h!=null),e(m!=null),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function pt(h,m,E,R){e(E!=null),e(R!=null);var B=E[0],$=R[0];return B==0&&(B=(h*$+m/2)/m),$==0&&($=(m*B+h/2)/h),0>=B||0>=$?0:(E[0]=B,R[0]=$,1)}function Je(h,m){return h+(1<<m)-1>>>m}function De(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function Ve(h,m){S[m]=function(E,R,B,$,H,G,K){var ne;for(ne=0;ne<H;++ne){var ce=S[h](G[K+ne-1],B,$+ne);G[K+ne]=De(E[R+ne],ce)}}}function qe(){this.ud=this.hd=this.jd=0}function Ue(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function et(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function ut(h,m){return et(h+(h-m+.5>>1))}function gt(h,m,E){return Math.abs(m-E)-Math.abs(h-E)}function nt(h,m,E,R,B,$,H){for(R=$[H-1],E=0;E<B;++E)$[H+E]=R=De(h[m+E],R)}function lt(h,m,E,R,B){var $;for($=0;$<E;++$){var H=h[m+$],G=H>>8&255,K=16711935&(K=(K=16711935&H)+((G<<16)+G));R[B+$]=(4278255360&H)+K>>>0}}function Rt(h,m){m.jd=h>>0&255,m.hd=h>>8&255,m.ud=h>>16&255}function at(h,m,E,R,B,$){var H;for(H=0;H<R;++H){var G=m[E+H],K=G>>>8,ne=G,ce=255&(ce=(ce=G>>>16)+((h.jd<<24>>24)*(K<<24>>24)>>>5));ne=255&(ne=(ne=ne+((h.hd<<24>>24)*(K<<24>>24)>>>5))+((h.ud<<24>>24)*(ce<<24>>24)>>>5)),B[$+H]=(4278255360&G)+(ce<<16)+ne}}function xt(h,m,E,R,B){S[m]=function($,H,G,K,ne,ce,ye,we,ge){for(K=ye;K<we;++K)for(ye=0;ye<ge;++ye)ne[ce++]=B(G[R($[H++])])},S[h]=function($,H,G,K,ne,ce,ye){var we=8>>$.b,ge=$.Ea,Te=$.K[0],xe=$.w;if(8>we)for($=(1<<$.b)-1,xe=(1<<we)-1;H<G;++H){var ue,de=0;for(ue=0;ue<ge;++ue)ue&$||(de=R(K[ne++])),ce[ye++]=B(Te[de&xe]),de>>=we}else S["VP8LMapColor"+E](K,ne,Te,xe,ce,ye,H,G,ge)}}function He(h,m,E,R,B){for(E=m+E;m<E;){var $=h[m++];R[B++]=$>>16&255,R[B++]=$>>8&255,R[B++]=$>>0&255}}function Nn(h,m,E,R,B){for(E=m+E;m<E;){var $=h[m++];R[B++]=$>>16&255,R[B++]=$>>8&255,R[B++]=$>>0&255,R[B++]=$>>24&255}}function Pt(h,m,E,R,B){for(E=m+E;m<E;){var $=(H=h[m++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;R[B++]=$,R[B++]=H}}function ti(h,m,E,R,B){for(E=m+E;m<E;){var $=(H=h[m++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;R[B++]=$,R[B++]=H}}function Bt(h,m,E,R,B){for(E=m+E;m<E;){var $=h[m++];R[B++]=$>>0&255,R[B++]=$>>8&255,R[B++]=$>>16&255}}function sn(h,m,E,R,B,$){if($==0)for(E=m+E;m<E;)Re(R,(($=h[m++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),B+=32;else r(R,B,h,m,E)}function Fi(h,m){S[m][0]=S[h+"0"],S[m][1]=S[h+"1"],S[m][2]=S[h+"2"],S[m][3]=S[h+"3"],S[m][4]=S[h+"4"],S[m][5]=S[h+"5"],S[m][6]=S[h+"6"],S[m][7]=S[h+"7"],S[m][8]=S[h+"8"],S[m][9]=S[h+"9"],S[m][10]=S[h+"10"],S[m][11]=S[h+"11"],S[m][12]=S[h+"12"],S[m][13]=S[h+"13"],S[m][14]=S[h+"0"],S[m][15]=S[h+"0"]}function Ct(h){return h==R1||h==j1||h==$p||h==D1}function Fs(){this.eb=[],this.size=this.A=this.fb=0}function hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fs,this.f.kb=new hn,this.sd=null}function wi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function it(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function jt(h,m){var E=h.T,R=m.ba.f.RGBA,B=R.eb,$=R.fb+h.ka*R.A,H=Wi[m.ba.S],G=h.y,K=h.O,ne=h.f,ce=h.N,ye=h.ea,we=h.W,ge=m.cc,Te=m.dc,xe=m.Mc,ue=m.Nc,de=h.ka,Ne=h.ka+h.T,Ie=h.U,ke=Ie+1>>1;for(de==0?H(G,K,null,null,ne,ce,ye,we,ne,ce,ye,we,B,$,null,null,Ie):(H(m.ec,m.fc,G,K,ge,Te,xe,ue,ne,ce,ye,we,B,$-R.A,B,$,Ie),++E);de+2<Ne;de+=2)ge=ne,Te=ce,xe=ye,ue=we,ce+=h.Rc,we+=h.Rc,$+=2*R.A,H(G,(K+=2*h.fa)-h.fa,G,K,ge,Te,xe,ue,ne,ce,ye,we,B,$-R.A,B,$,Ie);return K+=h.fa,h.j+Ne<h.o?(r(m.ec,m.fc,G,K,Ie),r(m.cc,m.dc,ne,ce,ke),r(m.Mc,m.Nc,ye,we,ke),E--):1&Ne||H(G,K,null,null,ne,ce,ye,we,ne,ce,ye,we,B,$+R.A,null,null,Ie),E}function Vi(h,m,E){var R=h.F,B=[h.J];if(R!=null){var $=h.U,H=m.ba.S,G=H==Up||H==$p;m=m.ba.f.RGBA;var K=[0],ne=h.ka;K[0]=h.T,h.Kb&&(ne==0?--K[0]:(--ne,B[0]-=h.width),h.j+h.ka+h.T==h.o&&(K[0]=h.o-h.j-ne));var ce=m.eb;ne=m.fb+ne*m.A,h=ln(R,B[0],h.width,$,K,ce,ne+(G?0:3),m.A),e(E==K),h&&Ct(H)&&qi(ce,ne,G,$,K,m.A)}return 0}function Un(h){var m=h.ma,E=m.ba.S,R=11>E,B=E==Bp||E==zp||E==Up||E==L1||E==12||Ct(E);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!sd(m.Oa,h,B?11:12))return 0;if(B&&Ct(E)&&Ce(),h.da)alert("todo:use_scaling");else{if(R){if(m.Ib=it,h.Kb){if(E=h.U+1>>1,m.memory=s(h.U+2*E),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+E,m.Ib=jt,Ce()}}else alert("todo:EmitYUV");B&&(m.Jb=Vi,R&&pe())}if(R&&!D_){for(h=0;256>h;++h)fI[h]=89858*(h-128)+Hp>>qp,mI[h]=-22014*(h-128)+Hp,gI[h]=-45773*(h-128),pI[h]=113618*(h-128)+Hp>>qp;for(h=pd;h<F1;++h)m=76283*(h-16)+Hp>>qp,vI[h-pd]=$t(m,255),yI[h-pd]=$t(m+8>>4,15);D_=1}return 1}function br(h){var m=h.ma,E=h.U,R=h.T;return e(!(1&h.ka)),0>=E||0>=R?0:(E=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,E),m.Dc+=E,1)}function _i(h){h.ma.memory=null}function Ye(h,m,E,R){return se(h,8)!=47?0:(m[0]=se(h,14)+1,E[0]=se(h,14)+1,R[0]=se(h,1),se(h,3)!=0?0:!h.h)}function ni(h,m){if(4>h)return h+1;var E=h-2>>1;return(2+(1&h)<<E)+se(m,E)+1}function xr(h,m){return 120<m?m-120:1<=(E=((E=ZP[m-1])>>4)*h+(8-(15&E)))?E:1;var E}function $n(h,m,E){var R=z(E),B=h[m+=255&R].g-8;return 0<B&&(J(E,E.u+8),R=z(E),m+=h[m].value,m+=R&(1<<B)-1),J(E,E.u+h[m].g),h[m].value}function Ln(h,m,E){return E.g+=h.g,E.value+=h.value<<m>>>0,e(8>=E.g),h.g}function kn(h,m,E){var R=h.xc;return e((m=R==0?0:h.vc[h.md*(E>>R)+(m>>R)])<h.Wb),h.Ya[m]}function qn(h,m,E,R){var B=h.ab,$=h.c*m,H=h.C;m=H+m;var G=E,K=R;for(R=h.Ta,E=h.Ua;0<B--;){var ne=h.gc[B],ce=H,ye=m,we=G,ge=K,Te=(K=R,G=E,ne.Ea);switch(e(ce<ye),e(ye<=ne.nc),ne.hc){case 2:Rp(we,ge,(ye-ce)*Te,K,G);break;case 0:var xe=ce,ue=ye,de=K,Ne=G,Ie=($e=ne).Ea;xe==0&&(I1(we,ge,null,null,1,de,Ne),nt(we,ge+1,0,0,Ie-1,de,Ne+1),ge+=Ie,Ne+=Ie,++xe);for(var ke=1<<$e.b,We=ke-1,Be=Je(Ie,$e.b),st=$e.K,$e=$e.w+(xe>>$e.b)*Be;xe<ue;){var zt=st,Ht=$e,Dt=1;for(ld(we,ge,de,Ne-Ie,1,de,Ne);Dt<Ie;){var kt=(Dt&~We)+ke;kt>Ie&&(kt=Ie),(0,Ra[zt[Ht++]>>8&15])(we,ge+ +Dt,de,Ne+Dt-Ie,kt-Dt,de,Ne+Dt),Dt=kt}ge+=Ie,Ne+=Ie,++xe&We||($e+=Be)}ye!=ne.nc&&r(K,G-Te,K,G+(ye-ce-1)*Te,Te);break;case 1:for(Te=we,ue=ge,Ie=(we=ne.Ea)-(Ne=we&~(de=(ge=1<<ne.b)-1)),xe=Je(we,ne.b),ke=ne.K,ne=ne.w+(ce>>ne.b)*xe;ce<ye;){for(We=ke,Be=ne,st=new qe,$e=ue+Ne,zt=ue+we;ue<$e;)Rt(We[Be++],st),uc(st,Te,ue,ge,K,G),ue+=ge,G+=ge;ue<zt&&(Rt(We[Be++],st),uc(st,Te,ue,Ie,K,G),ue+=Ie,G+=Ie),++ce&de||(ne+=xe)}break;case 3:if(we==K&&ge==G&&0<ne.b){for(ue=K,we=Te=G+(ye-ce)*Te-(Ne=(ye-ce)*Je(ne.Ea,ne.b)),ge=K,de=G,xe=[],Ne=(Ie=Ne)-1;0<=Ne;--Ne)xe[Ne]=ge[de+Ne];for(Ne=Ie-1;0<=Ne;--Ne)ue[we+Ne]=xe[Ne];zi(ne,ce,ye,K,Te,K,G)}else zi(ne,ce,ye,we,ge,K,G)}G=R,K=E}K!=E&&r(R,E,G,K,$)}function ga(h,m){var E=h.V,R=h.Ba+h.c*h.C,B=m-h.C;if(e(m<=h.l.o),e(16>=B),0<B){var $=h.l,H=h.Ta,G=h.Ua,K=$.width;if(qn(h,B,E,R),B=G=[G],e((E=h.C)<(R=m)),e($.v<$.va),R>$.o&&(R=$.o),E<$.j){var ne=$.j-E;E=$.j,B[0]+=ne*K}if(E>=R?E=0:(B[0]+=4*$.v,$.ka=E-$.j,$.U=$.va-$.v,$.T=R-E,E=1),E){if(G=G[0],11>(E=h.ca).S){var ce=E.f.RGBA,ye=(R=E.S,B=$.U,$=$.T,ne=ce.eb,ce.A),we=$;for(ce=ce.fb+h.Ma*ce.A;0<we--;){var ge=H,Te=G,xe=B,ue=ne,de=ce;switch(R){case Vp:oi(ge,Te,xe,ue,de);break;case Bp:Wr(ge,Te,xe,ue,de);break;case R1:Wr(ge,Te,xe,ue,de),qi(ue,de,0,xe,1,0);break;case E_:Io(ge,Te,xe,ue,de);break;case zp:sn(ge,Te,xe,ue,de,1);break;case j1:sn(ge,Te,xe,ue,de,1),qi(ue,de,0,xe,1,0);break;case Up:sn(ge,Te,xe,ue,de,0);break;case $p:sn(ge,Te,xe,ue,de,0),qi(ue,de,1,xe,1,0);break;case L1:ja(ge,Te,xe,ue,de);break;case D1:ja(ge,Te,xe,ue,de),an(ue,de,xe,1,0);break;case N_:Po(ge,Te,xe,ue,de);break;default:e(0)}G+=K,ce+=ye}h.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=E.height)}}h.C=m,e(h.C<=h.i)}function us(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var E=h.Ya[m].G,R=h.Ya[m].H;if(0<E[1][R[1]+0].g||0<E[2][R[2]+0].g||0<E[3][R[3]+0].g)return 0}return 1}function Sr(h,m,E,R,B,$){if(h.Z!=0){var H=h.qd,G=h.rd;for(e(Fa[h.Z]!=null);m<E;++m)Fa[h.Z](H,G,R,B,R,B,$),H=R,G=B,B+=$;h.qd=H,h.rd=G}}function ri(h,m){var E=h.l.ma,R=E.Z==0||E.Z==1?h.l.j:h.C;if(R=h.C<R?R:h.C,e(m<=h.l.o),m>R){var B=h.l.width,$=E.ca,H=E.tb+B*R,G=h.V,K=h.Ba+h.c*R,ne=h.gc;e(h.ab==1),e(ne[0].hc==3),jp(ne[0],R,m,G,K,$,H),Sr(E,R,m,$,H,B)}h.C=h.Ma=m}function $r(h,m,E,R,B,$,H){var G=h.$/R,K=h.$%R,ne=h.m,ce=h.s,ye=E+h.$,we=ye;B=E+R*B;var ge=E+R*$,Te=280+ce.ua,xe=h.Pb?G:16777216,ue=0<ce.ua?ce.Wa:null,de=ce.wc,Ne=ye<ge?kn(ce,K,G):null;e(h.C<$),e(ge<=B);var Ie=!1;e:for(;;){for(;Ie||ye<ge;){var ke=0;if(G>=xe){var We=ye-E;e((xe=h).Pb),xe.wd=xe.m,xe.xd=We,0<xe.s.ua&&Ae(xe.s.Wa,xe.s.vb),xe=G+tI}if(K&de||(Ne=kn(ce,K,G)),e(Ne!=null),Ne.Qb&&(m[ye]=Ne.qb,Ie=!0),!Ie)if(re(ne),Ne.jc){ke=ne,We=m;var Be=ye,st=Ne.pd[z(ke)&dr-1];e(Ne.jc),256>st.g?(J(ke,ke.u+st.g),We[Be]=st.value,ke=0):(J(ke,ke.u+st.g-256),e(256<=st.value),ke=st.value),ke==0&&(Ie=!0)}else ke=$n(Ne.G[0],Ne.H[0],ne);if(ne.h)break;if(Ie||256>ke){if(!Ie)if(Ne.nd)m[ye]=(Ne.qb|ke<<8)>>>0;else{if(re(ne),Ie=$n(Ne.G[1],Ne.H[1],ne),re(ne),We=$n(Ne.G[2],Ne.H[2],ne),Be=$n(Ne.G[3],Ne.H[3],ne),ne.h)break;m[ye]=(Be<<24|Ie<<16|ke<<8|We)>>>0}if(Ie=!1,++ye,++K>=R&&(K=0,++G,H!=null&&G<=$&&!(G%16)&&H(h,G),ue!=null))for(;we<ye;)ke=m[we++],ue.X[(506832829*ke&4294967295)>>>ue.Mb]=ke}else if(280>ke){if(ke=ni(ke-256,ne),We=$n(Ne.G[4],Ne.H[4],ne),re(ne),We=xr(R,We=ni(We,ne)),ne.h)break;if(ye-E<We||B-ye<ke)break e;for(Be=0;Be<ke;++Be)m[ye+Be]=m[ye+Be-We];for(ye+=ke,K+=ke;K>=R;)K-=R,++G,H!=null&&G<=$&&!(G%16)&&H(h,G);if(e(ye<=B),K&de&&(Ne=kn(ce,K,G)),ue!=null)for(;we<ye;)ke=m[we++],ue.X[(506832829*ke&4294967295)>>>ue.Mb]=ke}else{if(!(ke<Te))break e;for(Ie=ke-280,e(ue!=null);we<ye;)ke=m[we++],ue.X[(506832829*ke&4294967295)>>>ue.Mb]=ke;ke=ye,e(!(Ie>>>(We=ue).Xa)),m[ke]=We.X[Ie],Ie=!0}Ie||e(ne.h==q(ne))}if(h.Pb&&ne.h&&ye<B)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Ae(h.s.vb,h.s.Wa);else{if(ne.h)break e;H!=null&&H(h,G>$?$:G),h.a=0,h.$=ye-E}return 1}return h.a=3,0}function qr(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,e(h!=null)}function Rn(){var h=new wu;return h==null?null:(h.a=0,h.xb=P_,Fi("Predictor","VP8LPredictors"),Fi("Predictor","VP8LPredictors_C"),Fi("PredictorAdd","VP8LPredictorsAdd"),Fi("PredictorAdd","VP8LPredictorsAdd_C"),Rp=lt,uc=at,oi=He,Wr=Nn,ja=Pt,Po=ti,Io=Bt,S.VP8LMapColor32b=Au,S.VP8LMapColor8b=Dp,h)}function bi(h,m,E,R,B){var $=1,H=[h],G=[m],K=R.m,ne=R.s,ce=null,ye=0;e:for(;;){if(E)for(;$&&se(K,1);){var we=H,ge=G,Te=R,xe=1,ue=Te.m,de=Te.gc[Te.ab],Ne=se(ue,2);if(Te.Oc&1<<Ne)$=0;else{switch(Te.Oc|=1<<Ne,de.hc=Ne,de.Ea=we[0],de.nc=ge[0],de.K=[null],++Te.ab,e(4>=Te.ab),Ne){case 0:case 1:de.b=se(ue,3)+2,xe=bi(Je(de.Ea,de.b),Je(de.nc,de.b),0,Te,de.K),de.K=de.K[0];break;case 3:var Ie,ke=se(ue,8)+1,We=16<ke?0:4<ke?1:2<ke?2:3;if(we[0]=Je(de.Ea,We),de.b=We,Ie=xe=bi(ke,1,0,Te,de.K)){var Be,st=ke,$e=de,zt=1<<(8>>$e.b),Ht=s(zt);if(Ht==null)Ie=0;else{var Dt=$e.K[0],kt=$e.w;for(Ht[0]=$e.K[0][0],Be=1;Be<1*st;++Be)Ht[Be]=De(Dt[kt+Be],Ht[Be-1]);for(;Be<4*zt;++Be)Ht[Be]=0;$e.K[0]=null,$e.K[0]=Ht,Ie=1}}xe=Ie;break;case 2:break;default:e(0)}$=xe}}if(H=H[0],G=G[0],$&&se(K,1)&&!($=1<=(ye=se(K,4))&&11>=ye)){R.a=3;break e}var en;if(en=$)t:{var Jt,bt,Hn,ai=R,Wn=H,li=G,Wt=ye,Ni=E,ki=ai.m,ir=ai.s,fr=[null],Kr=1,Gi=0,Xs=eI[Wt];n:for(;;){if(Ni&&se(ki,1)){var sr=se(ki,3)+2,jo=Je(Wn,sr),gc=Je(li,sr),Pu=jo*gc;if(!bi(jo,gc,0,ai,fr))break n;for(fr=fr[0],ir.xc=sr,Jt=0;Jt<Pu;++Jt){var Va=fr[Jt]>>8&65535;fr[Jt]=Va,Va>=Kr&&(Kr=Va+1)}}if(ki.h)break n;for(bt=0;5>bt;++bt){var Pn=k_[bt];!bt&&0<Wt&&(Pn+=1<<Wt),Gi<Pn&&(Gi=Pn)}var V1=o(Kr*Xs,P),F_=Kr,V_=o(F_,Q);if(V_==null)var Gp=null;else e(65536>=F_),Gp=V_;var gd=s(Gi);if(Gp==null||gd==null||V1==null){ai.a=1;break n}var Kp=V1;for(Jt=Hn=0;Jt<Kr;++Jt){var _s=Gp[Jt],Iu=_s.G,Cu=_s.H,B_=0,Yp=1,z_=0;for(bt=0;5>bt;++bt){Pn=k_[bt],Iu[bt]=Kp,Cu[bt]=Hn,!bt&&0<Wt&&(Pn+=1<<Wt);i:{var Qp,B1=Pn,Xp=ai,md=gd,bI=Kp,xI=Hn,z1=0,Ba=Xp.m,SI=se(Ba,1);if(i(md,0,0,B1),SI){var AI=se(Ba,1)+1,EI=se(Ba,1),U_=se(Ba,EI==0?1:8);md[U_]=1,AI==2&&(md[U_=se(Ba,8)]=1);var Jp=1}else{var $_=s(19),q_=se(Ba,4)+4;if(19<q_){Xp.a=3;var Zp=0;break i}for(Qp=0;Qp<q_;++Qp)$_[JP[Qp]]=se(Ba,3);var U1=void 0,vd=void 0,H_=Xp,NI=$_,eg=B1,W_=md,$1=0,za=H_.m,G_=8,K_=o(128,P);r:for(;k(K_,0,7,NI,19);){if(se(za,1)){var kI=2+2*se(za,3);if((U1=2+se(za,kI))>eg)break r}else U1=eg;for(vd=0;vd<eg&&U1--;){re(za);var Y_=K_[0+(127&z(za))];J(za,za.u+Y_.g);var Lu=Y_.value;if(16>Lu)W_[vd++]=Lu,Lu!=0&&(G_=Lu);else{var TI=Lu==16,Q_=Lu-16,PI=QP[Q_],X_=se(za,YP[Q_])+PI;if(vd+X_>eg)break r;for(var II=TI?G_:0;0<X_--;)W_[vd++]=II}}$1=1;break r}$1||(H_.a=3),Jp=$1}(Jp=Jp&&!Ba.h)&&(z1=k(bI,xI,8,md,B1)),Jp&&z1!=0?Zp=z1:(Xp.a=3,Zp=0)}if(Zp==0)break n;if(Yp&&XP[bt]==1&&(Yp=Kp[Hn].g==0),B_+=Kp[Hn].g,Hn+=Zp,3>=bt){var yd,q1=gd[0];for(yd=1;yd<Pn;++yd)gd[yd]>q1&&(q1=gd[yd]);z_+=q1}}if(_s.nd=Yp,_s.Qb=0,Yp&&(_s.qb=(Iu[3][Cu[3]+0].value<<24|Iu[1][Cu[1]+0].value<<16|Iu[2][Cu[2]+0].value)>>>0,B_==0&&256>Iu[0][Cu[0]+0].value&&(_s.Qb=1,_s.qb+=Iu[0][Cu[0]+0].value<<8)),_s.jc=!_s.Qb&&6>z_,_s.jc){var tg,Do=_s;for(tg=0;tg<dr;++tg){var Ua=tg,$a=Do.pd[Ua],ng=Do.G[0][Do.H[0]+Ua];256<=ng.value?($a.g=ng.g+256,$a.value=ng.value):($a.g=0,$a.value=0,Ua>>=Ln(ng,8,$a),Ua>>=Ln(Do.G[1][Do.H[1]+Ua],16,$a),Ua>>=Ln(Do.G[2][Do.H[2]+Ua],0,$a),Ln(Do.G[3][Do.H[3]+Ua],24,$a))}}}ir.vc=fr,ir.Wb=Kr,ir.Ya=Gp,ir.yc=V1,en=1;break t}en=0}if(!($=en)){R.a=3;break e}if(0<ye){if(ne.ua=1<<ye,!tt(ne.Wa,ye)){R.a=1,$=0;break e}}else ne.ua=0;var H1=R,J_=H,CI=G,W1=H1.s,G1=W1.xc;if(H1.c=J_,H1.i=CI,W1.md=Je(J_,G1),W1.wc=G1==0?-1:(1<<G1)-1,E){R.xb=lI;break e}if((ce=s(H*G))==null){R.a=1,$=0;break e}$=($=$r(R,ce,0,H,G,G,null))&&!K.h;break e}return $?(B!=null?B[0]=ce:(e(ce==null),e(E)),R.$=0,E||qr(ne)):qr(ne),$}function Vs(h,m){var E=h.c*h.i,R=E+m+16*m;return e(h.c<=m),h.V=s(R),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+E+m,1)}function Bs(h,m){var E=h.C,R=m-E,B=h.V,$=h.Ba+h.c*E;for(e(m<=h.l.o);0<R;){var H=16<R?16:R,G=h.l.ma,K=h.l.width,ne=K*H,ce=G.ca,ye=G.tb+K*E,we=h.Ta,ge=h.Ua;qn(h,H,B,$),Dn(we,ge,ce,ye,ne),Sr(G,E,E+H,ce,ye,K),R-=H,B+=H*h.c,E+=H}e(E==m),h.C=h.Ma=m}function zs(){this.ub=this.yd=this.td=this.Rb=0}function yo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function cu(){this.Yb=function(){var h=[];return function m(E,R,B){for(var $=B[R],H=0;H<$&&(E.push(B.length>R+1?[]:0),!(B.length<R+1));H++)m(E[H],R+1,B)}(h,0,[3,11]),h}()}function ma(){this.jb=s(3),this.Wc=a([4,8],cu),this.Xc=a([4,17],cu)}function uu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Us(){this.ld=this.La=this.dd=this.tc=0}function $s(){this.Na=this.la=0}function hs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _o(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function td(){this.uc=this.M=this.Nb=0,this.wa=Array(new Us),this.Y=0,this.ya=Array(new _o),this.aa=0,this.l=new bo}function Ql(){this.y=s(16),this.f=s(8),this.ea=s(8)}function hu(){this.cb=this.a=0,this.sc="",this.m=new me,this.Od=new zs,this.Kc=new yo,this.ed=new uu,this.Qa=new wo,this.Ic=this.$c=this.Aa=0,this.D=new td,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,me),this.ia=0,this.pb=o(4,hs),this.Pa=new ma,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ql),this.Hd=0,this.rb=Array(new $s),this.sb=0,this.wa=Array(new Us),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _o),this.L=this.aa=0,this.gd=a([4,2],Us),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xl(){var h=new hu;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,fd||(fd=du)),h}function dn(h,m,E){return h.a==0&&(h.a=m,h.sc=E,h.cb=0),0}function Jl(h,m,E){return 3<=E&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function Zl(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return dn(h,2,"null VP8Io passed to VP8GetHeaders()");var E=m.data,R=m.w,B=m.ha;if(4>B)return dn(h,7,"Truncated header.");var $=E[R+0]|E[R+1]<<8|E[R+2]<<16,H=h.Od;if(H.Rb=!(1&$),H.td=$>>1&7,H.yd=$>>4&1,H.ub=$>>5,3<H.td)return dn(h,3,"Incorrect keyframe parameters.");if(!H.yd)return dn(h,4,"Frame not displayable.");R+=3,B-=3;var G=h.Kc;if(H.Rb){if(7>B)return dn(h,7,"cannot parse picture header");if(!Jl(E,R,B))return dn(h,3,"Bad code word");G.c=16383&(E[R+4]<<8|E[R+3]),G.Td=E[R+4]>>6,G.i=16383&(E[R+6]<<8|E[R+5]),G.Ud=E[R+6]>>6,R+=7,B-=7,h.za=G.c+15>>4,h.Ub=G.i+15>>4,m.width=G.c,m.height=G.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i(($=h.Pa).jb,0,255,$.jb.length),e(($=h.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,i($.Zb,0,0,$.Zb.length),i($.Lb,0,0,$.Lb)}if(H.ub>B)return dn(h,7,"bad partition length");ae($=h.m,E,R,H.ub),R+=H.ub,B-=H.ub,H.Rb&&(G.Ld=ve($),G.Kd=ve($)),G=h.Qa;var K,ne=h.Pa;if(e($!=null),e(G!=null),G.Cb=ve($),G.Cb){if(G.Bb=ve($),ve($)){for(G.Fb=ve($),K=0;4>K;++K)G.Zb[K]=ve($)?Z($,7):0;for(K=0;4>K;++K)G.Lb[K]=ve($)?Z($,6):0}if(G.Bb)for(K=0;3>K;++K)ne.jb[K]=ve($)?X($,8):255}else G.Bb=0;if($.Ka)return dn(h,3,"cannot parse segment header");if((G=h.ed).zd=ve($),G.Tb=X($,6),G.wb=X($,3),G.Pc=ve($),G.Pc&&ve($)){for(ne=0;4>ne;++ne)ve($)&&(G.vd[ne]=Z($,6));for(ne=0;4>ne;++ne)ve($)&&(G.od[ne]=Z($,6))}if(h.L=G.Tb==0?0:G.zd?1:2,$.Ka)return dn(h,3,"cannot parse filter header");var ce=B;if(B=K=R,R=K+ce,G=ce,h.Xb=(1<<X(h.m,2))-1,ce<3*(ne=h.Xb))E=7;else{for(K+=3*ne,G-=3*ne,ce=0;ce<ne;++ce){var ye=E[B+0]|E[B+1]<<8|E[B+2]<<16;ye>G&&(ye=G),ae(h.Jc[+ce],E,K,ye),K+=ye,G-=ye,B+=3}ae(h.Jc[+ne],E,K,G),E=K<R?0:5}if(E!=0)return dn(h,E,"cannot parse partitions");for(E=X(K=h.m,7),B=ve(K)?Z(K,4):0,R=ve(K)?Z(K,4):0,G=ve(K)?Z(K,4):0,ne=ve(K)?Z(K,4):0,K=ve(K)?Z(K,4):0,ce=h.Qa,ye=0;4>ye;++ye){if(ce.Cb){var we=ce.Zb[ye];ce.Fb||(we+=E)}else{if(0<ye){h.pb[ye]=h.pb[0];continue}we=E}var ge=h.pb[ye];ge.Sc[0]=M1[$t(we+B,127)],ge.Sc[1]=O1[$t(we+0,127)],ge.Eb[0]=2*M1[$t(we+R,127)],ge.Eb[1]=101581*O1[$t(we+G,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=M1[$t(we+ne,117)],ge.Qc[1]=O1[$t(we+K,127)],ge.lc=we+K}if(!H.Rb)return dn(h,4,"Not a key frame.");for(ve($),H=h.Pa,E=0;4>E;++E){for(B=0;8>B;++B)for(R=0;3>R;++R)for(G=0;11>G;++G)ne=_e($,oI[E][B][R][G])?X($,8):iI[E][B][R][G],H.Wc[E][B].Yb[R][G]=ne;for(B=0;17>B;++B)H.Xc[E][B]=H.Wc[E][aI[B]]}return h.kc=ve($),h.kc&&(h.Bd=X($,8)),h.cb=1}function du(h,m,E,R,B,$,H){var G=m[B].Yb[E];for(E=0;16>B;++B){if(!_e(h,G[E+0]))return B;for(;!_e(h,G[E+1]);)if(G=m[++B].Yb[0],E=0,B==16)return 16;var K=m[B+1].Yb;if(_e(h,G[E+2])){var ne=h,ce=0;if(_e(ne,(we=G)[(ye=E)+3]))if(_e(ne,we[ye+6])){for(G=0,ye=2*(ce=_e(ne,we[ye+8]))+(we=_e(ne,we[ye+9+ce])),ce=0,we=nI[ye];we[G];++G)ce+=ce+_e(ne,we[G]);ce+=3+(8<<ye)}else _e(ne,we[ye+7])?(ce=7+2*_e(ne,165),ce+=_e(ne,145)):ce=5+_e(ne,159);else ce=_e(ne,we[ye+4])?3+_e(ne,we[ye+5]):2;G=K[2]}else ce=1,G=K[1];K=H+rI[B],0>(ne=h).b&&he(ne);var ye,we=ne.b,ge=(ye=ne.Ca>>1)-(ne.I>>we)>>31;--ne.b,ne.Ca+=ge,ne.Ca|=1,ne.I-=(ye+1&ge)<<we,$[K]=((ce^ge)-ge)*R[(0<B)+0]}return 16}function ec(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function fu(h,m){if(h==null)return 0;if(m==null)return dn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Zl(h,m))return 0;if(e(h.cb),m.ac==null||m.ac(m)){m.ob&&(h.L=0);var E=Wp[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=m.v-E>>4,h.zb=m.j-E>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=m.o+15+E>>4,h.Hb=m.va+15+E>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var R=h.ed;for(E=0;4>E;++E){var B;if(h.Qa.Cb){var $=h.Qa.Lb[E];h.Qa.Fb||($+=R.Tb)}else $=R.Tb;for(B=0;1>=B;++B){var H=h.gd[E][B],G=$;if(R.Pc&&(G+=R.vd[0],B&&(G+=R.od[0])),0<(G=0>G?0:63<G?63:G)){var K=G;0<R.wb&&(K=4<R.wb?K>>2:K>>1)>9-R.wb&&(K=9-R.wb),1>K&&(K=1),H.dd=K,H.tc=2*G+K,H.ld=40<=G?2:15<=G?1:0}else H.tc=0;H.La=B}}}E=0}else dn(h,6,"Frame setup failed"),E=h.a;if(E=E==0){if(E){h.$c=0,0<h.Aa||(h.Ic=_I);e:{E=h.Ic,R=4*(K=h.za);var ne=32*K,ce=K+1,ye=0<h.L?K*(0<h.Aa?2:1):0,we=(h.Aa==2?2:1)*K;if((H=R+832+(B=3*(16*E+Wp[h.L])/2*ne)+($=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=H)E=0;else{if(H>h.Vb){if(h.Vb=0,h.Ec=s(H),h.Fc=0,h.Ec==null){E=dn(h,1,"no memory during frame initialization.");break e}h.Vb=H}H=h.Ec,G=h.Fc,h.Ac=H,h.Bc=G,G+=R,h.Gd=o(ne,Ql),h.Hd=0,h.rb=o(ce+1,$s),h.sb=1,h.wa=ye?o(ye,Us):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=K),e(!0),h.oc=H,h.pc=G,G+=832,h.ya=o(we,_o),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=K),h.R=16*K,h.B=8*K,K=(ne=Wp[h.L])*h.R,ne=ne/2*h.B,h.sa=H,h.ta=G+K,h.qa=h.sa,h.ra=h.ta+16*E*h.R+ne,h.Ha=h.qa,h.Ia=h.ra+8*E*h.B+ne,h.$c=0,G+=B,h.mb=$?H:null,h.nb=$?G:null,e(G+$<=h.Fc+h.Vb),ec(h),i(h.Ac,h.Bc,0,R),E=1}}if(E){if(m.ka=0,m.y=h.sa,m.O=h.ta,m.f=h.qa,m.N=h.ra,m.ea=h.Ha,m.Vd=h.Ia,m.fa=h.R,m.Rc=h.B,m.F=null,m.J=0,!Op){for(E=-255;255>=E;++E)Jn[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)Lo[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)dd[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)Tu[255+E]=0>E?0:255<E?255:E;Op=1}Eu=Ao,Co=ya,cd=tc,Gr=qt,Ui=So,jn=xo,Nu=Ea,Mp=ms,ud=ka,hc=cc,dc=Na,Da=No,fc=Ta,ku=Gs,pc=Eo,Ma=Ai,hd=Xn,$i=yu,ws[0]=Bi,ws[1]=nd,ws[2]=Hs,ws[3]=id,ws[4]=mu,ws[5]=ba,ws[6]=xi,ws[7]=rc,ws[8]=Sa,ws[9]=xa,Oa[0]=qs,Oa[1]=rd,Oa[2]=fs,Oa[3]=wa,Oa[4]=fn,Oa[5]=gu,Oa[6]=nc,Ro[0]=gs,Ro[1]=pu,Ro[2]=vu,Ro[3]=ps,Ro[4]=Ut,Ro[5]=ic,Ro[6]=sc,E=1}else E=0}E&&(E=function(ge,Te){for(ge.M=0;ge.M<ge.Va;++ge.M){var xe,ue=ge.Jc[ge.M&ge.Xb],de=ge.m,Ne=ge;for(xe=0;xe<Ne.za;++xe){var Ie=de,ke=Ne,We=ke.Ac,Be=ke.Bc+4*xe,st=ke.zc,$e=ke.ya[ke.aa+xe];if(ke.Qa.Bb?$e.$b=_e(Ie,ke.Pa.jb[0])?2+_e(Ie,ke.Pa.jb[2]):_e(Ie,ke.Pa.jb[1]):$e.$b=0,ke.kc&&($e.Ad=_e(Ie,ke.Bd)),$e.Za=!_e(Ie,145)+0,$e.Za){var zt=$e.Ob,Ht=0;for(ke=0;4>ke;++ke){var Dt,kt=st[0+ke];for(Dt=0;4>Dt;++Dt){kt=sI[We[Be+Dt]][kt];for(var en=T_[_e(Ie,kt[0])];0<en;)en=T_[2*en+_e(Ie,kt[en])];kt=-en,We[Be+Dt]=kt}r(zt,Ht,We,Be,4),Ht+=4,st[0+ke]=kt}}else kt=_e(Ie,156)?_e(Ie,128)?1:3:_e(Ie,163)?2:0,$e.Ob[0]=kt,i(We,Be,kt,4),i(st,0,kt,4);$e.Dd=_e(Ie,142)?_e(Ie,114)?_e(Ie,183)?1:3:2:0}if(Ne.m.Ka)return dn(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Ne=ue,Ie=(de=ge).rb[de.sb-1],We=de.rb[de.sb+de.ja],xe=de.ya[de.aa+de.ja],Be=de.kc?xe.Ad:0)Ie.la=We.la=0,xe.Za||(Ie.Na=We.Na=0),xe.Hc=0,xe.Gc=0,xe.ia=0;else{var Jt,bt;if(Ie=We,We=Ne,Be=de.Pa.Xc,st=de.ya[de.aa+de.ja],$e=de.pb[st.$b],ke=st.ad,zt=0,Ht=de.rb[de.sb-1],kt=Dt=0,i(ke,zt,0,384),st.Za)var Hn=0,ai=Be[3];else{en=s(16);var Wn=Ie.Na+Ht.Na;if(Wn=fd(We,Be[1],Wn,$e.Eb,0,en,0),Ie.Na=Ht.Na=(0<Wn)+0,1<Wn)Eu(en,0,ke,zt);else{var li=en[0]+3>>3;for(en=0;256>en;en+=16)ke[zt+en]=li}Hn=1,ai=Be[0]}var Wt=15&Ie.la,Ni=15&Ht.la;for(en=0;4>en;++en){var ki=1&Ni;for(li=bt=0;4>li;++li)Wt=Wt>>1|(ki=(Wn=fd(We,ai,Wn=ki+(1&Wt),$e.Sc,Hn,ke,zt))>Hn)<<7,bt=bt<<2|(3<Wn?3:1<Wn?2:ke[zt+0]!=0),zt+=16;Wt>>=4,Ni=Ni>>1|ki<<7,Dt=(Dt<<8|bt)>>>0}for(ai=Wt,Hn=Ni>>4,Jt=0;4>Jt;Jt+=2){for(bt=0,Wt=Ie.la>>4+Jt,Ni=Ht.la>>4+Jt,en=0;2>en;++en){for(ki=1&Ni,li=0;2>li;++li)Wn=ki+(1&Wt),Wt=Wt>>1|(ki=0<(Wn=fd(We,Be[2],Wn,$e.Qc,0,ke,zt)))<<3,bt=bt<<2|(3<Wn?3:1<Wn?2:ke[zt+0]!=0),zt+=16;Wt>>=2,Ni=Ni>>1|ki<<5}kt|=bt<<4*Jt,ai|=Wt<<4<<Jt,Hn|=(240&Ni)<<Jt}Ie.la=ai,Ht.la=Hn,st.Hc=Dt,st.Gc=kt,st.ia=43690&kt?0:$e.ia,Be=!(Dt|kt)}if(0<de.L&&(de.wa[de.Y+de.ja]=de.gd[xe.$b][xe.Za],de.wa[de.Y+de.ja].La|=!Be),Ne.Ka)return dn(ge,7,"Premature end-of-file encountered.")}if(ec(ge),de=Te,Ne=1,xe=(ue=ge).D,Ie=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(xe.M=ue.M,xe.uc=Ie,Ys(ue,xe),Ne=1,xe=(bt=ue.D).Nb,Ie=(kt=Wp[ue.L])*ue.R,We=kt/2*ue.B,en=16*xe*ue.R,li=8*xe*ue.B,Be=ue.sa,st=ue.ta-Ie+en,$e=ue.qa,ke=ue.ra-We+li,zt=ue.Ha,Ht=ue.Ia-We+li,Ni=(Wt=bt.M)==0,Dt=Wt>=ue.Va-1,ue.Aa==2&&Ys(ue,bt),bt.uc)for(ki=(Wn=ue).D.M,e(Wn.D.uc),bt=Wn.yb;bt<Wn.Hb;++bt){Hn=bt,ai=ki;var ir=(fr=(Pn=Wn).D).Nb;Jt=Pn.R;var fr=fr.wa[fr.Y+Hn],Kr=Pn.sa,Gi=Pn.ta+16*ir*Jt+16*Hn,Xs=fr.dd,sr=fr.tc;if(sr!=0)if(e(3<=sr),Pn.L==1)0<Hn&&Ma(Kr,Gi,Jt,sr+4),fr.La&&$i(Kr,Gi,Jt,sr),0<ai&&pc(Kr,Gi,Jt,sr+4),fr.La&&hd(Kr,Gi,Jt,sr);else{var jo=Pn.B,gc=Pn.qa,Pu=Pn.ra+8*ir*jo+8*Hn,Va=Pn.Ha,Pn=Pn.Ia+8*ir*jo+8*Hn;ir=fr.ld,0<Hn&&(Mp(Kr,Gi,Jt,sr+4,Xs,ir),hc(gc,Pu,Va,Pn,jo,sr+4,Xs,ir)),fr.La&&(Da(Kr,Gi,Jt,sr,Xs,ir),ku(gc,Pu,Va,Pn,jo,sr,Xs,ir)),0<ai&&(Nu(Kr,Gi,Jt,sr+4,Xs,ir),ud(gc,Pu,Va,Pn,jo,sr+4,Xs,ir)),fr.La&&(dc(Kr,Gi,Jt,sr,Xs,ir),fc(gc,Pu,Va,Pn,jo,sr,Xs,ir))}}if(ue.ia&&alert("todo:DitherRow"),de.put!=null){if(bt=16*Wt,Wt=16*(Wt+1),Ni?(de.y=ue.sa,de.O=ue.ta+en,de.f=ue.qa,de.N=ue.ra+li,de.ea=ue.Ha,de.W=ue.Ia+li):(bt-=kt,de.y=Be,de.O=st,de.f=$e,de.N=ke,de.ea=zt,de.W=Ht),Dt||(Wt-=kt),Wt>de.o&&(Wt=de.o),de.F=null,de.J=null,ue.Fa!=null&&0<ue.Fa.length&&bt<Wt&&(de.J=La(ue,de,bt,Wt-bt),de.F=ue.mb,de.F==null&&de.F.length==0)){Ne=dn(ue,3,"Could not decode alpha data.");break e}bt<de.j&&(kt=de.j-bt,bt=de.j,e(!(1&kt)),de.O+=ue.R*kt,de.N+=ue.B*(kt>>1),de.W+=ue.B*(kt>>1),de.F!=null&&(de.J+=de.width*kt)),bt<Wt&&(de.O+=de.v,de.N+=de.v>>1,de.W+=de.v>>1,de.F!=null&&(de.J+=de.v),de.ka=bt-de.j,de.U=de.va-de.v,de.T=Wt-bt,Ne=de.put(de))}xe+1!=ue.Ic||Dt||(r(ue.sa,ue.ta-Ie,Be,st+16*ue.R,Ie),r(ue.qa,ue.ra-We,$e,ke+8*ue.B,We),r(ue.Ha,ue.Ia-We,zt,Ht+8*ue.B,We))}if(!Ne)return dn(ge,6,"Output aborted.")}return 1}(h,m)),m.bc!=null&&m.bc(m),E&=1}return E?(h.cb=0,E):0}function ii(h,m,E,R,B){B=h[m+E+32*R]+(B>>3),h[m+E+32*R]=-256&B?0>B?0:255:B}function va(h,m,E,R,B,$){ii(h,m,0,E,R+B),ii(h,m,1,E,R+$),ii(h,m,2,E,R-$),ii(h,m,3,E,R-B)}function Tn(h){return(20091*h>>16)+h}function Hr(h,m,E,R){var B,$=0,H=s(16);for(B=0;4>B;++B){var G=h[m+0]+h[m+8],K=h[m+0]-h[m+8],ne=(35468*h[m+4]>>16)-Tn(h[m+12]),ce=Tn(h[m+4])+(35468*h[m+12]>>16);H[$+0]=G+ce,H[$+1]=K+ne,H[$+2]=K-ne,H[$+3]=G-ce,$+=4,m++}for(B=$=0;4>B;++B)G=(h=H[$+0]+4)+H[$+8],K=h-H[$+8],ne=(35468*H[$+4]>>16)-Tn(H[$+12]),ii(E,R,0,0,G+(ce=Tn(H[$+4])+(35468*H[$+12]>>16))),ii(E,R,1,0,K+ne),ii(E,R,2,0,K-ne),ii(E,R,3,0,G-ce),$++,R+=32}function xo(h,m,E,R){var B=h[m+0]+4,$=35468*h[m+4]>>16,H=Tn(h[m+4]),G=35468*h[m+1]>>16;va(E,R,0,B+H,h=Tn(h[m+1]),G),va(E,R,1,B+$,h,G),va(E,R,2,B-$,h,G),va(E,R,3,B-H,h,G)}function ya(h,m,E,R,B){Hr(h,m,E,R),B&&Hr(h,m+16,E,R+4)}function tc(h,m,E,R){Co(h,m+0,E,R,1),Co(h,m+32,E,R+128,1)}function qt(h,m,E,R){var B;for(h=h[m+0]+4,B=0;4>B;++B)for(m=0;4>m;++m)ii(E,R,m,B,h)}function So(h,m,E,R){h[m+0]&&Gr(h,m+0,E,R),h[m+16]&&Gr(h,m+16,E,R+4),h[m+32]&&Gr(h,m+32,E,R+128),h[m+48]&&Gr(h,m+48,E,R+128+4)}function Ao(h,m,E,R){var B,$=s(16);for(B=0;4>B;++B){var H=h[m+0+B]+h[m+12+B],G=h[m+4+B]+h[m+8+B],K=h[m+4+B]-h[m+8+B],ne=h[m+0+B]-h[m+12+B];$[0+B]=H+G,$[8+B]=H-G,$[4+B]=ne+K,$[12+B]=ne-K}for(B=0;4>B;++B)H=(h=$[0+4*B]+3)+$[3+4*B],G=$[1+4*B]+$[2+4*B],K=$[1+4*B]-$[2+4*B],ne=h-$[3+4*B],E[R+0]=H+G>>3,E[R+16]=ne+K>>3,E[R+32]=H-G>>3,E[R+48]=ne-K>>3,R+=64}function ds(h,m,E){var R,B=m-32,$=Ei,H=255-h[B-1];for(R=0;R<E;++R){var G,K=$,ne=H+h[m-1];for(G=0;G<E;++G)h[m+G]=K[ne+h[B+G]];m+=32}}function nd(h,m){ds(h,m,4)}function pu(h,m){ds(h,m,8)}function rd(h,m){ds(h,m,16)}function fs(h,m){var E;for(E=0;16>E;++E)r(h,m+32*E,h,m-32,16)}function wa(h,m){var E;for(E=16;0<E;--E)i(h,m,h[m-1],16),m+=32}function _a(h,m,E){var R;for(R=0;16>R;++R)i(m,E+32*R,h,16)}function qs(h,m){var E,R=16;for(E=0;16>E;++E)R+=h[m-1+32*E]+h[m+E-32];_a(R>>5,h,m)}function fn(h,m){var E,R=8;for(E=0;16>E;++E)R+=h[m-1+32*E];_a(R>>4,h,m)}function gu(h,m){var E,R=8;for(E=0;16>E;++E)R+=h[m+E-32];_a(R>>4,h,m)}function nc(h,m){_a(128,h,m)}function ht(h,m,E){return h+2*m+E+2>>2}function Hs(h,m){var E,R=m-32;for(R=new Uint8Array([ht(h[R-1],h[R+0],h[R+1]),ht(h[R+0],h[R+1],h[R+2]),ht(h[R+1],h[R+2],h[R+3]),ht(h[R+2],h[R+3],h[R+4])]),E=0;4>E;++E)r(h,m+32*E,R,0,R.length)}function id(h,m){var E=h[m-1],R=h[m-1+32],B=h[m-1+64],$=h[m-1+96];Re(h,m+0,16843009*ht(h[m-1-32],E,R)),Re(h,m+32,16843009*ht(E,R,B)),Re(h,m+64,16843009*ht(R,B,$)),Re(h,m+96,16843009*ht(B,$,$))}function Bi(h,m){var E,R=4;for(E=0;4>E;++E)R+=h[m+E-32]+h[m-1+32*E];for(R>>=3,E=0;4>E;++E)i(h,m+32*E,R,4)}function mu(h,m){var E=h[m-1+0],R=h[m-1+32],B=h[m-1+64],$=h[m-1-32],H=h[m+0-32],G=h[m+1-32],K=h[m+2-32],ne=h[m+3-32];h[m+0+96]=ht(R,B,h[m-1+96]),h[m+1+96]=h[m+0+64]=ht(E,R,B),h[m+2+96]=h[m+1+64]=h[m+0+32]=ht($,E,R),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=ht(H,$,E),h[m+3+64]=h[m+2+32]=h[m+1+0]=ht(G,H,$),h[m+3+32]=h[m+2+0]=ht(K,G,H),h[m+3+0]=ht(ne,K,G)}function xi(h,m){var E=h[m+1-32],R=h[m+2-32],B=h[m+3-32],$=h[m+4-32],H=h[m+5-32],G=h[m+6-32],K=h[m+7-32];h[m+0+0]=ht(h[m+0-32],E,R),h[m+1+0]=h[m+0+32]=ht(E,R,B),h[m+2+0]=h[m+1+32]=h[m+0+64]=ht(R,B,$),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=ht(B,$,H),h[m+3+32]=h[m+2+64]=h[m+1+96]=ht($,H,G),h[m+3+64]=h[m+2+96]=ht(H,G,K),h[m+3+96]=ht(G,K,K)}function ba(h,m){var E=h[m-1+0],R=h[m-1+32],B=h[m-1+64],$=h[m-1-32],H=h[m+0-32],G=h[m+1-32],K=h[m+2-32],ne=h[m+3-32];h[m+0+0]=h[m+1+64]=$+H+1>>1,h[m+1+0]=h[m+2+64]=H+G+1>>1,h[m+2+0]=h[m+3+64]=G+K+1>>1,h[m+3+0]=K+ne+1>>1,h[m+0+96]=ht(B,R,E),h[m+0+64]=ht(R,E,$),h[m+0+32]=h[m+1+96]=ht(E,$,H),h[m+1+32]=h[m+2+96]=ht($,H,G),h[m+2+32]=h[m+3+96]=ht(H,G,K),h[m+3+32]=ht(G,K,ne)}function rc(h,m){var E=h[m+0-32],R=h[m+1-32],B=h[m+2-32],$=h[m+3-32],H=h[m+4-32],G=h[m+5-32],K=h[m+6-32],ne=h[m+7-32];h[m+0+0]=E+R+1>>1,h[m+1+0]=h[m+0+64]=R+B+1>>1,h[m+2+0]=h[m+1+64]=B+$+1>>1,h[m+3+0]=h[m+2+64]=$+H+1>>1,h[m+0+32]=ht(E,R,B),h[m+1+32]=h[m+0+96]=ht(R,B,$),h[m+2+32]=h[m+1+96]=ht(B,$,H),h[m+3+32]=h[m+2+96]=ht($,H,G),h[m+3+64]=ht(H,G,K),h[m+3+96]=ht(G,K,ne)}function xa(h,m){var E=h[m-1+0],R=h[m-1+32],B=h[m-1+64],$=h[m-1+96];h[m+0+0]=E+R+1>>1,h[m+2+0]=h[m+0+32]=R+B+1>>1,h[m+2+32]=h[m+0+64]=B+$+1>>1,h[m+1+0]=ht(E,R,B),h[m+3+0]=h[m+1+32]=ht(R,B,$),h[m+3+32]=h[m+1+64]=ht(B,$,$),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=$}function Sa(h,m){var E=h[m-1+0],R=h[m-1+32],B=h[m-1+64],$=h[m-1+96],H=h[m-1-32],G=h[m+0-32],K=h[m+1-32],ne=h[m+2-32];h[m+0+0]=h[m+2+32]=E+H+1>>1,h[m+0+32]=h[m+2+64]=R+E+1>>1,h[m+0+64]=h[m+2+96]=B+R+1>>1,h[m+0+96]=$+B+1>>1,h[m+3+0]=ht(G,K,ne),h[m+2+0]=ht(H,G,K),h[m+1+0]=h[m+3+32]=ht(E,H,G),h[m+1+32]=h[m+3+64]=ht(R,E,H),h[m+1+64]=h[m+3+96]=ht(B,R,E),h[m+1+96]=ht($,B,R)}function vu(h,m){var E;for(E=0;8>E;++E)r(h,m+32*E,h,m-32,8)}function ps(h,m){var E;for(E=0;8>E;++E)i(h,m,h[m-1],8),m+=32}function Si(h,m,E){var R;for(R=0;8>R;++R)i(m,E+32*R,h,8)}function gs(h,m){var E,R=8;for(E=0;8>E;++E)R+=h[m+E-32]+h[m-1+32*E];Si(R>>4,h,m)}function ic(h,m){var E,R=4;for(E=0;8>E;++E)R+=h[m+E-32];Si(R>>3,h,m)}function Ut(h,m){var E,R=4;for(E=0;8>E;++E)R+=h[m-1+32*E];Si(R>>3,h,m)}function sc(h,m){Si(128,h,m)}function Aa(h,m,E){var R=h[m-E],B=h[m+0],$=3*(B-R)+C1[1020+h[m-2*E]-h[m+E]],H=Fp[112+($+4>>3)];h[m-E]=Ei[255+R+Fp[112+($+3>>3)]],h[m+0]=Ei[255+B-H]}function oc(h,m,E,R){var B=h[m+0],$=h[m+E];return Hi[255+h[m-2*E]-h[m-E]]>R||Hi[255+$-B]>R}function ac(h,m,E,R){return 4*Hi[255+h[m-E]-h[m+0]]+Hi[255+h[m-2*E]-h[m+E]]<=R}function lc(h,m,E,R,B){var $=h[m-3*E],H=h[m-2*E],G=h[m-E],K=h[m+0],ne=h[m+E],ce=h[m+2*E],ye=h[m+3*E];return 4*Hi[255+G-K]+Hi[255+H-ne]>R?0:Hi[255+h[m-4*E]-$]<=B&&Hi[255+$-H]<=B&&Hi[255+H-G]<=B&&Hi[255+ye-ce]<=B&&Hi[255+ce-ne]<=B&&Hi[255+ne-K]<=B}function Eo(h,m,E,R){var B=2*R+1;for(R=0;16>R;++R)ac(h,m+R,E,B)&&Aa(h,m+R,E)}function Ai(h,m,E,R){var B=2*R+1;for(R=0;16>R;++R)ac(h,m+R*E,1,B)&&Aa(h,m+R*E,1)}function Xn(h,m,E,R){var B;for(B=3;0<B;--B)Eo(h,m+=4*E,E,R)}function yu(h,m,E,R){var B;for(B=3;0<B;--B)Ai(h,m+=4,E,R)}function Ws(h,m,E,R,B,$,H,G){for($=2*$+1;0<B--;){if(lc(h,m,E,$,H))if(oc(h,m,E,G))Aa(h,m,E);else{var K=h,ne=m,ce=E,ye=K[ne-2*ce],we=K[ne-ce],ge=K[ne+0],Te=K[ne+ce],xe=K[ne+2*ce],ue=27*(Ne=C1[1020+3*(ge-we)+C1[1020+ye-Te]])+63>>7,de=18*Ne+63>>7,Ne=9*Ne+63>>7;K[ne-3*ce]=Ei[255+K[ne-3*ce]+Ne],K[ne-2*ce]=Ei[255+ye+de],K[ne-ce]=Ei[255+we+ue],K[ne+0]=Ei[255+ge-ue],K[ne+ce]=Ei[255+Te-de],K[ne+2*ce]=Ei[255+xe-Ne]}m+=R}}function ur(h,m,E,R,B,$,H,G){for($=2*$+1;0<B--;){if(lc(h,m,E,$,H))if(oc(h,m,E,G))Aa(h,m,E);else{var K=h,ne=m,ce=E,ye=K[ne-ce],we=K[ne+0],ge=K[ne+ce],Te=Fp[112+((xe=3*(we-ye))+4>>3)],xe=Fp[112+(xe+3>>3)],ue=Te+1>>1;K[ne-2*ce]=Ei[255+K[ne-2*ce]+ue],K[ne-ce]=Ei[255+ye+xe],K[ne+0]=Ei[255+we-Te],K[ne+ce]=Ei[255+ge-ue]}m+=R}}function Ea(h,m,E,R,B,$){Ws(h,m,E,1,16,R,B,$)}function ms(h,m,E,R,B,$){Ws(h,m,1,E,16,R,B,$)}function Na(h,m,E,R,B,$){var H;for(H=3;0<H;--H)ur(h,m+=4*E,E,1,16,R,B,$)}function No(h,m,E,R,B,$){var H;for(H=3;0<H;--H)ur(h,m+=4,1,E,16,R,B,$)}function ka(h,m,E,R,B,$,H,G){Ws(h,m,B,1,8,$,H,G),Ws(E,R,B,1,8,$,H,G)}function cc(h,m,E,R,B,$,H,G){Ws(h,m,1,B,8,$,H,G),Ws(E,R,1,B,8,$,H,G)}function Ta(h,m,E,R,B,$,H,G){ur(h,m+4*B,B,1,8,$,H,G),ur(E,R+4*B,B,1,8,$,H,G)}function Gs(h,m,E,R,B,$,H,G){ur(h,m+4,1,B,8,$,H,G),ur(E,R+4,1,B,8,$,H,G)}function ko(){this.ba=new cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pa(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function To(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ia(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new P}function wu(){this.xb=this.a=0,this.l=new bo,this.ca=new cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ia,this.ab=0,this.gc=o(4,To),this.Oc=0}function vs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ks(h,m,E,R,B,$,H){for(h=h==null?0:h[m+0],m=0;m<H;++m)B[$+m]=h+E[R+m]&255,h=B[$+m]}function Ca(h,m,E,R,B,$,H){var G;if(h==null)Ks(null,null,E,R,B,$,H);else for(G=0;G<H;++G)B[$+G]=h[m+G]+E[R+G]&255}function Ar(h,m,E,R,B,$,H){if(h==null)Ks(null,null,E,R,B,$,H);else{var G,K=h[m+0],ne=K,ce=K;for(G=0;G<H;++G)ne=ce+(K=h[m+G])-ne,ce=E[R+G]+(-256&ne?0>ne?0:255:ne)&255,ne=K,B[$+G]=ce}}function La(h,m,E,R){var B=m.width,$=m.o;if(e(h!=null&&m!=null),0>E||0>=R||E+R>$)return null;if(!h.Cc){if(h.ga==null){var H;if(h.ga=new vs,(H=h.ga==null)||(H=m.width*m.o,e(h.Gb.length==0),h.Gb=s(H),h.Uc=0,h.Gb==null?H=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,H=1),H=!H),!H){H=h.ga;var G=h.Fa,K=h.P,ne=h.qc,ce=h.mb,ye=h.nb,we=K+1,ge=ne-1,Te=H.l;if(e(G!=null&&ce!=null&&m!=null),Fa[0]=null,Fa[1]=Ks,Fa[2]=Ca,Fa[3]=Ar,H.ca=ce,H.tb=ye,H.c=m.width,H.i=m.height,e(0<H.c&&0<H.i),1>=ne)m=0;else if(H.$a=G[K+0]>>0&3,H.Z=G[K+0]>>2&3,H.Lc=G[K+0]>>4&3,K=G[K+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||K)m=0;else if(Te.put=br,Te.ac=Un,Te.bc=_i,Te.ma=H,Te.width=m.width,Te.height=m.height,Te.Da=m.Da,Te.v=m.v,Te.va=m.va,Te.j=m.j,Te.o=m.o,H.$a)e:{e(H.$a==1),m=Rn();t:for(;;){if(m==null){m=0;break e}if(e(H!=null),H.mc=m,m.c=H.c,m.i=H.i,m.l=H.l,m.l.ma=H,m.l.width=H.c,m.l.height=H.i,m.a=0,Y(m.m,G,we,ge),!bi(H.c,H.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&us(m.s)?(H.ic=1,G=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(G),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(H.ic=0,m=Vs(m,H.c)),!m))break t;m=1;break e}H.mc=null,m=0}else m=ge>=H.c*H.i;H=!m}if(H)return null;h.ga.Lc!=1?h.Ga=0:R=$-E}e(h.ga!=null),e(E+R<=$);e:{if(m=(G=h.ga).c,$=G.l.o,G.$a==0){if(we=h.rc,ge=h.Vc,Te=h.Fa,K=h.P+1+E*m,ne=h.mb,ce=h.nb+E*m,e(K<=h.P+h.qc),G.Z!=0)for(e(Fa[G.Z]!=null),H=0;H<R;++H)Fa[G.Z](we,ge,Te,K,ne,ce,m),we=ne,ge=ce,ce+=m,K+=m;else for(H=0;H<R;++H)r(ne,ce,Te,K,m),we=ne,ge=ce,ce+=m,K+=m;h.rc=we,h.Vc=ge}else{if(e(G.mc!=null),m=E+R,e((H=G.mc)!=null),e(m<=H.i),H.C>=m)m=1;else if(G.ic||pe(),G.ic){G=H.V,we=H.Ba,ge=H.c;var xe=H.i,ue=(Te=1,K=H.$/ge,ne=H.$%ge,ce=H.m,ye=H.s,H.$),de=ge*xe,Ne=ge*m,Ie=ye.wc,ke=ue<Ne?kn(ye,ne,K):null;e(ue<=de),e(m<=xe),e(us(ye));t:for(;;){for(;!ce.h&&ue<Ne;){if(ne&Ie||(ke=kn(ye,ne,K)),e(ke!=null),re(ce),256>(xe=$n(ke.G[0],ke.H[0],ce)))G[we+ue]=xe,++ue,++ne>=ge&&(ne=0,++K<=m&&!(K%16)&&ri(H,K));else{if(!(280>xe)){Te=0;break t}xe=ni(xe-256,ce);var We,Be=$n(ke.G[4],ke.H[4],ce);if(re(ce),!(ue>=(Be=xr(ge,Be=ni(Be,ce)))&&de-ue>=xe)){Te=0;break t}for(We=0;We<xe;++We)G[we+ue+We]=G[we+ue+We-Be];for(ue+=xe,ne+=xe;ne>=ge;)ne-=ge,++K<=m&&!(K%16)&&ri(H,K);ue<Ne&&ne&Ie&&(ke=kn(ye,ne,K))}e(ce.h==q(ce))}ri(H,K>m?m:K);break t}!Te||ce.h&&ue<de?(Te=0,H.a=ce.h?5:3):H.$=ue,m=Te}else m=$r(H,H.V,H.Ba,H.c,H.i,m,Bs);if(!m){R=0;break e}}E+R>=$&&(h.Cc=1),R=1}if(!R)return null;if(h.Cc&&((R=h.ga)!=null&&(R.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+E*B}function b(h,m,E,R,B,$){for(;0<B--;){var H,G=h,K=m+(E?1:0),ne=h,ce=m+(E?0:3);for(H=0;H<R;++H){var ye=ne[ce+4*H];ye!=255&&(ye*=32897,G[K+4*H+0]=G[K+4*H+0]*ye>>23,G[K+4*H+1]=G[K+4*H+1]*ye>>23,G[K+4*H+2]=G[K+4*H+2]*ye>>23)}m+=$}}function V(h,m,E,R,B){for(;0<R--;){var $;for($=0;$<E;++$){var H=h[m+2*$+0],G=15&(ne=h[m+2*$+1]),K=4369*G,ne=(240&ne|ne>>4)*K>>16;h[m+2*$+0]=(240&H|H>>4)*K>>16&240|(15&H|H<<4)*K>>16>>4&15,h[m+2*$+1]=240&ne|G}m+=B}}function ie(h,m,E,R,B,$,H,G){var K,ne,ce=255;for(ne=0;ne<B;++ne){for(K=0;K<R;++K){var ye=h[m+K];$[H+4*K]=ye,ce&=ye}m+=E,H+=G}return ce!=255}function le(h,m,E,R,B){var $;for($=0;$<B;++$)E[R+$]=h[m+$]>>8}function pe(){qi=b,an=V,ln=ie,Dn=le}function Se(h,m,E){S[h]=function(R,B,$,H,G,K,ne,ce,ye,we,ge,Te,xe,ue,de,Ne,Ie){var ke,We=Ie-1>>1,Be=G[K+0]|ne[ce+0]<<16,st=ye[we+0]|ge[Te+0]<<16;e(R!=null);var $e=3*Be+st+131074>>2;for(m(R[B+0],255&$e,$e>>16,xe,ue),$!=null&&($e=3*st+Be+131074>>2,m($[H+0],255&$e,$e>>16,de,Ne)),ke=1;ke<=We;++ke){var zt=G[K+ke]|ne[ce+ke]<<16,Ht=ye[we+ke]|ge[Te+ke]<<16,Dt=Be+zt+st+Ht+524296,kt=Dt+2*(zt+st)>>3;$e=kt+Be>>1,Be=(Dt=Dt+2*(Be+Ht)>>3)+zt>>1,m(R[B+2*ke-1],255&$e,$e>>16,xe,ue+(2*ke-1)*E),m(R[B+2*ke-0],255&Be,Be>>16,xe,ue+(2*ke-0)*E),$!=null&&($e=Dt+st>>1,Be=kt+Ht>>1,m($[H+2*ke-1],255&$e,$e>>16,de,Ne+(2*ke-1)*E),m($[H+2*ke+0],255&Be,Be>>16,de,Ne+(2*ke+0)*E)),Be=zt,st=Ht}1&Ie||($e=3*Be+st+131074>>2,m(R[B+Ie-1],255&$e,$e>>16,xe,ue+(Ie-1)*E),$!=null&&($e=3*st+Be+131074>>2,m($[H+Ie-1],255&$e,$e>>16,de,Ne+(Ie-1)*E)))}}function Ce(){Wi[Vp]=cI,Wi[Bp]=I_,Wi[E_]=uI,Wi[zp]=C_,Wi[Up]=L_,Wi[L1]=R_,Wi[N_]=hI,Wi[R1]=I_,Wi[j1]=C_,Wi[$p]=L_,Wi[D1]=R_}function ze(h){return h&~dI?0>h?0:255:h>>j_}function f(h,m){return ze((19077*h>>8)+(26149*m>>8)-14234)}function T(h,m,E){return ze((19077*h>>8)-(6419*m>>8)-(13320*E>>8)+8708)}function M(h,m){return ze((19077*h>>8)+(33050*m>>8)-17685)}function W(h,m,E,R,B){R[B+0]=f(h,E),R[B+1]=T(h,m,E),R[B+2]=M(h,m)}function fe(h,m,E,R,B){R[B+0]=M(h,m),R[B+1]=T(h,m,E),R[B+2]=f(h,E)}function be(h,m,E,R,B){var $=T(h,m,E);m=$<<3&224|M(h,m)>>3,R[B+0]=248&f(h,E)|$>>5,R[B+1]=m}function Le(h,m,E,R,B){var $=240&M(h,m)|15;R[B+0]=240&f(h,E)|T(h,m,E)>>4,R[B+1]=$}function mt(h,m,E,R,B){R[B+0]=255,W(h,m,E,R,B+1)}function Nt(h,m,E,R,B){fe(h,m,E,R,B),R[B+3]=255}function vt(h,m,E,R,B){W(h,m,E,R,B),R[B+3]=255}function $t(h,m){return 0>h?0:h>m?m:h}function Zt(h,m,E){S[h]=function(R,B,$,H,G,K,ne,ce,ye){for(var we=ce+(-2&ye)*E;ce!=we;)m(R[B+0],$[H+0],G[K+0],ne,ce),m(R[B+1],$[H+0],G[K+0],ne,ce+E),B+=2,++H,++K,ce+=2*E;1&ye&&m(R[B+0],$[H+0],G[K+0],ne,ce)}}function ys(h,m,E){return E==0?h==0?m==0?6:5:m==0?4:0:E}function hr(h,m,E,R,B){switch(h>>>30){case 3:Co(m,E,R,B,0);break;case 2:jn(m,E,R,B);break;case 1:Gr(m,E,R,B)}}function Ys(h,m){var E,R,B=m.M,$=m.Nb,H=h.oc,G=h.pc+40,K=h.oc,ne=h.pc+584,ce=h.oc,ye=h.pc+600;for(E=0;16>E;++E)H[G+32*E-1]=129;for(E=0;8>E;++E)K[ne+32*E-1]=129,ce[ye+32*E-1]=129;for(0<B?H[G-1-32]=K[ne-1-32]=ce[ye-1-32]=129:(i(H,G-32-1,127,21),i(K,ne-32-1,127,9),i(ce,ye-32-1,127,9)),R=0;R<h.za;++R){var we=m.ya[m.aa+R];if(0<R){for(E=-1;16>E;++E)r(H,G+32*E-4,H,G+32*E+12,4);for(E=-1;8>E;++E)r(K,ne+32*E-4,K,ne+32*E+4,4),r(ce,ye+32*E-4,ce,ye+32*E+4,4)}var ge=h.Gd,Te=h.Hd+R,xe=we.ad,ue=we.Hc;if(0<B&&(r(H,G-32,ge[Te].y,0,16),r(K,ne-32,ge[Te].f,0,8),r(ce,ye-32,ge[Te].ea,0,8)),we.Za){var de=H,Ne=G-32+16;for(0<B&&(R>=h.za-1?i(de,Ne,ge[Te].y[15],4):r(de,Ne,ge[Te+1].y,0,4)),E=0;4>E;E++)de[Ne+128+E]=de[Ne+256+E]=de[Ne+384+E]=de[Ne+0+E];for(E=0;16>E;++E,ue<<=2)de=H,Ne=G+M_[E],ws[we.Ob[E]](de,Ne),hr(ue,xe,16*+E,de,Ne)}else if(de=ys(R,B,we.Ob[0]),Oa[de](H,G),ue!=0)for(E=0;16>E;++E,ue<<=2)hr(ue,xe,16*+E,H,G+M_[E]);for(E=we.Gc,de=ys(R,B,we.Dd),Ro[de](K,ne),Ro[de](ce,ye),ue=xe,de=K,Ne=ne,255&(we=E>>0)&&(170&we?cd(ue,256,de,Ne):Ui(ue,256,de,Ne)),we=ce,ue=ye,255&(E>>=8)&&(170&E?cd(xe,320,we,ue):Ui(xe,320,we,ue)),B<h.Ub-1&&(r(ge[Te].y,0,H,G+480,16),r(ge[Te].f,0,K,ne+224,8),r(ge[Te].ea,0,ce,ye+224,8)),E=8*$*h.B,ge=h.sa,Te=h.ta+16*R+16*$*h.R,xe=h.qa,we=h.ra+8*R+E,ue=h.Ha,de=h.Ia+8*R+E,E=0;16>E;++E)r(ge,Te+E*h.R,H,G+32*E,16);for(E=0;8>E;++E)r(xe,we+E*h.B,K,ne+32*E,8),r(ue,de+E*h.B,ce,ye+32*E,8)}}function Qs(h,m,E,R,B,$,H,G,K){var ne=[0],ce=[0],ye=0,we=K!=null?K.kd:0,ge=K??new Pa;if(h==null||12>E)return 7;ge.data=h,ge.w=m,ge.ha=E,m=[m],E=[E],ge.gb=[ge.gb];e:{var Te=m,xe=E,ue=ge.gb;if(e(h!=null),e(xe!=null),e(ue!=null),ue[0]=0,12<=xe[0]&&!n(h,Te[0],"RIFF")){if(n(h,Te[0]+8,"WEBP")){ue=3;break e}var de=Me(h,Te[0]+4);if(12>de||4294967286<de){ue=3;break e}if(we&&de>xe[0]-8){ue=7;break e}ue[0]=de,Te[0]+=12,xe[0]-=12}ue=0}if(ue!=0)return ue;for(de=0<ge.gb[0],E=E[0];;){e:{var Ne=h;xe=m,ue=E;var Ie=ne,ke=ce,We=Te=[0];if(($e=ye=[ye])[0]=0,8>ue[0])ue=7;else{if(!n(Ne,xe[0],"VP8X")){if(Me(Ne,xe[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var Be=Me(Ne,xe[0]+8),st=1+Fe(Ne,xe[0]+12);if(2147483648<=st*(Ne=1+Fe(Ne,xe[0]+15))){ue=3;break e}We!=null&&(We[0]=Be),Ie!=null&&(Ie[0]=st),ke!=null&&(ke[0]=Ne),xe[0]+=18,ue[0]-=18,$e[0]=1}ue=0}}if(ye=ye[0],Te=Te[0],ue!=0)return ue;if(xe=!!(2&Te),!de&&ye)return 3;if($!=null&&($[0]=!!(16&Te)),H!=null&&(H[0]=xe),G!=null&&(G[0]=0),H=ne[0],Te=ce[0],ye&&xe&&K==null){ue=0;break}if(4>E){ue=7;break}if(de&&ye||!de&&!ye&&!n(h,m[0],"ALPH")){E=[E],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Be=h,ue=m,de=E;var $e=ge.gb;Ie=ge.na,ke=ge.P,We=ge.Sa,st=22,e(Be!=null),e(de!=null),Ne=ue[0];var zt=de[0];for(e(Ie!=null),e(We!=null),Ie[0]=null,ke[0]=null,We[0]=0;;){if(ue[0]=Ne,de[0]=zt,8>zt){ue=7;break e}var Ht=Me(Be,Ne+4);if(4294967286<Ht){ue=3;break e}var Dt=8+Ht+1&-2;if(st+=Dt,0<$e&&st>$e){ue=3;break e}if(!n(Be,Ne,"VP8 ")||!n(Be,Ne,"VP8L")){ue=0;break e}if(zt[0]<Dt){ue=7;break e}n(Be,Ne,"ALPH")||(Ie[0]=Be,ke[0]=Ne+8,We[0]=Ht),Ne+=Dt,zt-=Dt}}if(E=E[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],ue!=0)break}E=[E],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if($e=h,ue=m,de=E,Ie=ge.gb[0],ke=ge.Ja,We=ge.xa,Be=ue[0],Ne=!n($e,Be,"VP8 "),st=!n($e,Be,"VP8L"),e($e!=null),e(de!=null),e(ke!=null),e(We!=null),8>de[0])ue=7;else{if(Ne||st){if($e=Me($e,Be+4),12<=Ie&&$e>Ie-12){ue=3;break e}if(we&&$e>de[0]-8){ue=7;break e}ke[0]=$e,ue[0]+=8,de[0]-=8,We[0]=st}else We[0]=5<=de[0]&&$e[Be+0]==47&&!($e[Be+4]>>5),ke[0]=de[0];ue=0}if(E=E[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],m=m[0],ue!=0)break;if(4294967286<ge.Ja)return 3;if(G==null||xe||(G[0]=ge.xa?2:1),H=[H],Te=[Te],ge.xa){if(5>E){ue=7;break}G=H,we=Te,xe=$,h==null||5>E?h=0:5<=E&&h[m+0]==47&&!(h[m+4]>>5)?(de=[0],$e=[0],Ie=[0],Y(ke=new O,h,m,E),Ye(ke,de,$e,Ie)?(G!=null&&(G[0]=de[0]),we!=null&&(we[0]=$e[0]),xe!=null&&(xe[0]=Ie[0]),h=1):h=0):h=0}else{if(10>E){ue=7;break}G=Te,h==null||10>E||!Jl(h,m+3,E-3)?h=0:(we=h[m+0]|h[m+1]<<8|h[m+2]<<16,xe=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=ge.Ja||!xe||!h?h=0:(H&&(H[0]=xe),G&&(G[0]=h),h=1))}if(!h||(H=H[0],Te=Te[0],ye&&(ne[0]!=H||ce[0]!=Te)))return 3;K!=null&&(K[0]=ge,K.offset=m-K.w,e(4294967286>m-K.w),e(K.offset==K.ha-E));break}return ue==0||ue==7&&ye&&K==null?($!=null&&($[0]|=ge.na!=null&&0<ge.na.length),R!=null&&(R[0]=H),B!=null&&(B[0]=Te),0):ue}function sd(h,m,E){var R=m.width,B=m.height,$=0,H=0,G=R,K=B;if(m.Da=h!=null&&0<h.Da,m.Da&&(G=h.cd,K=h.bd,$=h.v,H=h.j,11>E||($&=-2,H&=-2),0>$||0>H||0>=G||0>=K||$+G>R||H+K>B))return 0;if(m.v=$,m.j=H,m.va=$+G,m.o=H+K,m.U=G,m.T=K,m.da=h!=null&&0<h.da,m.da){if(!pt(G,K,E=[h.ib],$=[h.hb]))return 0;m.ib=E[0],m.hb=$[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*R/4&&m.hb<3*B/4,m.Kb=0),1}function od(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function _u(h,m,E,R){if(R==null||0>=h||0>=m)return 2;if(E!=null){if(E.Da){var B=E.cd,$=E.bd,H=-2&E.v,G=-2&E.j;if(0>H||0>G||0>=B||0>=$||H+B>h||G+$>m)return 2;h=B,m=$}if(E.da){if(!pt(h,m,B=[E.ib],$=[E.hb]))return 2;h=B[0],m=$[0]}}R.width=h,R.height=m;e:{var K=R.width,ne=R.height;if(h=R.S,0>=K||0>=ne||!(h>=Vp&&13>h))h=2;else{if(0>=R.Rd&&R.sd==null){H=$=B=m=0;var ce=(G=K*O_[h])*ne;if(11>h||($=(ne+1)/2*(m=(K+1)/2),h==12&&(H=(B=K)*ne)),(ne=s(ce+2*$+H))==null){h=1;break e}R.sd=ne,11>h?((K=R.f.RGBA).eb=ne,K.fb=0,K.A=G,K.size=ce):((K=R.f.kb).y=ne,K.O=0,K.fa=G,K.Fd=ce,K.f=ne,K.N=0+ce,K.Ab=m,K.Cd=$,K.ea=ne,K.W=0+ce+$,K.Db=m,K.Ed=$,h==12&&(K.F=ne,K.J=0+ce+2*$),K.Tc=H,K.lb=B)}if(m=1,B=R.S,$=R.width,H=R.height,B>=Vp&&13>B)if(11>B)h=R.f.RGBA,m&=(G=Math.abs(h.A))*(H-1)+$<=h.size,m&=G>=$*O_[B],m&=h.eb!=null;else{h=R.f.kb,G=($+1)/2,ce=(H+1)/2,K=Math.abs(h.fa),ne=Math.abs(h.Ab);var ye=Math.abs(h.Db),we=Math.abs(h.lb),ge=we*(H-1)+$;m&=K*(H-1)+$<=h.Fd,m&=ne*(ce-1)+G<=h.Cd,m=(m&=ye*(ce-1)+G<=h.Ed)&K>=$&ne>=G&ye>=G,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,B==12&&(m&=we>=$,m&=ge<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||E!=null&&E.fd&&(h=od(R)),h}var dr=64,bu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xu=24,Su=32,ad=8,si=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(h){return h},S.Predictor2=function(h,m,E){return m[E+0]},S.Predictor3=function(h,m,E){return m[E+1]},S.Predictor4=function(h,m,E){return m[E-1]},S.Predictor5=function(h,m,E){return Ue(Ue(h,m[E+1]),m[E+0])},S.Predictor6=function(h,m,E){return Ue(h,m[E-1])},S.Predictor7=function(h,m,E){return Ue(h,m[E+0])},S.Predictor8=function(h,m,E){return Ue(m[E-1],m[E+0])},S.Predictor9=function(h,m,E){return Ue(m[E+0],m[E+1])},S.Predictor10=function(h,m,E){return Ue(Ue(h,m[E-1]),Ue(m[E+0],m[E+1]))},S.Predictor11=function(h,m,E){var R=m[E+0];return 0>=gt(R>>24&255,h>>24&255,(m=m[E-1])>>24&255)+gt(R>>16&255,h>>16&255,m>>16&255)+gt(R>>8&255,h>>8&255,m>>8&255)+gt(255&R,255&h,255&m)?R:h},S.Predictor12=function(h,m,E){var R=m[E+0];return(et((h>>24&255)+(R>>24&255)-((m=m[E-1])>>24&255))<<24|et((h>>16&255)+(R>>16&255)-(m>>16&255))<<16|et((h>>8&255)+(R>>8&255)-(m>>8&255))<<8|et((255&h)+(255&R)-(255&m)))>>>0},S.Predictor13=function(h,m,E){var R=m[E-1];return(ut((h=Ue(h,m[E+0]))>>24&255,R>>24&255)<<24|ut(h>>16&255,R>>16&255)<<16|ut(h>>8&255,R>>8&255)<<8|ut(h>>0&255,R>>0&255))>>>0};var I1=S.PredictorAdd0;S.PredictorAdd1=nt,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var ld=S.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Rp,zi=S.ColorIndexInverseTransform,Au=S.MapARGB,jp=S.VP8LColorIndexInverseTransformAlpha,Dp=S.MapAlpha,Ra=S.VP8LPredictorsAdd=[];Ra.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var uc,oi,Wr,ja,Po,Io,Eu,Co,jn,cd,Gr,Ui,Nu,Mp,ud,hc,dc,Da,fc,ku,pc,Ma,hd,$i,qi,an,ln,Dn,Jn=s(511),Lo=s(2041),dd=s(225),Tu=s(767),Op=0,C1=Lo,Fp=dd,Ei=Tu,Hi=Jn,Vp=0,Bp=1,E_=2,zp=3,Up=4,L1=5,N_=6,R1=7,j1=8,$p=9,D1=10,YP=[2,3,7],QP=[3,3,11],k_=[280,256,256,256,40],XP=[0,1,1,1,0],JP=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ZP=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],eI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tI=8,M1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],O1=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fd=null,nI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],T_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],iI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],oI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],aI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Oa=[],ws=[],Ro=[],lI=1,P_=2,Fa=[],Wi=[];Se("UpsampleRgbLinePair",W,3),Se("UpsampleBgrLinePair",fe,3),Se("UpsampleRgbaLinePair",vt,4),Se("UpsampleBgraLinePair",Nt,4),Se("UpsampleArgbLinePair",mt,4),Se("UpsampleRgba4444LinePair",Le,2),Se("UpsampleRgb565LinePair",be,2);var cI=S.UpsampleRgbLinePair,uI=S.UpsampleBgrLinePair,I_=S.UpsampleRgbaLinePair,C_=S.UpsampleBgraLinePair,L_=S.UpsampleArgbLinePair,R_=S.UpsampleRgba4444LinePair,hI=S.UpsampleRgb565LinePair,qp=16,Hp=1<<qp-1,pd=-227,F1=482,j_=6,dI=(256<<j_)-1,D_=0,fI=s(256),pI=s(256),gI=s(256),mI=s(256),vI=s(F1-pd),yI=s(F1-pd);Zt("YuvToRgbRow",W,3),Zt("YuvToBgrRow",fe,3),Zt("YuvToRgbaRow",vt,4),Zt("YuvToBgraRow",Nt,4),Zt("YuvToArgbRow",mt,4),Zt("YuvToRgba4444Row",Le,2),Zt("YuvToRgb565Row",be,2);var M_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Wp=[0,2,8],wI=[8,7,6,4,4,2,2,2,1,1,1,1],_I=1;this.WebPDecodeRGBA=function(h,m,E,R,B){var $=Bp,H=new ko,G=new cr;H.ba=G,G.S=$,G.width=[G.width],G.height=[G.height];var K=G.width,ne=G.height,ce=new wi;if(ce==null||h==null)var ye=2;else e(ce!=null),ye=Qs(h,m,E,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(ye!=0?K=0:(K!=null&&(K[0]=ce.width[0]),ne!=null&&(ne[0]=ce.height[0]),K=1),K){G.width=G.width[0],G.height=G.height[0],R!=null&&(R[0]=G.width),B!=null&&(B[0]=G.height);e:{if(R=new bo,(B=new Pa).data=h,B.w=m,B.ha=E,B.kd=1,m=[0],e(B!=null),((h=Qs(B.data,B.w,B.ha,null,null,null,m,null,B))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(e(H!=null),R.data=B.data,R.w=B.w+B.offset,R.ha=B.ha-B.offset,R.put=br,R.ac=Un,R.bc=_i,R.ma=H,B.xa){if((h=Rn())==null){H=1;break e}if(function(we,ge){var Te=[0],xe=[0],ue=[0];t:for(;;){if(we==null)return 0;if(ge==null)return we.a=2,0;if(we.l=ge,we.a=0,Y(we.m,ge.data,ge.w,ge.ha),!Ye(we.m,Te,xe,ue)){we.a=3;break t}if(we.xb=P_,ge.width=Te[0],ge.height=xe[0],!bi(Te[0],xe[0],1,we,null))break t;return 1}return e(we.a!=0),0}(h,R)){if(R=(m=_u(R.width,R.height,H.Oa,H.ba))==0){t:{R=h;n:for(;;){if(R==null){R=0;break t}if(e(R.s.yc!=null),e(R.s.Ya!=null),e(0<R.s.Wb),e((E=R.l)!=null),e((B=E.ma)!=null),R.xb!=0){if(R.ca=B.ba,R.tb=B.tb,e(R.ca!=null),!sd(B.Oa,E,zp)){R.a=2;break n}if(!Vs(R,E.width)||E.da)break n;if((E.da||Ct(R.ca.S))&&pe(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&pe()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!tt(R.s.vb,R.s.Wa.Xa)){R.a=1;break n}R.xb=0}if(!$r(R,R.V,R.Ba,R.c,R.i,E.o,ga))break n;B.Dc=R.Ma,R=1;break t}e(R.a!=0),R=0}R=!R}R&&(m=h.a)}else m=h.a}else{if((h=new Xl)==null){H=1;break e}if(h.Fa=B.na,h.P=B.P,h.qc=B.Sa,Zl(h,R)){if((m=_u(R.width,R.height,H.Oa,H.ba))==0){if(h.Aa=0,E=H.Oa,e((B=h)!=null),E!=null){if(0<(K=0>(K=E.Md)?0:100<K?255:255*K/100)){for(ne=ce=0;4>ne;++ne)12>(ye=B.pb[ne]).lc&&(ye.ia=K*wI[0>ye.lc?0:ye.lc]>>3),ce|=ye.ia;ce&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=E.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}fu(h,R)||(m=h.a)}}else m=h.a}m==0&&H.Oa!=null&&H.Oa.fd&&(m=od(H.ba))}H=m}$=H!=0?null:11>$?G.f.RGBA.eb:G.f.kb.y}else $=null;return $};var O_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,C){for(var L="",k=0;k<4;k++)L+=String.fromCharCode(S[C++]);return L}function u(S,C){return(S[C+0]<<0|S[C+1]<<8|S[C+2]<<16)>>>0}function d(S,C){return(S[C+0]<<0|S[C+1]<<8|S[C+2]<<16|S[C+3]<<24)>>>0}new l;var g=[0],p=[0],_=[],x=new l,N=t,y=function(S,C){var L={},k=0,P=!1,j=0,Q=0;if(L.frames=[],!function(z,q,J,re){for(var he=0;he<re;he++)if(z[q+he]!=J.charCodeAt(he))return!0;return!1}(S,C,"RIFF",4)){var ae,X;for(d(S,C+=4),C+=8;C<S.length;){var Z=c(S,C),Y=d(S,C+=4);C+=4;var ee=Y+(1&Y);switch(Z){case"VP8 ":case"VP8L":L.frames[k]===void 0&&(L.frames[k]={}),(O=L.frames[k]).src_off=P?Q:C-8,O.src_size=j+Y+8,k++,P&&(P=!1,j=0,Q=0);break;case"VP8X":(O=L.header={}).feature_flags=S[C];var se=C+4;O.canvas_width=1+u(S,se),se+=3,O.canvas_height=1+u(S,se),se+=3;break;case"ALPH":P=!0,j=ee+8,Q=C-8;break;case"ANIM":(O=L.header).bgcolor=d(S,C),se=C+4,O.loop_count=(ae=S)[(X=se)+0]<<0|ae[X+1]<<8,se+=2;break;case"ANMF":var me,O;(O=L.frames[k]={}).offset_x=2*u(S,C),C+=3,O.offset_y=2*u(S,C),C+=3,O.width=1+u(S,C),C+=3,O.height=1+u(S,C),C+=3,O.duration=u(S,C),C+=3,me=S[C++],O.dispose=1&me,O.blend=me>>1&1}Z!="ANMF"&&(C+=ee)}return L}}(N,0);y.response=N,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,A=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,g=[w.canvas_height],p=[w.canvas_width];for(var D=0;D<A.length&&A[D].blend!=0;D++);}var F=A[0],U=x.WebPDecodeRGBA(N,F.src_off,F.src_size,p,g);F.rgba=U,F.imgwidth=p[0],F.imgheight=g[0];for(var I=0;I<p[0]*g[0]*4;I++)_[I]=U[I];return this.width=p,this.height=g,this.data=_,this}(function(t){var e=function(){return typeof t5=="function"},n=function(g,p,_,x){var N=4,y=o;switch(x){case t.image_compression.FAST:N=1,y=s;break;case t.image_compression.MEDIUM:N=6,y=a;break;case t.image_compression.SLOW:N=9,y=l}g=r(g,p,_,y);var w=t5(g,{level:N});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(g,p,_,x){for(var N,y,w,A=g.length/p,D=new Uint8Array(g.length+A),F=u(),U=0;U<A;U+=1){if(w=U*p,N=g.subarray(w,w+p),x)D.set(x(N,_,y),w+U);else{for(var I,S=F.length,C=[];I<S;I+=1)C[I]=F[I](N,_,y);var L=d(C.concat());D.set(C[L],w+U)}y=N}return D},i=function(g){var p=Array.apply([],g);return p.unshift(0),p},s=function(g,p){var _,x=[],N=g.length;x[0]=1;for(var y=0;y<N;y+=1)_=g[y-p]||0,x[y+1]=g[y]-_+256&255;return x},o=function(g,p,_){var x,N=[],y=g.length;N[0]=2;for(var w=0;w<y;w+=1)x=_&&_[w]||0,N[w+1]=g[w]-x+256&255;return N},a=function(g,p,_){var x,N,y=[],w=g.length;y[0]=3;for(var A=0;A<w;A+=1)x=g[A-p]||0,N=_&&_[A]||0,y[A+1]=g[A]+256-(x+N>>>1)&255;return y},l=function(g,p,_){var x,N,y,w,A=[],D=g.length;A[0]=4;for(var F=0;F<D;F+=1)x=g[F-p]||0,N=_&&_[F]||0,y=_&&_[F-p]||0,w=c(x,N,y),A[F+1]=g[F]-w+256&255;return A},c=function(g,p,_){if(g===p&&p===_)return g;var x=Math.abs(p-_),N=Math.abs(g-_),y=Math.abs(g+p-_-_);return x<=N&&x<=y?g:N<=y?p:_},u=function(){return[i,s,o,a,l]},d=function(g){var p=g.map(function(_){return _.reduce(function(x,N){return x+Math.abs(N)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(g,p,_,x){var N,y,w,A,D,F,U,I,S,C,L,k,P,j,Q,ae=this.decode.FLATE_DECODE,X="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(w=new Uq(g)).imgData,y=w.bits,N=w.colorSpace,D=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){S=(I=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,L=new Uint8Array(S*w.colors),C=new Uint8Array(S);var Z,Y=w.pixelBitlength-w.bits;for(j=0,Q=0;j<S;j++){for(P=I[j],Z=0;Z<Y;)L[Q++]=P>>>Z&255,Z+=w.bits;C[j]=P>>>Z&255}}if(w.bits===16){S=(I=new Uint32Array(w.decodePixels().buffer)).length,L=new Uint8Array(S*(32/w.pixelBitlength)*w.colors),C=new Uint8Array(S*(32/w.pixelBitlength)),k=w.colors>1,j=0,Q=0;for(var ee=0;j<S;)P=I[j++],L[Q++]=P>>>0&255,k&&(L[Q++]=P>>>16&255,P=I[j++],L[Q++]=P>>>0&255),C[ee++]=P>>>16&255;y=8}x!==t.image_compression.NONE&&e()?(g=n(L,w.width*w.colors,w.colors,x),U=n(C,w.width,1,x)):(g=L,U=C,ae=void 0)}if(w.colorType===3&&(N=this.color_spaces.INDEXED,F=w.palette,w.transparency.indexed)){var se=w.transparency.indexed,me=0;for(j=0,S=se.length;j<S;++j)me+=se[j];if((me/=255)===S-1&&se.indexOf(0)!==-1)A=[se.indexOf(0)];else if(me!==S){for(I=w.decodePixels(),C=new Uint8Array(I.length),j=0,S=I.length;j<S;j++)C[j]=se[I[j]];U=n(C,w.width,1)}}var O=function(z){var q;switch(z){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(x);return ae===this.decode.FLATE_DECODE&&(X="/Predictor "+O+" "),X+="/Colors "+D+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(U&&this.__addimage__.isArrayBuffer(U)||this.__addimage__.isArrayBufferView(U))&&(U=this.__addimage__.arrayBufferToBinaryString(U)),{alias:_,data:g,index:p,filter:ae,decodeParameters:X,transparency:A,palette:F,sMask:U,predictor:O,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:N}}}})(ot.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new $q(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new ay(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(ot.API),Ss.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ss.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){tn.log("bit decode error:"+n)}},Ss.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Ss.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ss.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ss.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},Ss.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Ss.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ss.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Ss.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Ss(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new ay(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ot.API),w3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new w3(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new ay(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ot.API),ot.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],g=r[c+2],p=r[c+3];s[a++]=u,s[a++]=d,s[a++]=g,o[l++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mu=ot.API,Kg=Mu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,g=0,p=t.length,_=0,x=a[0]||l,N=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?N.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=d&&Yt(c[r])==="object"&&!isNaN(parseInt(c[r][_],10))?c[r][_]/u:0,N.push((a[r]||x)/l+g)),_=r;return N},g3=Mu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Mu.processArabic&&(t=Mu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Kg.apply(this,arguments).reduce(function(s,o){return s+o},0)},m3=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},v3=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,u=[],d=[u],g=n.textIndent||0,p=0,_=0,x=t.split(" "),N=Kg.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),w=[];x.map(function(D){(D=D.split(/\s*\n/)).length>1?w=w.concat(D.map(function(F,U){return(U&&F.length?`
`:"")+F})):w.push(D[0])}),x=w,l=g3.apply(this,[y,n])}for(s=0,o=x.length;s<o;s++){var A=0;if(r=x[s],l&&r[0]==`
`&&(r=r.substr(1),A=1),g+p+(_=(i=Kg.apply(this,[r,n])).reduce(function(D,F){return D+F},0))>e||A){if(_>e){for(a=m3.apply(this,[r,i,e-(g+p),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);_=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(D,F){return D+F},0)}else u=[r];d.push(u),g=_+l,p=N}else u.push(r),g+=p+_,p=N}return c=l?function(D,F){return(F?y:"")+D.join(" ")}:function(D){return D.join(" ")},d.map(c)},Mu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(v3.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var g,p,_,x,N=["{"];for(var y in d){if(g=d[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=s(y).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof g=="number")g<0?(_=s(g).slice(3),x="-"):(_=s(g).slice(2),x=""),_=x+_.slice(0,-1)+r[_.slice(-1)];else{if(Yt(g)!=="object")throw new Error("Don't know what to do with value type "+Yt(g)+".");_=o(g)}N.push(p+_)}return N.push("}"),N.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,p,_,x,N={},y=1,w=N,A=[],D="",F="",U=d.length-1,I=1;I<U;I+=1)(x=d[I])=="'"?g?(_=g.join(""),g=void 0):g=[]:g?g.push(x):x=="{"?(A.push([w,_]),w={},_=void 0):x=="}"?((p=A.pop())[0][p[1]]=w,_=void 0,w=p[0]):x=="-"?y=-1:_===void 0?n.hasOwnProperty(x)?(D+=n[x],_=parseInt(D,16)*y,y=1,D=""):D+=x:n.hasOwnProperty(x)?(F+=n[x],w[_]=parseInt(F,16)*y,y=1,_=void 0,F=""):F+=x;return N},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var g=d.font,p=u.Unicode[g.postScriptName];p&&(g.metadata.Unicode={},g.metadata.Unicode.widths=p.widths,g.metadata.Unicode.kerning=p.kerning);var _=c.Unicode[g.postScriptName];_&&(g.metadata.Unicode.encoding=_,g.encoding=_.codePages[0])}])}(ot.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(wf(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ot),function(t){function e(){return(ct.canvg?Promise.resolve(ct.canvg):Q2(()=>import("./index.es-Dh_y6YK3.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ot.API.addSvgAsImage=function(n,r,i,s,o,a,l,c){if(isNaN(r)||isNaN(i))throw tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(_){return _.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(g)}).then(function(){p.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,l,c)})}}(),ot.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ot.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function g(_,x){var N,y=!1;for(N=0;N<_.length;N+=1)_[N]===x&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(d=0;d<p;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(Yt(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,x=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?x.push("/"+_+" /"+n[_].value):x.push("/"+_+" "+n[_].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ot.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,g=s.length;d<g;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,d,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(a=Object.keys(s).sort(function(p,_){return p-_})).length;d<g;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",_=0;_<g.length;_++)p+=String.fromCharCode(g[_]);var x=c();u({data:p,addLength1:!0,objectId:x}),l("endobj");var N=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Uu(a.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Uu(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+N+" 0 R"),l("/BaseFont /"+Uu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,g="",p=0;p<d.length;p++)g+=String.fromCharCode(d[p]);var _=c();u({data:g,addLength1:!0,objectId:_}),l("endobj");var x=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var N=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Uu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Uu(a.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},g=d.pdfEscape,p=d.activeFontKey,_=d.fonts,x=p,N="",y=0,w="",A=_[x].encoding;if(_[x].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(w=a,x=p,Array.isArray(a)&&(w=a[0]),y=0;y<w.length;y+=1)_[x].metadata.hasOwnProperty("cmap")&&(o=_[x].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),o||w[y].charCodeAt(0)<256&&_[x].metadata.hasOwnProperty("Unicode")?N+=w[y]:N+="";var D="";return parseInt(x.slice(1))<14||A==="WinAnsiEncoding"?D=g(N,x).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(D=n(N,_[x])),d.isHex=!0,{text:D,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,A=0;this.__bidiEngine__={};var D=function(k){var P=k.charCodeAt(),j=P>>8,Q=x[j];return Q!==void 0?d[256*Q+(255&P)]:j===252||j===253?"AL":y.test(j)?"L":j===8?"R":"N"},F=function(k){for(var P,j=0;j<k.length;j++){if((P=D(k.charAt(j)))==="L")return!1;if(P==="R")return!0}return!1},U=function(k,P,j,Q){var ae,X,Z,Y,ee=P[Q];switch(ee){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(ee="AN");break;case"AL":w=!0,ee="R";break;case"WS":ee="N";break;case"CS":Q<1||Q+1>=P.length||(ae=j[Q-1])!=="EN"&&ae!=="AN"||(X=P[Q+1])!=="EN"&&X!=="AN"?ee="N":w&&(X="AN"),ee=X===ae?X:"N";break;case"ES":ee=(ae=Q>0?j[Q-1]:"B")==="EN"&&Q+1<P.length&&P[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&j[Q-1]==="EN"){ee="EN";break}if(w){ee="N";break}for(Z=Q+1,Y=P.length;Z<Y&&P[Z]==="ET";)Z++;ee=Z<Y&&P[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Y=P.length,Z=Q+1;Z<Y&&P[Z]==="NSM";)Z++;if(Z<Y){var se=k[Q],me=se>=1425&&se<=2303||se===64286;if(ae=P[Z],me&&(ae==="R"||ae==="AL")){ee="R";break}}}ee=Q<1||(ae=P[Q-1])==="B"?"N":j[Q-1];break;case"B":w=!1,i=!0,ee=A;break;case"S":s=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":ee="N"}return ee},I=function(k,P,j){var Q=k.split("");return j&&S(Q,j,{hiLevel:A}),Q.reverse(),P&&P.reverse(),Q.join("")},S=function(k,P,j){var Q,ae,X,Z,Y,ee=-1,se=k.length,me=0,O=[],z=A?p:g,q=[];for(w=!1,i=!1,s=!1,ae=0;ae<se;ae++)q[ae]=D(k[ae]);for(X=0;X<se;X++){if(Y=me,O[X]=U(k,q,O,X),Q=240&(me=z[Y][_[O[X]]]),me&=15,P[X]=Z=z[me][5],Q>0)if(Q===16){for(ae=ee;ae<X;ae++)P[ae]=1;ee=-1}else ee=-1;if(z[me][6])ee===-1&&(ee=X);else if(ee>-1){for(ae=ee;ae<X;ae++)P[ae]=Z;ee=-1}q[X]==="B"&&(P[X]=0),j.hiLevel|=Z}s&&function(J,re,he){for(var ve=0;ve<he;ve++)if(J[ve]==="S"){re[ve]=A;for(var _e=ve-1;_e>=0&&J[_e]==="WS";_e--)re[_e]=A}}(q,P,se)},C=function(k,P,j,Q,ae){if(!(ae.hiLevel<k)){if(k===1&&A===1&&!i)return P.reverse(),void(j&&j.reverse());for(var X,Z,Y,ee,se=P.length,me=0;me<se;){if(Q[me]>=k){for(Y=me+1;Y<se&&Q[Y]>=k;)Y++;for(ee=me,Z=Y-1;ee<Z;ee++,Z--)X=P[ee],P[ee]=P[Z],P[Z]=X,j&&(X=j[ee],j[ee]=j[Z],j[Z]=X);me=Y}me++}}},L=function(k,P,j){var Q=k.split(""),ae={hiLevel:A};return j||(j=[]),S(Q,j,ae),function(X,Z,Y){if(Y.hiLevel!==0&&u)for(var ee,se=0;se<X.length;se++)Z[se]===1&&(ee=N.indexOf(X[se]))>=0&&(X[se]=N[ee+1])}(Q,j,ae),C(2,Q,P,j,ae),C(1,Q,P,j,ae),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(k,P,j){if(function(ae,X){if(X)for(var Z=0;Z<ae.length;Z++)X[Z]=Z;a===void 0&&(a=F(ae)),c===void 0&&(c=F(ae))}(k,P),o||!l||c)if(o&&l&&a^c)A=a?1:0,k=I(k,P,j);else if(!o&&l&&c)A=a?1:0,k=L(k,P,j),k=I(k,P);else if(!o||a||l||c){if(o&&!l&&a^c)k=I(k,P),a?(A=0,k=L(k,P,j)):(A=1,k=L(k,P,j),k=I(k,P));else if(o&&a&&!l&&c)A=1,k=L(k,P,j),k=I(k,P);else if(!o&&!l&&a^c){var Q=u;a?(A=1,k=L(k,P,j),A=0,u=!1,k=L(k,P,j),u=Q):(A=0,k=L(k,P,j),k=I(k,P),A=1,u=!1,k=L(k,P,j),u=Q,k=I(k,P))}}else A=0,k=L(k,P,j);else A=a?1:0,k=L(k,P,j);return k},this.__bidiEngine__.setOptions=function(k){k&&(o=k.isInputVisual,l=k.isOutputVisual,a=k.isInputRtl,c=k.isOutputRtl,u=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new zl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new iH(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new qq(this.contents),this.head=new Wq(this),this.name=new Xq(this),this.cmap=new GP(this),this.toUnicode={},this.hhea=new Gq(this),this.maxp=new Jq(this),this.hmtx=new Zq(this),this.post=new Yq(this),this.os2=new Kq(this),this.loca=new rH(this),this.glyf=new eH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Os,zl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),qq=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,u,d,g,p,_,x;for(x in p=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),o=Math.floor(d/l),u=16*p-d,(i=new zl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(o),i.writeShort(u),s=16*p,c=i.pos+s,a=null,_=[],n)for(g=n[x],i.writeString(x),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),_=_.concat(g),x==="head"&&(a=c),c+=g.length;c%4;)_.push(0),c++;return i.write(_),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=KP.call(n);n.length%4;)n.push(0);for(s=new zl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Hq={}.hasOwnProperty,vo=function(t,e){for(var n in e)Hq.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Os=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Wq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new zl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),_3=function(){function t(e,n){var r,i,s,o,a,l,c,u,d,g,p,_,x,N,y,w,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=function(){var D,F;for(F=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)F.push(e.readUInt16());return F}(),e.pos+=2,x=function(){var D,F;for(F=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)F.push(e.readUInt16());return F}(),c=function(){var D,F;for(F=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)F.push(e.readUInt16());return F}(),u=function(){var D,F;for(F=[],l=D=0;0<=g?D<g:D>g;l=0<=g?++D:--D)F.push(e.readUInt16());return F}(),i=(this.length-e.pos+this.offset)/2,a=function(){var D,F;for(F=[],l=D=0;0<=i?D<i:D>i;l=0<=i?++D:--D)F.push(e.readUInt16());return F}(),l=y=0,A=s.length;y<A;l=++y)for(N=s[l],r=w=_=x[l];_<=N?w<=N:w>=N;r=_<=N?++w:--w)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-_)-(g-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,c,u,d,g,p,_,x,N,y,w,A,D,F,U,I,S,C,L,k,P,j,Q,ae,X,Z,Y,ee,se,me,O,z,q,J,re,he,ve,_e,Re,Ee,Fe;switch(Q=new zl,o=Object.keys(e).sort(function(Me,tt){return Me-tt}),n){case"macroman":for(x=0,N=function(){var Me=[];for(_=0;_<256;++_)Me.push(0);return Me}(),w={0:0},s={},ae=0,ee=o.length;ae<ee;ae++)w[_e=e[i=o[ae]]]==null&&(w[_e]=++x),s[i]={old:e[i],new:w[e[i]]},N[i]=w[e[i]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(N),{charMap:s,subtable:Q.data,maxGlyphID:x+1};case"unicode":for(P=[],d=[],A=0,w={},r={},y=c=null,X=0,se=o.length;X<se;X++)w[F=e[i=o[X]]]==null&&(w[F]=++A),r[i]={old:F,new:w[F]},a=w[F]-i,y!=null&&a===c||(y&&d.push(y),P.push(i),c=a),y=i;for(y&&d.push(y),d.push(65535),P.push(65535),L=2*(C=P.length),S=2*Math.pow(Math.log(C)/Math.LN2,2),g=Math.log(S/2)/Math.LN2,I=2*C-S,l=[],U=[],p=[],_=Z=0,me=P.length;Z<me;_=++Z){if(k=P[_],u=d[_],k===65535){l.push(0),U.push(0);break}if(k-(j=r[k].new)>=32768)for(l.push(0),U.push(2*(p.length+C-_)),i=Y=k;k<=u?Y<=u:Y>=u;i=k<=u?++Y:--Y)p.push(r[i].new);else l.push(j-k),U.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*C+2*p.length),Q.writeUInt16(0),Q.writeUInt16(L),Q.writeUInt16(S),Q.writeUInt16(g),Q.writeUInt16(I),he=0,O=d.length;he<O;he++)i=d[he],Q.writeUInt16(i);for(Q.writeUInt16(0),ve=0,z=P.length;ve<z;ve++)i=P[ve],Q.writeUInt16(i);for(Re=0,q=l.length;Re<q;Re++)a=l[Re],Q.writeUInt16(a);for(Ee=0,J=U.length;Ee<J;Ee++)D=U[Ee],Q.writeUInt16(D);for(Fe=0,re=p.length;Fe<re;Fe++)x=p[Fe],Q.writeUInt16(x);return{charMap:r,subtable:Q.data,maxGlyphID:A+1}}},t}(),GP=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new _3(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=_3.encode(n,r),(s=new zl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),Gq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),Kq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Yq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),Qq=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Xq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,c,u,d,g,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},o=d=0,g=i.length;d<g;o=++d)s=i[o],n.pos=s.offset,u=n.readString(s.length),a=new Qq(u,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Jq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Zq=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,g,p;for(p=[],u=0,d=(g=this.metrics).length;u<d;u++)o=g[u],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),KP=[].slice,eH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,c,u,d,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new zl(r.read(s))).readShort(),u=l.readShort(),g=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=a===-1?new nH(l,u,g,c,d):new tH(l,a,u,g,c,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,c;for(a=[],o=[],l=0,c=r.length;l<c;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),tH=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),nH=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new zl(KP.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),rH=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vo(e,Os),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},e}(),iH=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,u,d,g,p,_,x,N,y;for(i in r=GP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},y=r.charMap)p[(l=y[i]).old]=l.new;for(_ in g=r.maxGlyphID,o)_ in p||(p[_]=g++);return u=function(w){var A,D;for(A in D={},w)D[w[A]]=A;return D}(p),d=Object.keys(u).sort(function(w,A){return w-A}),x=function(){var w,A,D;for(D=[],w=0,A=d.length;w<A;w++)a=d[w],D.push(u[a]);return D}(),s=this.font.glyf.encode(o,x,p),c=this.font.loca.encode(s.offsets,x),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},t}();ot.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const sH=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:Mq,AcroFormAppearance:Xe,AcroFormButton:er,AcroFormCheckBox:xf,AcroFormChoiceField:Vc,AcroFormComboBox:zc,AcroFormEditBox:_f,AcroFormListBox:Bc,AcroFormPasswordField:Sf,AcroFormPushButton:bf,AcroFormRadioButton:Uc,AcroFormTextField:Ll,GState:ap,ShadingPattern:al,TilingPattern:Rc,default:ot,jsPDF:ot},Symbol.toStringTag,{value:"Module"}));var oH={exports:{}};const aH=MI(sH);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return aH}catch{}}())})(typeof globalThis<"u"?globalThis:typeof K1<"u"?K1:typeof window<"u"?window:typeof self<"u"?self:K1,function(n){return function(){var r={172:function(a,l){var c=this&&this.__extends||function(){var g=function(p,_){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,N){x.__proto__=N}||function(x,N){for(var y in N)Object.prototype.hasOwnProperty.call(N,y)&&(x[y]=N[y])},g(p,_)};return function(p,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");g(p,_);function x(){this.constructor=p}p.prototype=_===null?Object.create(_):(x.prototype=_.prototype,new x)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var u=function(){function g(p,_,x){this.table=_,this.pageNumber=_.pageNumber,this.pageCount=this.pageNumber,this.settings=_.settings,this.cursor=x,this.doc=p.getDocument()}return g}();l.HookData=u;var d=function(g){c(p,g);function p(_,x,N,y,w,A){var D=g.call(this,_,x,A)||this;return D.cell=N,D.row=y,D.column=w,D.section=y.section,D}return p}(u);l.CellHookData=d},340:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0});var u=c(4),d=c(136),g=c(744),p=c(776),_=c(664),x=c(972);function N(y){y.API.autoTable=function(){for(var w=[],A=0;A<arguments.length;A++)w[A]=arguments[A];var D;w.length===1?D=w[0]:(console.error("Use of deprecated autoTable initiation"),D=w[2]||{},D.columns=w[0],D.body=w[1]);var F=(0,p.parseInput)(this,D),U=(0,x.createTable)(this,F);return(0,_.drawTable)(this,U),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(w,A,D,F){(0,d.default)(w,A,D,F,this)},y.API.autoTableSetDefaults=function(w){return g.DocHandler.setDefaults(w,this),this},y.autoTableSetDefaults=function(w,A){g.DocHandler.setDefaults(w,A)},y.API.autoTableHtmlToJson=function(w,A){var D;if(A===void 0&&(A=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var F=new g.DocHandler(this),U=(0,u.parseHtml)(F,w,window,A,!1),I=U.head,S=U.body,C=((D=I[0])===null||D===void 0?void 0:D.map(function(L){return L.content}))||[];return{columns:C,rows:S,data:S}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var w=this.lastAutoTable;return w&&w.finalY?w.finalY:0},y.API.autoTableAddPageContent=function(w){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=w,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=N},136:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(u,d,g,p,_){p=p||{};var x=1.15,N=_.internal.scaleFactor,y=_.internal.getFontSize()/N,w=_.getLineHeightFactor?_.getLineHeightFactor():x,A=y*w,D=/\r\n|\r|\n/g,F="",U=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(F=typeof u=="string"?u.split(D):u,U=F.length||1),g+=y*(2-x),p.valign==="middle"?g-=U/2*A:p.valign==="bottom"&&(g-=U*A),p.halign==="center"||p.halign==="right"){var I=y;if(p.halign==="center"&&(I*=.5),F&&U>=1){for(var S=0;S<F.length;S++)_.text(F[S],d-_.getStringUnitWidth(F[S])*I,g),g+=A;return _}d-=_.getStringUnitWidth(u)*I}return p.halign==="justify"?_.text(u,d,g,{maxWidth:p.maxWidth||100,align:"justify"}):_.text(u,d,g),_}l.default=c},420:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(_,x,N){N.applyStyles(x,!0);var y=Array.isArray(_)?_:[_],w=y.map(function(A){return N.getTextWidth(A)}).reduce(function(A,D){return Math.max(A,D)},0);return w}l.getStringWidth=c;function u(_,x,N,y){var w=x.settings.tableLineWidth,A=x.settings.tableLineColor;_.applyStyles({lineWidth:w,lineColor:A});var D=d(w,!1);D&&_.rect(N.x,N.y,x.getWidth(_.pageSize().width),y.y-N.y,D)}l.addTableBorder=u;function d(_,x){var N=_>0,y=x||x===0;return N&&y?"DF":N?"S":y?"F":null}l.getFillStyle=d;function g(_,x){var N,y,w,A;if(_=_||x,Array.isArray(_)){if(_.length>=4)return{top:_[0],right:_[1],bottom:_[2],left:_[3]};if(_.length===3)return{top:_[0],right:_[1],bottom:_[2],left:_[1]};if(_.length===2)return{top:_[0],right:_[1],bottom:_[0],left:_[1]};_.length===1?_=_[0]:_=x}return typeof _=="object"?(typeof _.vertical=="number"&&(_.top=_.vertical,_.bottom=_.vertical),typeof _.horizontal=="number"&&(_.right=_.horizontal,_.left=_.horizontal),{left:(N=_.left)!==null&&N!==void 0?N:x,top:(y=_.top)!==null&&y!==void 0?y:x,right:(w=_.right)!==null&&w!==void 0?w:x,bottom:(A=_.bottom)!==null&&A!==void 0?A:x}):(typeof _!="number"&&(_=x),{top:_,right:_,bottom:_,left:_})}l.parseSpacing=g;function p(_,x){var N=g(x.settings.margin,0);return _.pageSize().width-(N.left+N.right)}l.getPageAvailableWidth=p},796:function(a,l){var c=this&&this.__extends||function(){var p=function(_,x){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,y){N.__proto__=y}||function(N,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(N[w]=y[w])},p(_,x)};return function(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");p(_,x);function N(){this.constructor=_}_.prototype=x===null?Object.create(x):(N.prototype=x.prototype,new N)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var u=function(p){c(_,p);function _(x){var N=p.call(this)||this;return N._element=x,N}return _}(Array);l.HtmlRowInput=u;function d(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=d;function g(p){var _={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return _[p]}l.getTheme=g},903:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var u=c(420);function d(N,y,w,A,D){var F={},U=1.3333333333333333,I=p(y,function(ee){return D.getComputedStyle(ee).backgroundColor});I!=null&&(F.fillColor=I);var S=p(y,function(ee){return D.getComputedStyle(ee).color});S!=null&&(F.textColor=S);var C=x(A,w);C&&(F.cellPadding=C);var L="borderTopColor",k=U*w,P=A.borderTopWidth;if(A.borderBottomWidth===P&&A.borderRightWidth===P&&A.borderLeftWidth===P){var j=(parseFloat(P)||0)/k;j&&(F.lineWidth=j)}else F.lineWidth={top:(parseFloat(A.borderTopWidth)||0)/k,right:(parseFloat(A.borderRightWidth)||0)/k,bottom:(parseFloat(A.borderBottomWidth)||0)/k,left:(parseFloat(A.borderLeftWidth)||0)/k},F.lineWidth.top||(F.lineWidth.right?L="borderRightColor":F.lineWidth.bottom?L="borderBottomColor":F.lineWidth.left&&(L="borderLeftColor"));var Q=p(y,function(ee){return D.getComputedStyle(ee)[L]});Q!=null&&(F.lineColor=Q);var ae=["left","right","center","justify"];ae.indexOf(A.textAlign)!==-1&&(F.halign=A.textAlign),ae=["middle","bottom","top"],ae.indexOf(A.verticalAlign)!==-1&&(F.valign=A.verticalAlign);var X=parseInt(A.fontSize||"");isNaN(X)||(F.fontSize=X/U);var Z=g(A);Z&&(F.fontStyle=Z);var Y=(A.fontFamily||"").toLowerCase();return N.indexOf(Y)!==-1&&(F.font=Y),F}l.parseCss=d;function g(N){var y="";return(N.fontWeight==="bold"||N.fontWeight==="bolder"||parseInt(N.fontWeight)>=700)&&(y="bold"),(N.fontStyle==="italic"||N.fontStyle==="oblique")&&(y+="italic"),y}function p(N,y){var w=_(N,y);if(!w)return null;var A=w.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!A||!Array.isArray(A))return null;var D=[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])],F=parseInt(A[4]);return F===0||isNaN(D[0])||isNaN(D[1])||isNaN(D[2])?null:D}function _(N,y){var w=y(N);return w==="rgba(0, 0, 0, 0)"||w==="transparent"||w==="initial"||w==="inherit"?N.parentElement==null?null:_(N.parentElement,y):w}function x(N,y){var w=[N.paddingTop,N.paddingRight,N.paddingBottom,N.paddingLeft],A=96/(72/y),D=(parseInt(N.lineHeight)-parseInt(N.fontSize))/y/2,F=w.map(function(I){return parseInt(I||"0")/A}),U=(0,u.parseSpacing)(F,0);return D>U.top&&(U.top=D),D>U.bottom&&(U.bottom=D),U}},744:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},u=function(){function d(g){this.jsPDFDocument=g,this.userStyles={textColor:g.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:g.internal.getFontSize(),fontStyle:g.internal.getFont().fontStyle,font:g.internal.getFont().fontName,lineWidth:g.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:g.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return d.setDefaults=function(g,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=g:c=g},d.unifyColor=function(g){return Array.isArray(g)?g:typeof g=="number"?[g,g,g]:typeof g=="string"?[g]:null},d.prototype.applyStyles=function(g,p){var _,x,N;p===void 0&&(p=!1),g.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(g.fontStyle);var y=this.jsPDFDocument.internal.getFont(),w=y.fontStyle,A=y.fontName;if(g.font&&(A=g.font),g.fontStyle){w=g.fontStyle;var D=this.getFontList()[A];D&&D.indexOf(w)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(D[0]),w=D[0])}if(this.jsPDFDocument.setFont(A,w),g.fontSize&&this.jsPDFDocument.setFontSize(g.fontSize),!p){var F=d.unifyColor(g.fillColor);F&&(_=this.jsPDFDocument).setFillColor.apply(_,F),F=d.unifyColor(g.textColor),F&&(x=this.jsPDFDocument).setTextColor.apply(x,F),F=d.unifyColor(g.lineColor),F&&(N=this.jsPDFDocument).setDrawColor.apply(N,F),typeof g.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(g.lineWidth)}},d.prototype.splitTextToSize=function(g,p,_){return this.jsPDFDocument.splitTextToSize(g,p,_)},d.prototype.rect=function(g,p,_,x,N){return this.jsPDFDocument.rect(g,p,_,x,N)},d.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},d.prototype.getTextWidth=function(g){return this.jsPDFDocument.getTextWidth(g)},d.prototype.getDocument=function(){return this.jsPDFDocument},d.prototype.setPage=function(g){this.jsPDFDocument.setPage(g)},d.prototype.addPage=function(){return this.jsPDFDocument.addPage()},d.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},d.prototype.getGlobalOptions=function(){return c||{}},d.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},d.prototype.pageSize=function(){var g=this.jsPDFDocument.internal.pageSize;return g.width==null&&(g={width:g.getWidth(),height:g.getHeight()}),g},d.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},d.prototype.getLineHeightFactor=function(){var g=this.jsPDFDocument;return g.getLineHeightFactor?g.getLineHeightFactor():1.15},d.prototype.getLineHeight=function(g){return g/this.scaleFactor()*this.getLineHeightFactor()},d.prototype.pageNumber=function(){var g=this.jsPDFDocument.internal.getCurrentPageInfo();return g?g.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},d}();l.DocHandler=u},4:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var u=c(903),d=c(796);function g(x,N,y,w,A){var D,F;w===void 0&&(w=!1),A===void 0&&(A=!1);var U;typeof N=="string"?U=y.document.querySelector(N):U=N;var I=Object.keys(x.getFontList()),S=x.scaleFactor(),C=[],L=[],k=[];if(!U)return console.error("Html table could not be found with input: ",N),{head:C,body:L,foot:k};for(var P=0;P<U.rows.length;P++){var j=U.rows[P],Q=(F=(D=j==null?void 0:j.parentElement)===null||D===void 0?void 0:D.tagName)===null||F===void 0?void 0:F.toLowerCase(),ae=p(I,S,y,j,w,A);ae&&(Q==="thead"?C.push(ae):Q==="tfoot"?k.push(ae):L.push(ae))}return{head:C,body:L,foot:k}}l.parseHtml=g;function p(x,N,y,w,A,D){for(var F=new d.HtmlRowInput(w),U=0;U<w.cells.length;U++){var I=w.cells[U],S=y.getComputedStyle(I);if(A||S.display!=="none"){var C=void 0;D&&(C=(0,u.parseCss)(x,I,N,S,y)),F.push({rowSpan:I.rowSpan,colSpan:I.colSpan,styles:C,_element:I,content:_(I)})}}var L=y.getComputedStyle(w);if(F.length>0&&(A||L.display!=="none"))return F}function _(x){var N=x.cloneNode(!0);return N.innerHTML=N.innerHTML.replace(/\n/g,"").replace(/ +/g," "),N.innerHTML=N.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),N.innerText||N.textContent||""}},776:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var u=c(4),d=c(356),g=c(420),p=c(744),_=c(792);function x(U,I){var S=new p.DocHandler(U),C=S.getDocumentOptions(),L=S.getGlobalOptions();(0,_.default)(S,L,C,I);var k=(0,d.assign)({},L,C,I),P;typeof window<"u"&&(P=window);var j=N(L,C,I),Q=y(L,C,I),ae=w(S,k),X=D(S,k,P);return{id:I.tableId,content:X,hooks:Q,styles:j,settings:ae}}l.parseInput=x;function N(U,I,S){for(var C={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},L=function(Q){if(Q==="columnStyles"){var ae=U[Q],X=I[Q],Z=S[Q];C.columnStyles=(0,d.assign)({},ae,X,Z)}else{var Y=[U,I,S],ee=Y.map(function(se){return se[Q]||{}});C[Q]=(0,d.assign)({},ee[0],ee[1],ee[2])}},k=0,P=Object.keys(C);k<P.length;k++){var j=P[k];L(j)}return C}function y(U,I,S){for(var C=[U,I,S],L={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},k=0,P=C;k<P.length;k++){var j=P[k];j.didParseCell&&L.didParseCell.push(j.didParseCell),j.willDrawCell&&L.willDrawCell.push(j.willDrawCell),j.didDrawCell&&L.didDrawCell.push(j.didDrawCell),j.willDrawPage&&L.willDrawPage.push(j.willDrawPage),j.didDrawPage&&L.didDrawPage.push(j.didDrawPage)}return L}function w(U,I){var S,C,L,k,P,j,Q,ae,X,Z,Y,ee,se=(0,g.parseSpacing)(I.margin,40/U.scaleFactor()),me=(S=A(U,I.startY))!==null&&S!==void 0?S:se.top,O;I.showFoot===!0?O="everyPage":I.showFoot===!1?O="never":O=(C=I.showFoot)!==null&&C!==void 0?C:"everyPage";var z;I.showHead===!0?z="everyPage":I.showHead===!1?z="never":z=(L=I.showHead)!==null&&L!==void 0?L:"everyPage";var q=(k=I.useCss)!==null&&k!==void 0?k:!1,J=I.theme||(q?"plain":"striped"),re=!!I.horizontalPageBreak,he=(P=I.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(j=I.includeHiddenHtml)!==null&&j!==void 0?j:!1,useCss:q,theme:J,startY:me,margin:se,pageBreak:(Q=I.pageBreak)!==null&&Q!==void 0?Q:"auto",rowPageBreak:(ae=I.rowPageBreak)!==null&&ae!==void 0?ae:"auto",tableWidth:(X=I.tableWidth)!==null&&X!==void 0?X:"auto",showHead:z,showFoot:O,tableLineWidth:(Z=I.tableLineWidth)!==null&&Z!==void 0?Z:0,tableLineColor:(Y=I.tableLineColor)!==null&&Y!==void 0?Y:200,horizontalPageBreak:re,horizontalPageBreakRepeat:he,horizontalPageBreakBehaviour:(ee=I.horizontalPageBreakBehaviour)!==null&&ee!==void 0?ee:"afterAllRows"}}function A(U,I){var S=U.getLastAutoTable(),C=U.scaleFactor(),L=U.pageNumber(),k=!1;if(S&&S.startPageNumber){var P=S.startPageNumber+S.pageNumber-1;k=P===L}return typeof I=="number"?I:(I==null||I===!1)&&k&&(S==null?void 0:S.finalY)!=null?S.finalY+20/C:null}function D(U,I,S){var C=I.head||[],L=I.body||[],k=I.foot||[];if(I.html){var P=I.includeHiddenHtml;if(S){var j=(0,u.parseHtml)(U,I.html,S,P,I.useCss)||{};C=j.head||C,L=j.body||C,k=j.foot||C}else console.error("Cannot parse html in non browser environment")}var Q=I.columns||F(C,L,k);return{columns:Q,head:C,body:L,foot:k}}function F(U,I,S){var C=U[0]||I[0]||S[0]||[],L=[];return Object.keys(C).filter(function(k){return k!=="_element"}).forEach(function(k){var P=1,j;Array.isArray(C)?j=C[parseInt(k)]:j=C[k],typeof j=="object"&&!Array.isArray(j)&&(P=(j==null?void 0:j.colSpan)||1);for(var Q=0;Q<P;Q++){var ae=void 0;Array.isArray(C)?ae=L.length:ae=k+(Q>0?"_".concat(Q):"");var X={dataKey:ae};L.push(X)}}),L}},792:function(a,l){Object.defineProperty(l,"__esModule",{value:!0});function c(d,g,p,_){for(var x=function(A){A&&typeof A!="object"&&console.error("The options parameter should be of type object, is: "+typeof A),typeof A.extendWidth<"u"&&(A.tableWidth=A.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof A.margins<"u"&&(typeof A.margin>"u"&&(A.margin=A.margins),console.error("Use of deprecated option: margins, use margin instead.")),A.startY&&typeof A.startY!="number"&&(console.error("Invalid value for startY option",A.startY),delete A.startY),!A.didDrawPage&&(A.afterPageContent||A.beforePageContent||A.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),A.didDrawPage=function(k){d.applyStyles(d.userStyles),A.beforePageContent&&A.beforePageContent(k),d.applyStyles(d.userStyles),A.afterPageContent&&A.afterPageContent(k),d.applyStyles(d.userStyles),A.afterPageAdd&&k.pageNumber>1&&k.afterPageAdd(k),d.applyStyles(d.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(k){A[k]&&console.error('The "'.concat(k,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(k){var P=k[0],j=k[1];A[j]&&(console.error("Use of deprecated option ".concat(j,". Use ").concat(P," instead")),A[P]=A[j])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(k){var P=typeof k=="string"?k:k[0],j=typeof k=="string"?k:k[1];typeof A[P]<"u"&&(typeof A.styles[j]>"u"&&(A.styles[j]=A[P]),console.error("Use of deprecated option: "+P+", use the style "+j+" instead."))});for(var D=0,F=["styles","bodyStyles","headStyles","footStyles"];D<F.length;D++){var U=F[D];u(A[U]||{})}for(var I=A.columnStyles||{},S=0,C=Object.keys(I);S<C.length;S++){var L=C[S];u(I[L]||{})}},N=0,y=[g,p,_];N<y.length;N++){var w=y[N];x(w)}}l.default=c;function u(d){d.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),d.minCellHeight||(d.minCellHeight=d.rowHeight)):d.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),d.cellWidth||(d.cellWidth=d.columnWidth))}},260:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var u=c(796),d=c(172),g=c(420),p=function(){function y(w,A){this.pageNumber=1,this.pageCount=1,this.id=w.id,this.settings=w.settings,this.styles=w.styles,this.hooks=w.hooks,this.columns=A.columns,this.head=A.head,this.body=A.body,this.foot=A.foot}return y.prototype.getHeadHeight=function(w){return this.head.reduce(function(A,D){return A+D.getMaxCellHeight(w)},0)},y.prototype.getFootHeight=function(w){return this.foot.reduce(function(A,D){return A+D.getMaxCellHeight(w)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(w,A,D,F,U,I){for(var S=0,C=A;S<C.length;S++){var L=C[S],k=new d.CellHookData(w,this,D,F,U,I),P=L(k)===!1;if(D.text=Array.isArray(D.text)?D.text:[D.text],P)return!1}return!0},y.prototype.callEndPageHooks=function(w,A){w.applyStyles(w.userStyles);for(var D=0,F=this.hooks.didDrawPage;D<F.length;D++){var U=F[D];U(new d.HookData(w,this,A))}},y.prototype.callWillDrawPageHooks=function(w,A){for(var D=0,F=this.hooks.willDrawPage;D<F.length;D++){var U=F[D];U(new d.HookData(w,this,A))}},y.prototype.getWidth=function(w){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var A=this.columns.reduce(function(F,U){return F+U.wrappedWidth},0);return A}else{var D=this.settings.margin;return w-D.left-D.right}},y}();l.Table=p;var _=function(){function y(w,A,D,F,U){U===void 0&&(U=!1),this.height=0,this.raw=w,w instanceof u.HtmlRowInput&&(this.raw=w._element,this.element=w._element),this.index=A,this.section=D,this.cells=F,this.spansMultiplePages=U}return y.prototype.getMaxCellHeight=function(w){var A=this;return w.reduce(function(D,F){var U;return Math.max(D,((U=A.cells[F.index])===null||U===void 0?void 0:U.height)||0)},0)},y.prototype.hasRowSpan=function(w){var A=this;return w.filter(function(D){var F=A.cells[D.index];return F?F.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(w,A){return this.getMaxCellHeight(A)<=w},y.prototype.getMinimumRowHeight=function(w,A){var D=this;return w.reduce(function(F,U){var I=D.cells[U.index];if(!I)return 0;var S=A.getLineHeight(I.styles.fontSize),C=I.padding("vertical"),L=C+S;return L>F?L:F},0)},y}();l.Row=_;var x=function(){function y(w,A,D){var F,U;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=A,this.section=D,this.raw=w;var I=w;w!=null&&typeof w=="object"&&!Array.isArray(w)?(this.rowSpan=w.rowSpan||1,this.colSpan=w.colSpan||1,I=(U=(F=w.content)!==null&&F!==void 0?F:w.title)!==null&&U!==void 0?U:w,w._element&&(this.raw=w._element)):(this.rowSpan=1,this.colSpan=1);var S=I!=null?""+I:"",C=/\r\n|\r|\n/g;this.text=S.split(C)}return y.prototype.getTextPos=function(){var w;if(this.styles.valign==="top")w=this.y+this.padding("top");else if(this.styles.valign==="bottom")w=this.y+this.height-this.padding("bottom");else{var A=this.height-this.padding("vertical");w=this.y+A/2+this.padding("top")}var D;if(this.styles.halign==="right")D=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var F=this.width-this.padding("horizontal");D=this.x+F/2+this.padding("left")}else D=this.x+this.padding("left");return{x:D,y:w}},y.prototype.getContentHeight=function(w,A){A===void 0&&(A=1.15);var D=Array.isArray(this.text)?this.text.length:1,F=this.styles.fontSize/w*A,U=D*F+this.padding("vertical");return Math.max(U,this.styles.minCellHeight)},y.prototype.padding=function(w){var A=(0,g.parseSpacing)(this.styles.cellPadding,0);return w==="vertical"?A.top+A.bottom:w==="horizontal"?A.left+A.right:A[w]},y}();l.Cell=x;var N=function(){function y(w,A,D){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=w,this.raw=A,this.index=D}return y.prototype.getMaxCustomCellWidth=function(w){for(var A=0,D=0,F=w.allRows();D<F.length;D++){var U=F[D],I=U.cells[this.index];I&&typeof I.styles.cellWidth=="number"&&(A=Math.max(A,I.styles.cellWidth))}return A},y}();l.Column=N},356:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(u,d,g,p,_){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(u),N=1;N<arguments.length;N++){var y=arguments[N];if(y!=null)for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(x[w]=y[w])}return x}l.assign=c},972:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var u=c(744),d=c(260),g=c(324),p=c(796),_=c(356);function x(U,I){var S=new u.DocHandler(U),C=N(I,S.scaleFactor()),L=new d.Table(I,C);return(0,g.calculateWidths)(S,L),S.applyStyles(S.userStyles),L}l.createTable=x;function N(U,I){var S=U.content,C=D(S.columns);if(S.head.length===0){var L=w(C,"head");L&&S.head.push(L)}if(S.foot.length===0){var L=w(C,"foot");L&&S.foot.push(L)}var k=U.settings.theme,P=U.styles;return{columns:C,head:y("head",S.head,C,P,k,I),body:y("body",S.body,C,P,k,I),foot:y("foot",S.foot,C,P,k,I)}}function y(U,I,S,C,L,k){var P={},j=I.map(function(Q,ae){for(var X=0,Z={},Y=0,ee=0,se=0,me=S;se<me.length;se++){var O=me[se];if(P[O.index]==null||P[O.index].left===0)if(ee===0){var z=void 0;Array.isArray(Q)?z=Q[O.index-Y-X]:z=Q[O.dataKey];var q={};typeof z=="object"&&!Array.isArray(z)&&(q=(z==null?void 0:z.styles)||{});var J=F(U,O,ae,L,C,k,q),re=new d.Cell(z,J,U);Z[O.dataKey]=re,Z[O.index]=re,ee=re.colSpan-1,P[O.index]={left:re.rowSpan-1,times:ee}}else ee--,Y++;else P[O.index].left--,ee=P[O.index].times,X++}return new d.Row(Q,ae,U,Z)});return j}function w(U,I){var S={};return U.forEach(function(C){if(C.raw!=null){var L=A(I,C.raw);L!=null&&(S[C.dataKey]=L)}}),Object.keys(S).length>0?S:null}function A(U,I){if(U==="head"){if(typeof I=="object")return I.header||I.title||null;if(typeof I=="string"||typeof I=="number")return I}else if(U==="foot"&&typeof I=="object")return I.footer;return null}function D(U){return U.map(function(I,S){var C,L,k;return typeof I=="object"?k=(L=(C=I.dataKey)!==null&&C!==void 0?C:I.key)!==null&&L!==void 0?L:S:k=S,new d.Column(k,I,S)})}function F(U,I,S,C,L,k,P){var j=(0,p.getTheme)(C),Q;U==="head"?Q=L.headStyles:U==="body"?Q=L.bodyStyles:U==="foot"&&(Q=L.footStyles);var ae=(0,_.assign)({},j.table,j[U],L.styles,Q),X=L.columnStyles[I.dataKey]||L.columnStyles[I.index]||{},Z=U==="body"?X:{},Y=U==="body"&&S%2===0?(0,_.assign)({},j.alternateRow,L.alternateRowStyles):{},ee=(0,p.defaultStyles)(k),se=(0,_.assign)({},ee,ae,Y,Z);return(0,_.assign)(se,P)}},664:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var u=c(420),d=c(260),g=c(744),p=c(356),_=c(136),x=c(224);function N(X,Z){var Y=Z.settings,ee=Y.startY,se=Y.margin,me={x:se.left,y:ee},O=Z.getHeadHeight(Z.columns)+Z.getFootHeight(Z.columns),z=ee+se.bottom+O;if(Y.pageBreak==="avoid"){var q=Z.body,J=q.reduce(function(ve,_e){return ve+_e.height},0);z+=J}var re=new g.DocHandler(X);(Y.pageBreak==="always"||Y.startY!=null&&z>re.pageSize().height)&&(ae(re),me.y=se.top),Z.callWillDrawPageHooks(re,me);var he=(0,p.assign)({},me);Z.startPageNumber=re.pageNumber(),Y.horizontalPageBreak?y(re,Z,he,me):(re.applyStyles(re.userStyles),(Y.showHead==="firstPage"||Y.showHead==="everyPage")&&Z.head.forEach(function(ve){return L(re,Z,ve,me,Z.columns)}),re.applyStyles(re.userStyles),Z.body.forEach(function(ve,_e){var Re=_e===Z.body.length-1;C(re,Z,ve,Re,he,me,Z.columns)}),re.applyStyles(re.userStyles),(Y.showFoot==="lastPage"||Y.showFoot==="everyPage")&&Z.foot.forEach(function(ve){return L(re,Z,ve,me,Z.columns)})),(0,u.addTableBorder)(re,Z,he,me),Z.callEndPageHooks(re,me),Z.finalY=me.y,X.lastAutoTable=Z,X.previousAutoTable=Z,X.autoTable&&(X.autoTable.previous=Z),re.applyStyles(re.userStyles)}l.drawTable=N;function y(X,Z,Y,ee){var se=(0,x.calculateAllColumnsCanFitInPage)(X,Z),me=Z.settings;if(me.horizontalPageBreakBehaviour==="afterAllRows")se.forEach(function(J,re){X.applyStyles(X.userStyles),re>0?Q(X,Z,Y,ee,J.columns,!0):w(X,Z,ee,J.columns),A(X,Z,Y,ee,J.columns),F(X,Z,ee,J.columns)});else for(var O=-1,z=se[0],q=function(){var J=O;if(z){X.applyStyles(X.userStyles);var re=z.columns;O>=0?Q(X,Z,Y,ee,re,!0):w(X,Z,ee,re),J=D(X,Z,O+1,ee,re),F(X,Z,ee,re)}var he=J-O;se.slice(1).forEach(function(ve){X.applyStyles(X.userStyles),Q(X,Z,Y,ee,ve.columns,!0),D(X,Z,O+1,ee,ve.columns,he),F(X,Z,ee,ve.columns)}),O=J};O<Z.body.length-1;)q()}function w(X,Z,Y,ee){var se=Z.settings;X.applyStyles(X.userStyles),(se.showHead==="firstPage"||se.showHead==="everyPage")&&Z.head.forEach(function(me){return L(X,Z,me,Y,ee)})}function A(X,Z,Y,ee,se){X.applyStyles(X.userStyles),Z.body.forEach(function(me,O){var z=O===Z.body.length-1;C(X,Z,me,z,Y,ee,se)})}function D(X,Z,Y,ee,se,me){X.applyStyles(X.userStyles),me=me??Z.body.length;var O=Math.min(Y+me,Z.body.length),z=-1;return Z.body.slice(Y,O).forEach(function(q,J){var re=Y+J===Z.body.length-1,he=j(X,Z,re,ee);q.canEntireRowFit(he,se)&&(L(X,Z,q,ee,se),z=Y+J)}),z}function F(X,Z,Y,ee){var se=Z.settings;X.applyStyles(X.userStyles),(se.showFoot==="lastPage"||se.showFoot==="everyPage")&&Z.foot.forEach(function(me){return L(X,Z,me,Y,ee)})}function U(X,Z,Y){var ee=Y.getLineHeight(X.styles.fontSize),se=X.padding("vertical"),me=Math.floor((Z-se)/ee);return Math.max(0,me)}function I(X,Z,Y,ee){var se={};X.spansMultiplePages=!0,X.height=0;for(var me=0,O=0,z=Y.columns;O<z.length;O++){var q=z[O],J=X.cells[q.index];if(J){Array.isArray(J.text)||(J.text=[J.text]);var re=new d.Cell(J.raw,J.styles,J.section);re=(0,p.assign)(re,J),re.text=[];var he=U(J,Z,ee);J.text.length>he&&(re.text=J.text.splice(he,J.text.length));var ve=ee.scaleFactor(),_e=ee.getLineHeightFactor();J.contentHeight=J.getContentHeight(ve,_e),J.contentHeight>=Z&&(J.contentHeight=Z,re.styles.minCellHeight-=Z),J.contentHeight>X.height&&(X.height=J.contentHeight),re.contentHeight=re.getContentHeight(ve,_e),re.contentHeight>me&&(me=re.contentHeight),se[q.index]=re}}var Re=new d.Row(X.raw,-1,X.section,se,!0);Re.height=me;for(var Ee=0,Fe=Y.columns;Ee<Fe.length;Ee++){var q=Fe[Ee],re=Re.cells[q.index];re&&(re.height=Re.height);var J=X.cells[q.index];J&&(J.height=X.height)}return Re}function S(X,Z,Y,ee){var se=X.pageSize().height,me=ee.settings.margin,O=me.top+me.bottom,z=se-O;Z.section==="body"&&(z-=ee.getHeadHeight(ee.columns)+ee.getFootHeight(ee.columns));var q=Z.getMinimumRowHeight(ee.columns,X),J=q<Y;if(q>z)return console.error("Will not be able to print row ".concat(Z.index," correctly since it's minimum height is larger than page height")),!0;if(!J)return!1;var re=Z.hasRowSpan(ee.columns),he=Z.getMaxCellHeight(ee.columns)>z;return he?(re&&console.error("The content of row ".concat(Z.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(re||ee.settings.rowPageBreak==="avoid")}function C(X,Z,Y,ee,se,me,O){var z=j(X,Z,ee,me);if(Y.canEntireRowFit(z,O))L(X,Z,Y,me,O);else if(S(X,Y,z,Z)){var q=I(Y,z,Z,X);L(X,Z,Y,me,O),Q(X,Z,se,me,O),C(X,Z,q,ee,se,me,O)}else Q(X,Z,se,me,O),C(X,Z,Y,ee,se,me,O)}function L(X,Z,Y,ee,se){ee.x=Z.settings.margin.left;for(var me=0,O=se;me<O.length;me++){var z=O[me],q=Y.cells[z.index];if(!q){ee.x+=z.width;continue}X.applyStyles(q.styles),q.x=ee.x,q.y=ee.y;var J=Z.callCellHooks(X,Z.hooks.willDrawCell,q,Y,z,ee);if(J===!1){ee.x+=z.width;continue}k(X,q,ee);var re=q.getTextPos();(0,_.default)(q.text,re.x,re.y,{halign:q.styles.halign,valign:q.styles.valign,maxWidth:Math.ceil(q.width-q.padding("left")-q.padding("right"))},X.getDocument()),Z.callCellHooks(X,Z.hooks.didDrawCell,q,Y,z,ee),ee.x+=z.width}ee.y+=Y.height}function k(X,Z,Y){var ee=Z.styles;if(X.getDocument().setFillColor(X.getDocument().getFillColor()),typeof ee.lineWidth=="number"){var se=(0,u.getFillStyle)(ee.lineWidth,ee.fillColor);se&&X.rect(Z.x,Y.y,Z.width,Z.height,se)}else typeof ee.lineWidth=="object"&&(ee.fillColor&&X.rect(Z.x,Y.y,Z.width,Z.height,"F"),P(X,Z,Y,ee.lineWidth))}function P(X,Z,Y,ee){var se,me,O,z;ee.top&&(se=Y.x,me=Y.y,O=Y.x+Z.width,z=Y.y,ee.right&&(O+=.5*ee.right),ee.left&&(se-=.5*ee.left),q(ee.top,se,me,O,z)),ee.bottom&&(se=Y.x,me=Y.y+Z.height,O=Y.x+Z.width,z=Y.y+Z.height,ee.right&&(O+=.5*ee.right),ee.left&&(se-=.5*ee.left),q(ee.bottom,se,me,O,z)),ee.left&&(se=Y.x,me=Y.y,O=Y.x,z=Y.y+Z.height,ee.top&&(me-=.5*ee.top),ee.bottom&&(z+=.5*ee.bottom),q(ee.left,se,me,O,z)),ee.right&&(se=Y.x+Z.width,me=Y.y,O=Y.x+Z.width,z=Y.y+Z.height,ee.top&&(me-=.5*ee.top),ee.bottom&&(z+=.5*ee.bottom),q(ee.right,se,me,O,z));function q(J,re,he,ve,_e){X.getDocument().setLineWidth(J),X.getDocument().line(re,he,ve,_e,"S")}}function j(X,Z,Y,ee){var se=Z.settings.margin.bottom,me=Z.settings.showFoot;return(me==="everyPage"||me==="lastPage"&&Y)&&(se+=Z.getFootHeight(Z.columns)),X.pageSize().height-ee.y-se}function Q(X,Z,Y,ee,se,me){se===void 0&&(se=[]),me===void 0&&(me=!1),X.applyStyles(X.userStyles),Z.settings.showFoot==="everyPage"&&!me&&Z.foot.forEach(function(z){return L(X,Z,z,ee,se)}),Z.callEndPageHooks(X,ee);var O=Z.settings.margin;(0,u.addTableBorder)(X,Z,Y,ee),ae(X),Z.pageNumber++,Z.pageCount++,ee.x=O.left,ee.y=O.top,Y.y=O.top,Z.callWillDrawPageHooks(X,ee),Z.settings.showHead==="everyPage"&&(Z.head.forEach(function(z){return L(X,Z,z,ee,se)}),X.applyStyles(X.userStyles))}l.addPage=Q;function ae(X){var Z=X.pageNumber();X.setPage(Z+1);var Y=X.pageNumber();return Y===Z?(X.addPage(),!0):!1}},224:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var u=c(420);function d(p,_,x){var N;x===void 0&&(x={});var y=(0,u.getPageAvailableWidth)(p,_),w=new Map,A=[],D=[],F=[];_.settings.horizontalPageBreakRepeat,Array.isArray(_.settings.horizontalPageBreakRepeat)?F=_.settings.horizontalPageBreakRepeat:(typeof _.settings.horizontalPageBreakRepeat=="string"||typeof _.settings.horizontalPageBreakRepeat=="number")&&(F=[_.settings.horizontalPageBreakRepeat]),F.forEach(function(C){var L=_.columns.find(function(k){return k.dataKey===C||k.index===C});L&&!w.has(L.index)&&(w.set(L.index,!0),A.push(L.index),D.push(_.columns[L.index]),y-=L.wrappedWidth)});for(var U=!0,I=(N=x==null?void 0:x.start)!==null&&N!==void 0?N:0;I<_.columns.length;){if(w.has(I)){I++;continue}var S=_.columns[I].wrappedWidth;if(U||y>=S)U=!1,A.push(I),D.push(_.columns[I]),y-=S;else break;I++}return{colIndexes:A,columns:D,lastIndex:I-1}}function g(p,_){for(var x=[],N=0;N<_.columns.length;N++){var y=d(p,_,{start:N});y.columns.length&&(x.push(y),N=y.lastIndex)}return x}l.calculateAllColumnsCanFitInPage=g},324:function(a,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var u=c(420);function d(A,D){g(A,D);var F=[],U=0;D.columns.forEach(function(S){var C=S.getMaxCustomCellWidth(D);C?S.width=C:(S.width=S.wrappedWidth,F.push(S)),U+=S.width});var I=D.getWidth(A.pageSize().width)-U;I&&(I=p(F,I,function(S){return Math.max(S.minReadableWidth,S.minWidth)})),I&&(I=p(F,I,function(S){return S.minWidth})),I=Math.abs(I),!D.settings.horizontalPageBreak&&I>.1/A.scaleFactor()&&(I=I<1?I:Math.round(I),console.warn("Of the table content, ".concat(I," units width could not fit page"))),x(D),N(D,A),_(D)}l.calculateWidths=d;function g(A,D){var F=A.scaleFactor(),U=D.settings.horizontalPageBreak,I=(0,u.getPageAvailableWidth)(A,D);D.allRows().forEach(function(S){for(var C=0,L=D.columns;C<L.length;C++){var k=L[C],P=S.cells[k.index];if(P){var j=D.hooks.didParseCell;D.callCellHooks(A,j,P,S,k,null);var Q=P.padding("horizontal");P.contentWidth=(0,u.getStringWidth)(P.text,P.styles,A)+Q;var ae=(0,u.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,A);if(P.minReadableWidth=ae+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||U===!0)P.contentWidth>I?(P.minWidth=I,P.wrappedWidth=I):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var X=10/F;P.minWidth=P.styles.minCellWidth||X,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),D.allRows().forEach(function(S){for(var C=0,L=D.columns;C<L.length;C++){var k=L[C],P=S.cells[k.index];if(P&&P.colSpan===1)k.wrappedWidth=Math.max(k.wrappedWidth,P.wrappedWidth),k.minWidth=Math.max(k.minWidth,P.minWidth),k.minReadableWidth=Math.max(k.minReadableWidth,P.minReadableWidth);else{var j=D.styles.columnStyles[k.dataKey]||D.styles.columnStyles[k.index]||{},Q=j.cellWidth||j.minCellWidth;Q&&typeof Q=="number"&&(k.minWidth=Q,k.wrappedWidth=Q)}P&&(P.colSpan>1&&!k.minWidth&&(k.minWidth=P.minWidth),P.colSpan>1&&!k.wrappedWidth&&(k.wrappedWidth=P.minWidth))}})}function p(A,D,F){for(var U=D,I=A.reduce(function(X,Z){return X+Z.wrappedWidth},0),S=0;S<A.length;S++){var C=A[S],L=C.wrappedWidth/I,k=U*L,P=C.width+k,j=F(C),Q=P<j?j:P;D-=Q-C.width,C.width=Q}if(D=Math.round(D*1e10)/1e10,D){var ae=A.filter(function(X){return D<0?X.width>F(X):!0});ae.length&&(D=p(ae,D,F))}return D}l.resizeColumns=p;function _(A){for(var D={},F=1,U=A.allRows(),I=0;I<U.length;I++)for(var S=U[I],C=0,L=A.columns;C<L.length;C++){var k=L[C],P=D[k.index];if(F>1)F--,delete S.cells[k.index];else if(P)P.cell.height+=S.height,F=P.cell.colSpan,delete S.cells[k.index],P.left--,P.left<=1&&delete D[k.index];else{var j=S.cells[k.index];if(!j)continue;if(j.height=S.height,j.rowSpan>1){var Q=U.length-I,ae=j.rowSpan>Q?Q:j.rowSpan;D[k.index]={cell:j,left:ae,row:S}}}}}function x(A){for(var D=A.allRows(),F=0;F<D.length;F++)for(var U=D[F],I=null,S=0,C=0,L=0;L<A.columns.length;L++){var k=A.columns[L];if(C-=1,C>1&&A.columns[L+1])S+=k.width,delete U.cells[k.index];else if(I){var P=I;delete U.cells[k.index],I=null,P.width=k.width+S}else{var P=U.cells[k.index];if(!P)continue;if(C=P.colSpan,S=0,P.colSpan>1){I=P,S+=k.width;continue}P.width=k.width+S}}}function N(A,D){for(var F={count:0,height:0},U=0,I=A.allRows();U<I.length;U++){for(var S=I[U],C=0,L=A.columns;C<L.length;C++){var k=L[C],P=S.cells[k.index];if(P){D.applyStyles(P.styles,!0);var j=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=D.splitTextToSize(P.text,j+1/D.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=y(P.text,j,P.styles,D,"...");else if(P.styles.overflow==="hidden")P.text=y(P.text,j,P.styles,D,"");else if(typeof P.styles.overflow=="function"){var Q=P.styles.overflow(P.text,j);typeof Q=="string"?P.text=[Q]:P.text=Q}P.contentHeight=P.getContentHeight(D.scaleFactor(),D.getLineHeightFactor());var ae=P.contentHeight/P.rowSpan;P.rowSpan>1&&F.count*F.height<ae*P.rowSpan?F={height:ae,count:P.rowSpan}:F&&F.count>0&&F.height>ae&&(ae=F.height),ae>S.height&&(S.height=ae)}}F.count--}}function y(A,D,F,U,I){return A.map(function(S){return w(S,D,F,U,I)})}l.ellipsize=y;function w(A,D,F,U,I){var S=1e4*U.scaleFactor();if(D=Math.ceil(D*S)/S,D>=(0,u.getStringWidth)(A,F,U))return A;for(;D<(0,u.getStringWidth)(A+I,F,U)&&!(A.length<=1);)A=A.substring(0,A.length-1);return A.trim()+I}},964:function(a){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var c=i[a]={exports:{}};return r[a].call(c.exports,c,c.exports,s),c.exports}var o={};return function(){var a=o;Object.defineProperty(a,"__esModule",{value:!0}),a.Cell=a.Column=a.Row=a.Table=a.CellHookData=a.__drawTable=a.__createTable=a.applyPlugin=void 0;var l=s(340),c=s(776),u=s(664),d=s(972),g=s(260);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return g.Table}});var p=s(172);Object.defineProperty(a,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var _=s(260);Object.defineProperty(a,"Cell",{enumerable:!0,get:function(){return _.Cell}}),Object.defineProperty(a,"Column",{enumerable:!0,get:function(){return _.Column}}),Object.defineProperty(a,"Row",{enumerable:!0,get:function(){return _.Row}});function x(D){(0,l.default)(D)}a.applyPlugin=x;function N(D,F){var U=(0,c.parseInput)(D,F),I=(0,d.createTable)(D,U);(0,u.drawTable)(D,I)}function y(D,F){var U=(0,c.parseInput)(D,F);return(0,d.createTable)(D,U)}a.__createTable=y;function w(D,F){(0,u.drawTable)(D,F)}a.__drawTable=w;try{var A=s(964);A.jsPDF&&(A=A.jsPDF),x(A)}catch{}a.default=N}(),o}()})})(oH);const lH=()=>{const{interns:t,tasks:e,performances:n,generateReport:r}=mo(),[i,s]=te.useState("performance"),[o,a]=te.useState("month"),[l,c]=te.useState(null),u=()=>["January","February","March","April","May","June"].map(N=>e.filter(y=>new Date(y.deadline).toLocaleString("default",{month:"long"})===N&&y.status==="Completed").length),d=()=>["January","February","March","April","May","June"].map(N=>{const y=n.filter(A=>new Date(A.lastReview).toLocaleString("default",{month:"long"})===N);if(y.length===0)return 0;const w=y.reduce((A,D)=>A+D.rating,0)/y.length;return Number(w.toFixed(2))}),g={labels:["January","February","March","April","May","June"],datasets:[{label:"Tasks Completed",data:u(),backgroundColor:"rgba(99, 102, 241, 0.5)",borderColor:"rgb(99, 102, 241)",borderWidth:1},{label:"Average Performance Rating",data:d(),backgroundColor:"rgba(34, 197, 94, 0.5)",borderColor:"rgb(34, 197, 94)",borderWidth:1}]},p=()=>{const x=r(i,o),N=new ot,y=N.internal.pageSize.getWidth();switch(N.setFontSize(20),N.text(`${i.charAt(0).toUpperCase()+i.slice(1)} Report`,y/2,20,{align:"center"}),N.setFontSize(12),N.text(`Period: ${o.charAt(0).toUpperCase()+o.slice(1)}`,y/2,30,{align:"center"}),N.text(`Generated on: ${new Date().toLocaleDateString()}`,y/2,40,{align:"center"}),i){case"performance":N.autoTable({startY:50,head:[["Intern Name","Rating","Tasks Completed","Review Date","Feedback"]],body:x.map(w=>{const A=t.find(D=>D.id===w.internId);return[(A==null?void 0:A.name)||"Unknown",w.rating.toString(),w.tasksCompleted.toString(),w.lastReview,w.feedback]})});break;case"task":N.autoTable({startY:50,head:[["Title","Assigned To","Status","Priority","Deadline"]],body:x.map(w=>[w.title,w.assignedTo,w.status,w.priority,w.deadline])});break;case"attendance":N.autoTable({startY:50,head:[["Name","Role","Join Date","Status"]],body:x.map(w=>[w.name,w.role,w.joinDate,w.status])});break}N.save(`${i}-report-${o}-${new Date().toISOString().split("T")[0]}.pdf`)},_=()=>{const x=r(i,o);c(x),p()};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports"}),v.jsxs("button",{onClick:_,className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:[v.jsx(QE,{className:"h-5 w-5 mr-2"}),"Generate PDF Report"]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Performance Trends"}),v.jsx(oP,{data:g})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report Summary"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Total Interns"}),v.jsx("p",{className:"text-2xl font-bold text-indigo-600 mt-2",children:t.length})]}),v.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Completed Tasks"}),v.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:e.filter(x=>x.status==="Completed").length})]}),v.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[v.jsx("h3",{className:"font-medium text-gray-900",children:"Average Performance"}),v.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:n.length>0?(n.reduce((x,N)=>x+N.rating,0)/n.length).toFixed(2):"N/A"})]})]})]})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Report Settings"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Report Type"}),v.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:i,onChange:x=>s(x.target.value),children:[v.jsx("option",{value:"performance",children:"Performance Report"}),v.jsx("option",{value:"task",children:"Task Completion Report"}),v.jsx("option",{value:"attendance",children:"Attendance Report"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Time Period"}),v.jsxs("select",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:o,onChange:x=>a(x.target.value),children:[v.jsx("option",{value:"week",children:"Last Week"}),v.jsx("option",{value:"month",children:"Last Month"}),v.jsx("option",{value:"quarter",children:"Last Quarter"}),v.jsx("option",{value:"all",children:"All Time"})]})]})]})]})]})},cH=()=>{const{user:t}=ls(),{interns:e,attendance:n,addAttendance:r,updateAttendance:i}=mo(),[s,o]=te.useState(!1),[a,l]=te.useState(new Date().toISOString().split("T")[0]),[c,u]=te.useState(""),[d,g]=te.useState("Present"),[p,_]=te.useState("09:00"),[x,N]=te.useState("17:00"),[y,w]=te.useState(""),A=(t==null?void 0:t.role)==="admin",D=C=>{if(C.preventDefault(),!A){Ke.error("Only admin can mark attendance");return}const L=n.find(k=>k.internId===c&&k.date===a);L?i(L.id,{status:d,checkIn:d==="Present"?p:void 0,checkOut:d==="Present"?x:void 0,notes:y}):r({internId:c,date:a,status:d,checkIn:d==="Present"?p:void 0,checkOut:d==="Present"?x:void 0,notes:y}),o(!1),F()},F=()=>{u(""),g("Present"),_("09:00"),N("17:00"),w("")},U=C=>{switch(C){case"Present":return"bg-green-100 text-green-800";case"Absent":return"bg-red-100 text-red-800";case"Half Day":return"bg-yellow-100 text-yellow-800";case"Leave":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},I=C=>{const L=n.filter(X=>X.internId===C),k=L.length,P=L.filter(X=>X.status==="Present").length,j=L.filter(X=>X.status==="Absent").length,Q=L.filter(X=>X.status==="Half Day").length,ae=L.filter(X=>X.status==="Leave").length;return{total:k,present:P,absent:j,halfDay:Q,leave:ae,percentage:k>0?((P+Q*.5)/k*100).toFixed(1):"0"}},S=(t==null?void 0:t.role)==="admin"?e:e.filter(C=>C.id===(t==null?void 0:t.id));return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Attendance Management"}),v.jsx("p",{className:"mt-1 text-sm text-gray-500",children:A?"Track and manage intern attendance":"View your attendance records"})]}),A&&v.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors duration-200",children:[v.jsx(l2,{className:"h-5 w-5 mr-2"}),"Mark Attendance"]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(C=>{const L=I(C.id);return v.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.name}),v.jsx("p",{className:"text-sm text-gray-500",children:C.role})]}),v.jsxs("div",{className:`px-3 py-1 rounded-full ${Number(L.percentage)>=90?"bg-green-100 text-green-800":Number(L.percentage)>=75?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[L.percentage,"% Present"]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-sm text-green-600",children:"Present"}),v.jsx("p",{className:"text-2xl font-semibold text-green-700",children:L.present})]}),v.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-sm text-red-600",children:"Absent"}),v.jsx("p",{className:"text-2xl font-semibold text-red-700",children:L.absent})]}),v.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-sm text-yellow-600",children:"Half Day"}),v.jsx("p",{className:"text-2xl font-semibold text-yellow-700",children:L.halfDay})]}),v.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[v.jsx("p",{className:"text-sm text-blue-600",children:"Leave"}),v.jsx("p",{className:"text-2xl font-semibold text-blue-700",children:L.leave})]})]}),v.jsxs("div",{className:"border-t pt-4",children:[v.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recent Attendance"}),v.jsx("div",{className:"space-y-2",children:n.filter(k=>k.internId===C.id).sort((k,P)=>new Date(P.date).getTime()-new Date(k.date).getTime()).slice(0,3).map(k=>v.jsxs("div",{className:"flex items-center justify-between text-sm",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(Nh,{className:"h-4 w-4 text-gray-400 mr-2"}),v.jsx("span",{className:"text-gray-600",children:k.date})]}),v.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U(k.status)}`,children:k.status})]},k.id))})]})]},C.id)})}),A&&v.jsx(Ji,{appear:!0,show:s,as:te.Fragment,children:v.jsxs(Xi,{as:"div",className:"relative z-10",onClose:()=>o(!1),children:[v.jsx(Ji.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),v.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:v.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:v.jsx(Ji.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:v.jsxs(Xi.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[v.jsx(Xi.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Mark Attendance"}),v.jsxs("form",{onSubmit:D,className:"mt-4 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),v.jsx("input",{type:"date",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:a,onChange:C=>l(C.target.value),max:new Date().toISOString().split("T")[0]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Intern"}),v.jsxs("select",{required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:c,onChange:C=>u(C.target.value),children:[v.jsx("option",{value:"",children:"Select Intern"}),e.map(C=>v.jsx("option",{value:C.id,children:C.name},C.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),v.jsxs("select",{required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:d,onChange:C=>g(C.target.value),children:[v.jsx("option",{value:"Present",children:"Present"}),v.jsx("option",{value:"Absent",children:"Absent"}),v.jsx("option",{value:"Half Day",children:"Half Day"}),v.jsx("option",{value:"Leave",children:"Leave"})]})]}),d==="Present"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Check In"}),v.jsx("input",{type:"time",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:p,onChange:C=>_(C.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Check Out"}),v.jsx("input",{type:"time",required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:x,onChange:C=>N(C.target.value)})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Notes"}),v.jsx("textarea",{className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",rows:3,value:y,onChange:C=>w(C.target.value),placeholder:"Any additional notes..."})]}),v.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[v.jsx("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>{o(!1),F()},children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Mark Attendance"})]})]})]})})})})]})})]})},uH=()=>{const[t,e]=te.useState(""),[n,r]=te.useState(""),[i,s]=te.useState("admin"),[o,a]=te.useState(!1),[l,c]=te.useState(!1),{login:u,user:d}=ls(),g=G0(),p=async _=>{_.preventDefault(),c(!0);try{const x=await u(t,n);x.success||Ke.error(x.error||"Invalid credentials")}catch{Ke.error("Login failed. Please try again.")}finally{c(!1)}};return te.useEffect(()=>{d&&(d.role==="admin"?(Ke.success("Welcome back, Admin!"),g("/")):d.role==="intern"&&(Ke.success("Welcome back!"),g("/intern-dashboard")))},[d,g]),v.jsxs("div",{className:"min-h-screen flex",children:[v.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 relative overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-black/20"}),v.jsxs("div",{className:"absolute inset-0",children:[v.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 bg-white/10 rounded-full blur-3xl"}),v.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-white/5 rounded-full blur-3xl"})]}),v.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:[v.jsxs("div",{className:"mb-8",children:[v.jsxs("div",{className:"flex items-center mb-6",children:[v.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:v.jsx(tN,{className:"w-6 h-6"})}),v.jsx("h1",{className:"text-3xl font-bold ml-4",children:"InternHub"})]}),v.jsx("h2",{className:"text-4xl font-bold mb-4 leading-tight",children:"Manage Your Internship Program with Excellence"}),v.jsx("p",{className:"text-xl text-white/80 leading-relaxed",children:"Streamline intern management, track performance, and build the future workforce with our comprehensive platform."})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),v.jsx("span",{className:"text-white/90",children:"Real-time performance tracking"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),v.jsx("span",{className:"text-white/90",children:"Advanced reporting & analytics"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-3"}),v.jsx("span",{className:"text-white/90",children:"Seamless task management"})]})]})]})]}),v.jsx("div",{className:"flex-1 flex items-center justify-center px-8 py-12 bg-white",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl mb-6",children:i==="admin"?v.jsx(wx,{className:"w-8 h-8 text-white"}):v.jsx(vx,{className:"w-8 h-8 text-white"})}),v.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),v.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue"})]}),v.jsx("div",{className:"mb-8",children:v.jsxs("div",{className:"flex bg-gray-100 rounded-xl p-1",children:[v.jsxs("button",{type:"button",onClick:()=>s("admin"),className:`flex-1 flex items-center justify-center py-3 px-4 rounded-lg font-medium transition-all duration-200 ${i==="admin"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[v.jsx(wx,{className:"w-4 h-4 mr-2"}),"Admin"]}),v.jsxs("button",{type:"button",onClick:()=>s("intern"),className:`flex-1 flex items-center justify-center py-3 px-4 rounded-lg font-medium transition-all duration-200 ${i==="intern"?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[v.jsx(vx,{className:"w-4 h-4 mr-2"}),"Intern"]})]})}),v.jsxs("form",{onSubmit:p,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),v.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your email",value:t,onChange:_=>e(_.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:o?"text":"password",required:!0,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white",placeholder:"Enter your password",value:n,onChange:_=>r(_.target.value)}),v.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?v.jsx(o2,{className:"w-5 h-5"}):v.jsx(a2,{className:"w-5 h-5"})})]})]}),v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[v.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Demo Credentials:"}),v.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[v.jsxs("div",{children:[v.jsx("strong",{children:"Admin:"})," divyanshpansari123@gmail.com / admin123"]}),v.jsxs("div",{children:[v.jsx("strong",{children:"Note:"})," Create intern accounts from admin panel"]})]})]}),v.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l?v.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):v.jsxs(v.Fragment,{children:["Sign In",v.jsx(tj,{className:"w-4 h-4 ml-2"})]})})]}),v.jsx("div",{className:"mt-8 text-center",children:v.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",v.jsx(HE,{to:"/register",className:"text-indigo-600 hover:text-indigo-700 font-semibold",children:"Contact admin for access"})]})})]})})]})},hH=()=>{const[t,e]=te.useState({name:"",email:"",phone:"",skills:"",preferredRole:"",password:""}),n=G0(),r=s=>{s.preventDefault(),Ke.success("Registration successful!"),n("/login")},i=s=>{const{name:o,value:a}=s.target;e(l=>({...l,[o]:a}))};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100 py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-lg",children:[v.jsxs("div",{className:"text-center",children:[v.jsx(pj,{className:"mx-auto h-12 w-12 text-indigo-600"}),v.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Register as an Intern"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Join our internship program"})]}),v.jsxs("form",{className:"mt-8 space-y-6",onSubmit:r,children:[v.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),v.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:t.name,onChange:i})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),v.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t.email,onChange:i})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"phone",className:"sr-only",children:"Phone Number"}),v.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Phone Number",value:t.phone,onChange:i})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"skills",className:"sr-only",children:"Skills"}),v.jsx("textarea",{id:"skills",name:"skills",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Skills (comma separated)",value:t.skills,onChange:i})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"preferredRole",className:"sr-only",children:"Preferred Role"}),v.jsxs("select",{id:"preferredRole",name:"preferredRole",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:t.preferredRole,onChange:i,children:[v.jsx("option",{value:"",children:"Select Preferred Role"}),v.jsx("option",{value:"frontend",children:"Frontend Developer"}),v.jsx("option",{value:"backend",children:"Backend Developer"}),v.jsx("option",{value:"fullstack",children:"Full Stack Developer"}),v.jsx("option",{value:"design",children:"UI/UX Designer"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),v.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t.password,onChange:i})]})]}),v.jsx("div",{children:v.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Register"})})]})]})})},dH=()=>{const{tasks:t,performances:e,attendance:n}=mo(),{user:r}=ls(),i=t.filter(u=>u.assignedToId===(r==null?void 0:r.id)),s=e.find(u=>u.internId===(r==null?void 0:r.id)),o=n.filter(u=>u.internId===(r==null?void 0:r.id)),a=[{title:"Active Tasks",value:i.filter(u=>u.status!=="Completed").length.toString(),icon:v.jsx(uh,{className:"h-6 w-6"}),color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100"},{title:"Completed Tasks",value:i.filter(u=>u.status==="Completed").length.toString(),icon:v.jsx(s2,{className:"h-6 w-6"}),color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100"},{title:"Performance Rating",value:(s==null?void 0:s.rating.toString())||"N/A",icon:v.jsx(kh,{className:"h-6 w-6"}),color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100"},{title:"Attendance Rate",value:o.length>0?"95%":"N/A",icon:v.jsx($f,{className:"h-6 w-6"}),color:"from-orange-500 to-orange-600",bgColor:"from-orange-50 to-orange-100"}],l=i.filter(u=>u.status!=="Completed").sort((u,d)=>new Date(u.deadline).getTime()-new Date(d.deadline).getTime()).slice(0,5),c=[{text:"Completed React Dashboard task",time:"2 hours ago",type:"success"},{text:"Started new API Integration project",time:"1 day ago",type:"info"},{text:"Attended team meeting",time:"2 days ago",type:"neutral"},{text:"Submitted weekly report",time:"3 days ago",type:"success"}];return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"}),v.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"}),v.jsxs("div",{className:"relative z-10",children:[v.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",r==null?void 0:r.name,"! "]}),v.jsx("p",{className:"text-white/90 text-lg",children:"Here's what's happening with your internship today."})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((u,d)=>v.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-all duration-300",children:v.jsx("div",{className:`bg-gradient-to-r ${u.bgColor} p-6`,children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:u.title}),v.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.value})]}),v.jsx("div",{className:`bg-gradient-to-r ${u.color} p-3 rounded-xl text-white`,children:u.icon})]})})},d))}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Upcoming Tasks"}),v.jsx(Nh,{className:"h-5 w-5 text-gray-400"})]}),v.jsx("div",{className:"space-y-4",children:l.length>0?l.map(u=>v.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors duration-200",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:u.title}),v.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[v.jsx($f,{className:"h-4 w-4 mr-1"}),"Due: ",new Date(u.deadline).toLocaleDateString()]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${u.priority==="High"?"bg-red-100 text-red-700":u.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:u.priority}),v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${u.status==="In Progress"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:u.status})]})]},u.id)):v.jsxs("div",{className:"text-center py-8 text-gray-500",children:[v.jsx(uh,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),v.jsx("p",{children:"No upcoming tasks"})]})})]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Activities"}),v.jsx(e0,{className:"h-5 w-5 text-gray-400"})]}),v.jsx("div",{className:"space-y-4",children:c.map((u,d)=>v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${u.type==="success"?"bg-green-500":u.type==="info"?"bg-blue-500":"bg-gray-400"}`}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-gray-900 font-medium",children:u.text}),v.jsx("p",{className:"text-sm text-gray-500",children:u.time})]})]},d))})]})]}),s&&v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Performance Overview"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-3",children:v.jsx(s2,{className:"h-8 w-8 text-white"})}),v.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[s.rating,"/5"]}),v.jsx("p",{className:"text-sm text-gray-500",children:"Overall Rating"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:v.jsx(uh,{className:"h-8 w-8 text-white"})}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.tasksCompleted}),v.jsx("p",{className:"text-sm text-gray-500",children:"Tasks Completed"})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3",children:v.jsx(kh,{className:"h-8 w-8 text-white"})}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"Excellent"}),v.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]})]}),v.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:[v.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Latest Feedback"}),v.jsx("p",{className:"text-blue-800",children:s.feedback})]})]})]})},fH=()=>{const{user:t}=ls(),[e,n]=te.useState(!1),[r,i]=te.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:"+1 (555) 123-4567",location:"San Francisco, CA",bio:"Passionate about technology and continuous learning. Currently working on improving my skills in React and TypeScript.",joinDate:"2024-01-15",skills:["React","TypeScript","JavaScript","CSS","Node.js"]}),s=()=>{n(!1),Ke.success("Profile updated successfully!")},o=()=>{n(!1),i({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:"+1 (555) 123-4567",location:"San Francisco, CA",bio:"Passionate about technology and continuous learning. Currently working on improving my skills in React and TypeScript.",joinDate:"2024-01-15",skills:["React","TypeScript","JavaScript","CSS","Node.js"]})};return v.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[v.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-32 translate-x-32"}),v.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-2xl flex items-center justify-center backdrop-blur-sm mr-6",children:v.jsx("span",{className:"text-2xl font-bold",children:r.name.split(" ").map(a=>a[0]).join("")})}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.name}),v.jsx("p",{className:"text-white/90 text-lg capitalize",children:t==null?void 0:t.role})]})]}),v.jsxs("button",{onClick:()=>n(!e),className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center",children:[v.jsx(lj,{className:"w-4 h-4 mr-2"}),e?"Cancel":"Edit Profile"]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Personal Information"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),e?v.jsx("input",{type:"text",value:r.name,onChange:a=>i({...r,name:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}):v.jsxs("div",{className:"flex items-center px-4 py-3 bg-gray-50 rounded-xl",children:[v.jsx(iw,{className:"w-5 h-5 text-gray-400 mr-3"}),v.jsx("span",{className:"text-gray-900",children:r.name})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e?v.jsx("input",{type:"email",value:r.email,onChange:a=>i({...r,email:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}):v.jsxs("div",{className:"flex items-center px-4 py-3 bg-gray-50 rounded-xl",children:[v.jsx(ij,{className:"w-5 h-5 text-gray-400 mr-3"}),v.jsx("span",{className:"text-gray-900",children:r.email})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone"}),e?v.jsx("input",{type:"tel",value:r.phone,onChange:a=>i({...r,phone:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}):v.jsxs("div",{className:"flex items-center px-4 py-3 bg-gray-50 rounded-xl",children:[v.jsx(ZE,{className:"w-5 h-5 text-gray-400 mr-3"}),v.jsx("span",{className:"text-gray-900",children:r.phone})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e?v.jsx("input",{type:"text",value:r.location,onChange:a=>i({...r,location:a.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}):v.jsxs("div",{className:"flex items-center px-4 py-3 bg-gray-50 rounded-xl",children:[v.jsx(XE,{className:"w-5 h-5 text-gray-400 mr-3"}),v.jsx("span",{className:"text-gray-900",children:r.location})]})]})]})]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"About"}),e?v.jsx("textarea",{value:r.bio,onChange:a=>i({...r,bio:a.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none"}):v.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.bio})]}),e&&v.jsxs("div",{className:"flex justify-end space-x-4",children:[v.jsxs("button",{onClick:o,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 font-semibold transition-colors duration-200 flex items-center",children:[v.jsx(ow,{className:"w-4 h-4 mr-2"}),"Cancel"]}),v.jsxs("button",{onClick:s,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 font-semibold transition-all duration-200 flex items-center",children:[v.jsx(eN,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Stats"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Join Date"}),v.jsxs("div",{className:"flex items-center text-gray-900",children:[v.jsx(Nh,{className:"w-4 h-4 mr-2"}),new Date(r.joinDate).toLocaleDateString()]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Role"}),v.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm font-medium capitalize",children:t==null?void 0:t.role})]})]})]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Skills"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:r.skills.map((a,l)=>v.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 rounded-full text-sm font-medium",children:a},l))})]})]})]})]})},pH=()=>{const[t,e]=te.useState(new Date),[n,r]=te.useState(null),[i,s]=te.useState(!1),[o,a]=te.useState(null),[l,c]=te.useState([{id:"1",title:"Team Meeting",date:"2024-03-20",time:"10:00",type:"meeting",attendees:5,location:"Conference Room A",description:"Weekly team sync meeting"},{id:"2",title:"Project Deadline",date:"2024-03-22",time:"17:00",type:"deadline",attendees:0,location:"Online",description:"React project submission deadline"},{id:"3",title:"Training Session",date:"2024-03-25",time:"14:00",type:"training",attendees:12,location:"Training Room",description:"Advanced JavaScript concepts"}]),[u,d]=te.useState({title:"",date:"",time:"09:00",type:"meeting",attendees:0,location:"",description:""}),g=S=>{const C=S.getFullYear(),L=S.getMonth(),k=new Date(C,L,1),j=new Date(C,L+1,0).getDate(),Q=k.getDay(),ae=[];for(let X=0;X<Q;X++)ae.push(null);for(let X=1;X<=j;X++)ae.push(new Date(C,L,X));return ae},p=S=>{switch(S){case"meeting":return"bg-blue-100 text-blue-700 border-blue-200";case"deadline":return"bg-red-100 text-red-700 border-red-200";case"training":return"bg-green-100 text-green-700 border-green-200";case"interview":return"bg-purple-100 text-purple-700 border-purple-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=g(t),x=["January","February","March","April","May","June","July","August","September","October","November","December"],N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y=S=>{e(new Date(t.getFullYear(),t.getMonth()+S,1))},w=S=>{if(S.preventDefault(),o)c(l.map(C=>C.id===o.id?{...u,id:o.id}:C)),Ke.success("Event updated successfully!");else{const C={...u,id:Date.now().toString()};c([...l,C]),Ke.success("Event created successfully!")}s(!1),a(null),F()},A=S=>{a(S),d({title:S.title,date:S.date,time:S.time,type:S.type,attendees:S.attendees,location:S.location,description:S.description||""}),s(!0)},D=S=>{c(l.filter(C=>C.id!==S)),Ke.success("Event deleted successfully!")},F=()=>{d({title:"",date:"",time:"09:00",type:"meeting",attendees:0,location:"",description:""})},U=S=>{const C=S.toISOString().split("T")[0];return l.filter(L=>L.date===C)},I=l.filter(S=>new Date(S.date)>=new Date).sort((S,C)=>new Date(S.date).getTime()-new Date(C.date).getTime()).slice(0,5);return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendar"}),v.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your schedule and events"})]}),v.jsxs("button",{onClick:()=>{a(null),F(),s(!0)},className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 flex items-center",children:[v.jsx(pp,{className:"w-4 h-4 mr-2"}),"Add Event"]})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[v.jsxs("div",{className:"lg:col-span-3 bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[x[t.getMonth()]," ",t.getFullYear()]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx("button",{onClick:()=>y(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200 font-bold text-lg",children:""}),v.jsx("button",{onClick:()=>e(new Date),className:"px-4 py-2 text-sm bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition-colors duration-200",children:"Today"}),v.jsx("button",{onClick:()=>y(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200 font-bold text-lg",children:""})]})]}),v.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:N.map(S=>v.jsx("div",{className:"p-3 text-center font-semibold text-gray-600 text-sm",children:S},S))}),v.jsx("div",{className:"grid grid-cols-7 gap-1",children:_.map((S,C)=>{const L=S?U(S):[],k=S&&S.toDateString()===new Date().toDateString(),P=n&&S&&S.toDateString()===n.toDateString();return v.jsx("div",{onClick:()=>S&&r(S),className:`min-h-[100px] p-2 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors duration-200 cursor-pointer ${k?"bg-indigo-50 border-indigo-200":""} ${P?"ring-2 ring-indigo-500":""}`,children:S&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:`font-semibold mb-1 ${k?"text-indigo-600":"text-gray-900"}`,children:S.getDate()}),v.jsxs("div",{className:"space-y-1",children:[L.slice(0,2).map(j=>v.jsx("div",{className:`text-xs p-1 rounded border cursor-pointer hover:opacity-80 ${p(j.type)}`,onClick:Q=>{Q.stopPropagation(),A(j)},children:j.title},j.id)),L.length>2&&v.jsxs("div",{className:"text-xs text-gray-500 font-medium",children:["+",L.length-2," more"]})]})]})},C)})})]}),v.jsx("div",{className:"space-y-6",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Upcoming Events"}),v.jsx("div",{className:"space-y-4",children:I.length>0?I.map(S=>v.jsx("div",{className:"border-l-4 border-indigo-500 pl-4 py-2",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-semibold text-gray-900",children:S.title}),v.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[v.jsx($f,{className:"w-4 h-4 mr-1"}),S.time]}),v.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[v.jsx(Nh,{className:"w-4 h-4 mr-1"}),new Date(S.date).toLocaleDateString()]}),S.attendees>0&&v.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[v.jsx(sw,{className:"w-4 h-4 mr-1"}),S.attendees," attendees"]}),v.jsxs("div",{className:"flex items-center text-sm text-gray-600 mt-1",children:[v.jsx(XE,{className:"w-4 h-4 mr-1"}),S.location]})]}),v.jsxs("div",{className:"flex space-x-1 ml-2",children:[v.jsx("button",{onClick:()=>A(S),className:"p-1 text-gray-400 hover:text-indigo-600 transition-colors duration-200",children:v.jsx(JE,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>D(S.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors duration-200",children:v.jsx(nN,{className:"w-4 h-4"})})]})]})},S.id)):v.jsx("p",{className:"text-gray-500 text-center py-4",children:"No upcoming events"})})]})})]}),v.jsx(Ji,{appear:!0,show:i,as:te.Fragment,children:v.jsxs(Xi,{as:"div",className:"relative z-10",onClose:()=>s(!1),children:[v.jsx(Ji.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),v.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:v.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:v.jsx(Ji.Child,{as:te.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:v.jsxs(Xi.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx(Xi.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:o?"Edit Event":"Add New Event"}),v.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600",children:v.jsx(ow,{className:"w-5 h-5"})})]}),v.jsxs("form",{onSubmit:w,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),v.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:u.title,onChange:S=>d({...u,title:S.target.value})})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),v.jsx("input",{type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:u.date,onChange:S=>d({...u,date:S.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),v.jsx("input",{type:"time",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:u.time,onChange:S=>d({...u,time:S.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),v.jsxs("select",{required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:u.type,onChange:S=>d({...u,type:S.target.value}),children:[v.jsx("option",{value:"meeting",children:"Meeting"}),v.jsx("option",{value:"deadline",children:"Deadline"}),v.jsx("option",{value:"training",children:"Training"}),v.jsx("option",{value:"interview",children:"Interview"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),v.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:u.location,onChange:S=>d({...u,location:S.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Attendees"}),v.jsx("input",{type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:u.attendees,onChange:S=>d({...u,attendees:parseInt(S.target.value)||0})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),v.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",value:u.description,onChange:S=>d({...u,description:S.target.value})})]}),v.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[v.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-lg hover:bg-indigo-700",children:o?"Update Event":"Create Event"})]})]})]})})})})]})})]})},gH=()=>{var C;const{user:t}=ls(),{interns:e,messages:n,chats:r,sendMessage:i,createChat:s,markMessagesAsRead:o}=mo(),[a,l]=te.useState(""),[c,u]=te.useState(""),[d,g]=te.useState(""),[p,_]=te.useState(!1),x=te.useRef(null),N=()=>{var L;(L=x.current)==null||L.scrollIntoView({behavior:"smooth"})};te.useEffect(()=>{N()},[n]);const y=r.filter(L=>L.participantIds.includes((t==null?void 0:t.id)||""));te.useEffect(()=>{y.length>0&&!a&&l(y[0].id)},[y,a]);const w=L=>{L.preventDefault(),c.trim()&&a&&t&&(i(a,c.trim(),t.id,t.name),u(""),Ke.success("Message sent!"))},A=L=>{if(!t)return;const k=e.find(P=>P.id===L);if(k){const P=r.find(j=>j.participantIds.includes(t.id)&&j.participantIds.includes(L));if(P)l(P.id),Ke.info("Chat already exists");else{const j=t.role==="admin"?["admin",L]:[t.id,"admin"],Q=t.role==="admin"?["Divyansh Pansari",k.name]:[t.name,"Divyansh Pansari"],ae=s(j,Q);l(ae),Ke.success(`Started chat with ${k.name}`)}}_(!1)},D=y.filter(L=>L.name.toLowerCase().includes(d.toLowerCase())),F=r.find(L=>L.id===a),U=n.filter(L=>L.chatId===a),I=L=>{l(L),t&&o(L,t.id)},S=(t==null?void 0:t.role)==="admin"?e:[];return v.jsxs("div",{className:"h-[calc(100vh-8rem)] flex bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[v.jsxs("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[v.jsxs("div",{className:"p-6 border-b border-gray-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),(t==null?void 0:t.role)==="admin"&&v.jsx("button",{onClick:()=>_(!0),className:"p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:v.jsx(pp,{className:"w-4 h-4"})})]}),v.jsxs("div",{className:"relative",children:[v.jsx(cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),v.jsx("input",{type:"text",placeholder:"Search conversations...",value:d,onChange:L=>g(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto",children:[D.map(L=>{const k=t&&L.unread[t.id]||0,P=L.participants.find(Q=>Q!==(t==null?void 0:t.name))||L.participants[0],j=P.split(" ").map(Q=>Q[0]).join("");return v.jsx("div",{onClick:()=>I(L.id),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors duration-200 ${a===L.id?"bg-indigo-50 border-r-4 border-r-indigo-500":""}`,children:v.jsxs("div",{className:"flex items-center",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:j}),v.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white rounded-full"})]}),v.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:P}),v.jsx("span",{className:"text-xs text-gray-500",children:L.time})]}),v.jsx("p",{className:"text-sm text-gray-500 truncate mt-1",children:L.lastMessage})]}),k>0&&v.jsx("div",{className:"ml-2 bg-indigo-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:k})]})},L.id)}),D.length===0&&v.jsx("div",{className:"p-8 text-center text-gray-500",children:v.jsx("p",{children:"No conversations found"})})]})]}),v.jsx("div",{className:"flex-1 flex flex-col",children:F?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:((C=F.participants.find(L=>L!==(t==null?void 0:t.name)))==null?void 0:C.split(" ").map(L=>L[0]).join(""))||"U"}),v.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 border-2 border-white rounded-full"})]}),v.jsxs("div",{className:"ml-3",children:[v.jsx("h2",{className:"font-semibold text-gray-900",children:F.participants.find(L=>L!==(t==null?void 0:t.name))||F.participants[0]}),v.jsx("p",{className:"text-sm text-gray-500",children:"Online"})]})]}),v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:v.jsx(ZE,{className:"w-5 h-5"})}),v.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:v.jsx(gj,{className:"w-5 h-5"})}),v.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:v.jsx(sj,{className:"w-5 h-5"})})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[U.length>0?U.map(L=>{const k=L.senderId===(t==null?void 0:t.id);return v.jsx("div",{className:`flex ${k?"justify-end":"justify-start"}`,children:v.jsxs("div",{className:"max-w-xs lg:max-w-md",children:[v.jsx("div",{className:`px-4 py-2 rounded-2xl ${k?"bg-gradient-to-r from-indigo-500 to-purple-600 text-white":"bg-gray-100 text-gray-900"}`,children:v.jsx("p",{className:"text-sm",children:L.content})}),v.jsx("p",{className:`text-xs mt-1 ${k?"text-right text-gray-500":"text-gray-500"}`,children:new Date(L.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},L.id)}):v.jsx("div",{className:"flex-1 flex items-center justify-center",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),v.jsx("p",{className:"text-sm",children:"Start a conversation!"})]})}),v.jsx("div",{ref:x})]}),v.jsx("div",{className:"p-6 border-t border-gray-200",children:v.jsxs("form",{onSubmit:w,className:"flex items-center space-x-3",children:[v.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:v.jsx(aj,{className:"w-5 h-5"})}),v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("input",{type:"text",value:c,onChange:L=>u(L.target.value),placeholder:"Type a message...",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),v.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 rounded transition-colors duration-200",children:v.jsx(dj,{className:"w-5 h-5"})})]}),v.jsx("button",{type:"submit",disabled:!c.trim(),className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-3 rounded-xl hover:from-indigo-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:v.jsx(uj,{className:"w-5 h-5"})})]})})]}):v.jsx("div",{className:"flex-1 flex items-center justify-center",children:v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx("p",{className:"text-lg font-medium",children:"Select a conversation"}),v.jsx("p",{className:"text-sm",children:"Choose a chat to start messaging"})]})})}),p&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Start New Chat"}),v.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:v.jsx(ow,{className:"w-5 h-5"})})]}),v.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:S.map(L=>v.jsxs("button",{onClick:()=>A(L.id),className:"w-full flex items-center p-3 hover:bg-gray-50 rounded-lg transition-colors duration-200",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold mr-3",children:L.name.split(" ").map(k=>k[0]).join("")}),v.jsxs("div",{className:"text-left",children:[v.jsx("p",{className:"font-medium text-gray-900",children:L.name}),v.jsx("p",{className:"text-sm text-gray-500",children:L.role})]})]},L.id))})]})})]})},mH=()=>{const{user:t,updatePassword:e}=ls(),{theme:n,setTheme:r}=mo(),[i,s]=te.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[o,a]=te.useState({current:!1,new:!1,confirm:!1}),l=u=>{r(u),Ke.success(`Theme changed to ${u}`)},c=async u=>{if(u.preventDefault(),i.newPassword&&i.newPassword!==i.confirmPassword){Ke.error("New passwords do not match");return}if(i.newPassword&&i.newPassword.length<6){Ke.error("Password must be at least 6 characters long");return}if(i.newPassword)if(await e(i.newPassword))Ke.success("Password updated successfully"),s(g=>({...g,currentPassword:"",newPassword:"",confirmPassword:""}));else{Ke.error("Failed to update password");return}else Ke.success("Profile updated successfully")};return v.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),v.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account preferences and settings"})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[v.jsx("div",{className:"lg:col-span-1",children:v.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 sticky top-8",children:v.jsxs("nav",{className:"space-y-2",children:[v.jsxs("a",{href:"#profile",className:"flex items-center px-4 py-3 text-indigo-600 bg-indigo-50 rounded-xl font-medium",children:[v.jsx(iw,{className:"w-5 h-5 mr-3"}),"Profile"]}),v.jsxs("a",{href:"#appearance",className:"flex items-center px-4 py-3 text-gray-700 hover:bg-gray-50 rounded-xl font-medium transition-colors duration-200",children:[v.jsx(oj,{className:"w-5 h-5 mr-3"}),"Appearance"]})]})})}),v.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[v.jsxs("div",{id:"profile",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Profile Settings"}),v.jsxs("form",{onSubmit:c,className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),v.jsx("input",{type:"text",value:i.name,onChange:u=>s(d=>({...d,name:u.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-gray-50",disabled:!0}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Name cannot be changed"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),v.jsx("input",{type:"email",value:i.email,onChange:u=>s(d=>({...d,email:u.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-gray-50",disabled:!0}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]})]}),v.jsxs("div",{className:"border-t pt-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Change Password"}),v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:o.new?"text":"password",value:i.newPassword,onChange:u=>s(d=>({...d,newPassword:u.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter new password"}),v.jsx("button",{type:"button",onClick:()=>a(u=>({...u,new:!u.new})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.new?v.jsx(o2,{className:"w-5 h-5"}):v.jsx(a2,{className:"w-5 h-5"})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:o.confirm?"text":"password",value:i.confirmPassword,onChange:u=>s(d=>({...d,confirmPassword:u.target.value})),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Confirm new password"}),v.jsx("button",{type:"button",onClick:()=>a(u=>({...u,confirm:!u.confirm})),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.confirm?v.jsx(o2,{className:"w-5 h-5"}):v.jsx(a2,{className:"w-5 h-5"})})]})]})]})})]}),v.jsx("div",{className:"flex justify-end",children:v.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 font-semibold transition-all duration-200 flex items-center",children:[v.jsx(eN,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]}),v.jsxs("div",{id:"appearance",className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Appearance"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Theme Preference"}),v.jsx("div",{className:"grid grid-cols-3 gap-4",children:["light","dark","system"].map(u=>v.jsxs("button",{onClick:()=>l(u),className:`p-4 border-2 rounded-xl flex flex-col items-center space-y-2 transition-all duration-200 capitalize ${n===u?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:[v.jsx("div",{className:`w-8 h-8 rounded-full ${u==="light"?"bg-yellow-400":u==="dark"?"bg-gray-800":"bg-gradient-to-r from-yellow-400 to-gray-800"}`}),v.jsx("span",{className:"font-medium",children:u})]},u))})]})]})]})]})]})},Yg=({children:t,requiredRole:e=null})=>{const{user:n,loading:r}=ls(),{loading:i}=mo();return r||i?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n?e&&n.role!==e?v.jsx(dx,{to:n.role==="admin"?"/":"/intern-dashboard"}):t:v.jsx(dx,{to:"/login"})};function vH(){const{user:t,loading:e}=ls();return e?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[v.jsx(XR,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#f9fafb",borderRadius:"12px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"}}}),v.jsxs(fx,{children:[v.jsx(Yr,{path:"/login",element:v.jsx(uH,{})}),v.jsx(Yr,{path:"/register",element:v.jsx(hH,{})}),v.jsx(Yr,{path:"/*",element:v.jsx(Yg,{children:v.jsxs("div",{className:"flex min-h-screen",children:[v.jsx(w9,{}),v.jsx("div",{className:"flex-1 overflow-hidden",children:v.jsx("div",{className:"h-full overflow-y-auto",children:v.jsx("div",{className:"p-8",children:v.jsxs(fx,{children:[v.jsx(Yr,{path:"/",element:v.jsx(oU,{})}),v.jsx(Yr,{path:"/interns",element:v.jsx(Yg,{requiredRole:"admin",children:v.jsx(nq,{})})}),v.jsx(Yr,{path:"/tasks",element:v.jsx(rq,{})}),v.jsx(Yr,{path:"/performance",element:v.jsx(iq,{})}),v.jsx(Yr,{path:"/reports",element:v.jsx(Yg,{requiredRole:"admin",children:v.jsx(lH,{})})}),v.jsx(Yr,{path:"/attendance",element:v.jsx(cH,{})}),v.jsx(Yr,{path:"/intern-dashboard",element:v.jsx(Yg,{requiredRole:"intern",children:v.jsx(dH,{})})}),v.jsx(Yr,{path:"/profile",element:v.jsx(fH,{})}),v.jsx(Yr,{path:"/calendar",element:v.jsx(pH,{})}),v.jsx(Yr,{path:"/messages",element:v.jsx(gH,{})}),v.jsx(Yr,{path:"/settings",element:v.jsx(mH,{})})]})})})})]})})})]})]})}function yH(){return v.jsx(y9,{children:v.jsx(nR,{children:v.jsx(sU,{children:v.jsx(vH,{})})})})}jE(document.getElementById("root")).render(v.jsx(te.StrictMode,{children:v.jsx(yH,{})}));export{Yt as _,K1 as c,DI as g};
